!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(g,e){var t=[],u=t.slice,f=t.concat,r=t.push,i=t.indexOf,a={},n=a.toString,S=a.hasOwnProperty,m={},y=g.document,l="2.1.1",P=function(e,t){return new P.fn.init(e,t)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,s=/^-ms-/,c=/-([\da-z])/gi,h=function(e,t){return t.toUpperCase()};function d(e){var t=e.length,a=P.type(e);return"function"!==a&&!P.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===a||0===t||"number"==typeof t&&0<t&&t-1 in e))}P.fn=P.prototype={jquery:l,constructor:P,selector:"",length:0,toArray:function(){return u.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:u.call(this)},pushStack:function(e){var t=P.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return P.each(this,e,t)},map:function(a){return this.pushStack(P.map(this,function(e,t){return a.call(e,t,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,a=+e+(e<0?t:0);return this.pushStack(0<=a&&a<t?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:r,sort:t.sort,splice:t.splice},P.extend=P.fn.extend=function(){var e,t,a,n,i,l,o=arguments[0]||{},r=1,s=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[r]||{},r++),"object"==typeof o||P.isFunction(o)||(o={}),r===s&&(o=this,r--);r<s;r++)if(null!=(e=arguments[r]))for(t in e)a=o[t],o!==(n=e[t])&&(c&&n&&(P.isPlainObject(n)||(i=P.isArray(n)))?(i?(i=!1,l=a&&P.isArray(a)?a:[]):l=a&&P.isPlainObject(a)?a:{},o[t]=P.extend(c,l,n)):void 0!==n&&(o[t]=n));return o},P.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===P.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!P.isArray(e)&&0<=e-parseFloat(e)},isPlainObject:function(e){return"object"===P.type(e)&&!e.nodeType&&!P.isWindow(e)&&!(e.constructor&&!S.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?a[n.call(e)]||"object":typeof e},globalEval:function(e){var t,a=eval;(e=P.trim(e))&&(1===e.indexOf("use strict")?((t=y.createElement("script")).text=e,y.head.appendChild(t).parentNode.removeChild(t)):a(e))},camelCase:function(e){return e.replace(s,"ms-").replace(c,h)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,a){var n=0,i=e.length,l=d(e);if(a){if(l)for(;n<i&&!1!==t.apply(e[n],a);n++);else for(n in e)if(!1===t.apply(e[n],a))break}else if(l)for(;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(o,"")},makeArray:function(e,t){var a=t||[];return null!=e&&(d(Object(e))?P.merge(a,"string"==typeof e?[e]:e):r.call(a,e)),a},inArray:function(e,t,a){return null==t?-1:i.call(t,e,a)},merge:function(e,t){for(var a=+t.length,n=0,i=e.length;n<a;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,a){for(var n=[],i=0,l=e.length,o=!a;i<l;i++)!t(e[i],i)!==o&&n.push(e[i]);return n},map:function(e,t,a){var n,i=0,l=e.length,o=[];if(d(e))for(;i<l;i++)null!=(n=t(e[i],i,a))&&o.push(n);else for(i in e)null!=(n=t(e[i],i,a))&&o.push(n);return f.apply([],o)},guid:1,proxy:function(e,t){var a,n,i;return"string"==typeof t&&(a=e[t],t=e,e=a),P.isFunction(e)?(n=u.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(u.call(arguments)))}).guid=e.guid=e.guid||P.guid++,i):void 0},now:Date.now,support:m}),P.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){a["[object "+t+"]"]=t.toLowerCase()});var p=function(a){var e,g,A,l,n,f,h,S,x,c,u,m,V,i,y,v,o,r,P,R="sizzle"+-new Date,T=a.document,k=0,d=0,s=ie(),p=ie(),M=ie(),D=function(e,t){return e===t&&(u=!0),0},b="undefined",L={}.hasOwnProperty,t=[],C=t.pop,O=t.push,B=t.push,I=t.slice,N=t.indexOf||function(e){for(var t=0,a=this.length;t<a;t++)if(this[t]===e)return t;return-1},w="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",G="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",H=F.replace("w","w#"),E="\\["+G+"*("+F+")(?:"+G+"*([*^$|!~]?=)"+G+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+G+"*\\]",z=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+E+")*)|.*)\\)|)",_=new RegExp("^"+G+"+|((?:^|[^\\\\])(?:\\\\.)*)"+G+"+$","g"),W=new RegExp("^"+G+"*,"+G+"*"),Y=new RegExp("^"+G+"*([>+~]|"+G+")"+G+"*"),X=new RegExp("="+G+"*([^\\]'\"]*?)"+G+"*\\]","g"),U=new RegExp(z),j=new RegExp("^"+H+"$"),q={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+E),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+G+"*(even|odd|(([+-]|)(\\d*)n|)"+G+"*(?:([+-]|)"+G+"*(\\d+)|))"+G+"*\\)|)","i"),bool:new RegExp("^(?:"+w+")$","i"),needsContext:new RegExp("^"+G+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+G+"*((?:-\\d)?\\d*)"+G+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+G+"?|("+G+")|.)","ig"),ae=function(e,t,a){var n="0x"+t-65536;return n!=n||a?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{B.apply(t=I.call(T.childNodes),T.childNodes),t[T.childNodes.length].nodeType}catch(e){B={apply:t.length?function(e,t){O.apply(e,I.call(t))}:function(e,t){for(var a=e.length,n=0;e[a++]=t[n++];);e.length=a-1}}}function ne(e,t,a,n){var i,l,o,r,s,c,u,h,d,p;if((t?t.ownerDocument||t:T)!==V&&m(t),a=a||[],!e||"string"!=typeof e)return a;if(1!==(r=(t=t||V).nodeType)&&9!==r)return[];if(y&&!n){if(i=Z.exec(e))if(o=i[1]){if(9===r){if(!(l=t.getElementById(o))||!l.parentNode)return a;if(l.id===o)return a.push(l),a}else if(t.ownerDocument&&(l=t.ownerDocument.getElementById(o))&&P(t,l)&&l.id===o)return a.push(l),a}else{if(i[2])return B.apply(a,t.getElementsByTagName(e)),a;if((o=i[3])&&g.getElementsByClassName&&t.getElementsByClassName)return B.apply(a,t.getElementsByClassName(o)),a}if(g.qsa&&(!v||!v.test(e))){if(h=u=R,d=t,p=9===r&&e,1===r&&"object"!==t.nodeName.toLowerCase()){for(c=f(e),(u=t.getAttribute("id"))?h=u.replace(ee,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",s=c.length;s--;)c[s]=h+ge(c[s]);d=Q.test(e)&&de(t.parentNode)||t,p=c.join(",")}if(p)try{return B.apply(a,d.querySelectorAll(p)),a}catch(e){}finally{u||t.removeAttribute("id")}}}return S(e.replace(_,"$1"),t,a,n)}function ie(){var n=[];return function e(t,a){return n.push(t+" ")>A.cacheLength&&delete e[n.shift()],e[t+" "]=a}}function le(e){return e[R]=!0,e}function oe(e){var t=V.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function re(e,t){for(var a=e.split("|"),n=e.length;n--;)A.attrHandle[a[n]]=t}function se(e,t){var a=t&&e,n=a&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(n)return n;if(a)for(;a=a.nextSibling;)if(a===t)return-1;return e?1:-1}function ce(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ue(a){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===a}}function he(o){return le(function(l){return l=+l,le(function(e,t){for(var a,n=o([],e.length,l),i=n.length;i--;)e[a=n[i]]&&(e[a]=!(t[a]=e[a]))})})}function de(e){return e&&typeof e.getElementsByTagName!==b&&e}for(e in g=ne.support={},n=ne.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},m=ne.setDocument=function(e){var t,s=e?e.ownerDocument||e:T,a=s.defaultView;return s!==V&&9===s.nodeType&&s.documentElement?(i=(V=s).documentElement,y=!n(s),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){m()},!1):a.attachEvent&&a.attachEvent("onunload",function(){m()})),g.attributes=oe(function(e){return e.className="i",!e.getAttribute("className")}),g.getElementsByTagName=oe(function(e){return e.appendChild(s.createComment("")),!e.getElementsByTagName("*").length}),g.getElementsByClassName=K.test(s.getElementsByClassName)&&oe(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),g.getById=oe(function(e){return i.appendChild(e).id=R,!s.getElementsByName||!s.getElementsByName(R).length}),g.getById?(A.find.ID=function(e,t){if(typeof t.getElementById!==b&&y){var a=t.getElementById(e);return a&&a.parentNode?[a]:[]}},A.filter.ID=function(e){var t=e.replace(te,ae);return function(e){return e.getAttribute("id")===t}}):(delete A.find.ID,A.filter.ID=function(e){var a=e.replace(te,ae);return function(e){var t=typeof e.getAttributeNode!==b&&e.getAttributeNode("id");return t&&t.value===a}}),A.find.TAG=g.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==b?t.getElementsByTagName(e):void 0}:function(e,t){var a,n=[],i=0,l=t.getElementsByTagName(e);if("*"===e){for(;a=l[i++];)1===a.nodeType&&n.push(a);return n}return l},A.find.CLASS=g.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==b&&y?t.getElementsByClassName(e):void 0},o=[],v=[],(g.qsa=K.test(s.querySelectorAll))&&(oe(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&v.push("[*^$]="+G+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+G+"*(?:value|"+w+")"),e.querySelectorAll(":checked").length||v.push(":checked")}),oe(function(e){var t=s.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+G+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(g.matchesSelector=K.test(r=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector))&&oe(function(e){g.disconnectedMatch=r.call(e,"div"),r.call(e,"[s!='']:x"),o.push("!=",z)}),v=v.length&&new RegExp(v.join("|")),o=o.length&&new RegExp(o.join("|")),t=K.test(i.compareDocumentPosition),P=t||K.test(i.contains)?function(e,t){var a=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(a.contains?a.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return u=!0,0;var a=!e.compareDocumentPosition-!t.compareDocumentPosition;return a||(1&(a=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===a?e===s||e.ownerDocument===T&&P(T,e)?-1:t===s||t.ownerDocument===T&&P(T,t)?1:c?N.call(c,e)-N.call(c,t):0:4&a?-1:1)}:function(e,t){if(e===t)return u=!0,0;var a,n=0,i=e.parentNode,l=t.parentNode,o=[e],r=[t];if(!i||!l)return e===s?-1:t===s?1:i?-1:l?1:c?N.call(c,e)-N.call(c,t):0;if(i===l)return se(e,t);for(a=e;a=a.parentNode;)o.unshift(a);for(a=t;a=a.parentNode;)r.unshift(a);for(;o[n]===r[n];)n++;return n?se(o[n],r[n]):o[n]===T?-1:r[n]===T?1:0},s):V},ne.matches=function(e,t){return ne(e,null,null,t)},ne.matchesSelector=function(e,t){if((e.ownerDocument||e)!==V&&m(e),t=t.replace(X,"='$1']"),!(!g.matchesSelector||!y||o&&o.test(t)||v&&v.test(t)))try{var a=r.call(e,t);if(a||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return a}catch(e){}return 0<ne(t,V,null,[e]).length},ne.contains=function(e,t){return(e.ownerDocument||e)!==V&&m(e),P(e,t)},ne.attr=function(e,t){(e.ownerDocument||e)!==V&&m(e);var a=A.attrHandle[t.toLowerCase()],n=a&&L.call(A.attrHandle,t.toLowerCase())?a(e,t,!y):void 0;return void 0!==n?n:g.attributes||!y?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},ne.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ne.uniqueSort=function(e){var t,a=[],n=0,i=0;if(u=!g.detectDuplicates,c=!g.sortStable&&e.slice(0),e.sort(D),u){for(;t=e[i++];)t===e[i]&&(n=a.push(i));for(;n--;)e.splice(a[n],1)}return c=null,e},l=ne.getText=function(e){var t,a="",n=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=l(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[n++];)a+=l(t);return a},(A=ne.selectors={cacheLength:50,createPseudo:le,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ae),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ae),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ne.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ne.error(e[0]),e},PSEUDO:function(e){var t,a=!e[6]&&e[2];return q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&U.test(a)&&(t=f(a,!0))&&(t=a.indexOf(")",a.length-t)-a.length)&&(e[0]=e[0].slice(0,t),e[2]=a.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ae).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=s[e+" "];return t||(t=new RegExp("(^|"+G+")"+e+"("+G+"|$)"))&&s(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==b&&e.getAttribute("class")||"")})},ATTR:function(a,n,i){return function(e){var t=ne.attr(e,a);return null==t?"!="===n:!n||(t+="","="===n?t===i:"!="===n?t!==i:"^="===n?i&&0===t.indexOf(i):"*="===n?i&&-1<t.indexOf(i):"$="===n?i&&t.slice(-i.length)===i:"~="===n?-1<(" "+t+" ").indexOf(i):"|="===n&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(p,e,t,g,f){var S="nth"!==p.slice(0,3),m="last"!==p.slice(-4),y="of-type"===e;return 1===g&&0===f?function(e){return!!e.parentNode}:function(e,t,a){var n,i,l,o,r,s,c=S!==m?"nextSibling":"previousSibling",u=e.parentNode,h=y&&e.nodeName.toLowerCase(),d=!a&&!y;if(u){if(S){for(;c;){for(l=e;l=l[c];)if(y?l.nodeName.toLowerCase()===h:1===l.nodeType)return!1;s=c="only"===p&&!s&&"nextSibling"}return!0}if(s=[m?u.firstChild:u.lastChild],m&&d){for(r=(n=(i=u[R]||(u[R]={}))[p]||[])[0]===k&&n[1],o=n[0]===k&&n[2],l=r&&u.childNodes[r];l=++r&&l&&l[c]||(o=r=0)||s.pop();)if(1===l.nodeType&&++o&&l===e){i[p]=[k,r,o];break}}else if(d&&(n=(e[R]||(e[R]={}))[p])&&n[0]===k)o=n[1];else for(;(l=++r&&l&&l[c]||(o=r=0)||s.pop())&&((y?l.nodeName.toLowerCase()!==h:1!==l.nodeType)||!++o||(d&&((l[R]||(l[R]={}))[p]=[k,o]),l!==e)););return(o-=f)===g||o%g==0&&0<=o/g}}},PSEUDO:function(e,l){var t,o=A.pseudos[e]||A.setFilters[e.toLowerCase()]||ne.error("unsupported pseudo: "+e);return o[R]?o(l):1<o.length?(t=[e,e,"",l],A.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){for(var a,n=o(e,l),i=n.length;i--;)e[a=N.call(e,n[i])]=!(t[a]=n[i])}):function(e){return o(e,0,t)}):o}},pseudos:{not:le(function(e){var n=[],i=[],r=h(e.replace(_,"$1"));return r[R]?le(function(e,t,a,n){for(var i,l=r(e,null,n,[]),o=e.length;o--;)(i=l[o])&&(e[o]=!(t[o]=i))}):function(e,t,a){return n[0]=e,r(n,null,a,i),!i.pop()}}),has:le(function(t){return function(e){return 0<ne(t,e).length}}),contains:le(function(t){return function(e){return-1<(e.textContent||e.innerText||l(e)).indexOf(t)}}),lang:le(function(a){return j.test(a||"")||ne.error("unsupported lang: "+a),a=a.replace(te,ae).toLowerCase(),function(e){var t;do{if(t=y?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===a||0===t.indexOf(a+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=a.location&&a.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===i},focus:function(e){return e===V.activeElement&&(!V.hasFocus||V.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!A.pseudos.empty(e)},header:function(e){return $.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,a){return[a<0?a+t:a]}),even:he(function(e,t){for(var a=0;a<t;a+=2)e.push(a);return e}),odd:he(function(e,t){for(var a=1;a<t;a+=2)e.push(a);return e}),lt:he(function(e,t,a){for(var n=a<0?a+t:a;0<=--n;)e.push(n);return e}),gt:he(function(e,t,a){for(var n=a<0?a+t:a;++n<t;)e.push(n);return e})}}).pseudos.nth=A.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[e]=ce(e);for(e in{submit:!0,reset:!0})A.pseudos[e]=ue(e);function pe(){}function ge(e){for(var t=0,a=e.length,n="";t<a;t++)n+=e[t].value;return n}function fe(o,e,t){var r=e.dir,s=t&&"parentNode"===r,c=d++;return e.first?function(e,t,a){for(;e=e[r];)if(1===e.nodeType||s)return o(e,t,a)}:function(e,t,a){var n,i,l=[k,c];if(a){for(;e=e[r];)if((1===e.nodeType||s)&&o(e,t,a))return!0}else for(;e=e[r];)if(1===e.nodeType||s){if((n=(i=e[R]||(e[R]={}))[r])&&n[0]===k&&n[1]===c)return l[2]=n[2];if((i[r]=l)[2]=o(e,t,a))return!0}}}function Se(i){return 1<i.length?function(e,t,a){for(var n=i.length;n--;)if(!i[n](e,t,a))return!1;return!0}:i[0]}function me(e,t,a,n,i){for(var l,o=[],r=0,s=e.length,c=null!=t;r<s;r++)(l=e[r])&&(!a||a(l,n,i))&&(o.push(l),c&&t.push(r));return o}function ye(p,g,f,S,m,e){return S&&!S[R]&&(S=ye(S)),m&&!m[R]&&(m=ye(m,e)),le(function(e,t,a,n){var i,l,o,r=[],s=[],c=t.length,u=e||function(e,t,a){for(var n=0,i=t.length;n<i;n++)ne(e,t[n],a);return a}(g||"*",a.nodeType?[a]:a,[]),h=!p||!e&&g?u:me(u,r,p,a,n),d=f?m||(e?p:c||S)?[]:t:h;if(f&&f(h,d,a,n),S)for(i=me(d,s),S(i,[],a,n),l=i.length;l--;)(o=i[l])&&(d[s[l]]=!(h[s[l]]=o));if(e){if(m||p){if(m){for(i=[],l=d.length;l--;)(o=d[l])&&i.push(h[l]=o);m(null,d=[],i,n)}for(l=d.length;l--;)(o=d[l])&&-1<(i=m?N.call(e,o):r[l])&&(e[i]=!(t[i]=o))}}else d=me(d===t?d.splice(c,d.length):d),m?m(null,t,d,n):B.apply(t,d)})}function ve(e){for(var n,t,a,i=e.length,l=A.relative[e[0].type],o=l||A.relative[" "],r=l?1:0,s=fe(function(e){return e===n},o,!0),c=fe(function(e){return-1<N.call(n,e)},o,!0),u=[function(e,t,a){return!l&&(a||t!==x)||((n=t).nodeType?s(e,t,a):c(e,t,a))}];r<i;r++)if(t=A.relative[e[r].type])u=[fe(Se(u),t)];else{if((t=A.filter[e[r].type].apply(null,e[r].matches))[R]){for(a=++r;a<i&&!A.relative[e[a].type];a++);return ye(1<r&&Se(u),1<r&&ge(e.slice(0,r-1).concat({value:" "===e[r-2].type?"*":""})).replace(_,"$1"),t,r<a&&ve(e.slice(r,a)),a<i&&ve(e=e.slice(a)),a<i&&ge(e))}u.push(t)}return Se(u)}return pe.prototype=A.filters=A.pseudos,A.setFilters=new pe,f=ne.tokenize=function(e,t){var a,n,i,l,o,r,s,c=p[e+" "];if(c)return t?0:c.slice(0);for(o=e,r=[],s=A.preFilter;o;){for(l in(!a||(n=W.exec(o)))&&(n&&(o=o.slice(n[0].length)||o),r.push(i=[])),a=!1,(n=Y.exec(o))&&(a=n.shift(),i.push({value:a,type:n[0].replace(_," ")}),o=o.slice(a.length)),A.filter)!(n=q[l].exec(o))||s[l]&&!(n=s[l](n))||(a=n.shift(),i.push({value:a,type:l,matches:n}),o=o.slice(a.length));if(!a)break}return t?o.length:o?ne.error(e):p(e,r).slice(0)},h=ne.compile=function(e,t){var a,S,m,y,v,n,i=[],l=[],o=M[e+" "];if(!o){for(t||(t=f(e)),a=t.length;a--;)(o=ve(t[a]))[R]?i.push(o):l.push(o);(o=M(e,(S=l,y=0<(m=i).length,v=0<S.length,n=function(e,t,a,n,i){var l,o,r,s=0,c="0",u=e&&[],h=[],d=x,p=e||v&&A.find.TAG("*",i),g=k+=null==d?1:Math.random()||.1,f=p.length;for(i&&(x=t!==V&&t);c!==f&&null!=(l=p[c]);c++){if(v&&l){for(o=0;r=S[o++];)if(r(l,t,a)){n.push(l);break}i&&(k=g)}y&&((l=!r&&l)&&s--,e&&u.push(l))}if(s+=c,y&&c!==s){for(o=0;r=m[o++];)r(u,h,t,a);if(e){if(0<s)for(;c--;)u[c]||h[c]||(h[c]=C.call(n));h=me(h)}B.apply(n,h),i&&!e&&0<h.length&&1<s+m.length&&ne.uniqueSort(n)}return i&&(k=g,x=d),u},y?le(n):n))).selector=e}return o},S=ne.select=function(e,t,a,n){var i,l,o,r,s,c="function"==typeof e&&e,u=!n&&f(e=c.selector||e);if(a=a||[],1===u.length){if(2<(l=u[0]=u[0].slice(0)).length&&"ID"===(o=l[0]).type&&g.getById&&9===t.nodeType&&y&&A.relative[l[1].type]){if(!(t=(A.find.ID(o.matches[0].replace(te,ae),t)||[])[0]))return a;c&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=q.needsContext.test(e)?0:l.length;i--&&(o=l[i],!A.relative[r=o.type]);)if((s=A.find[r])&&(n=s(o.matches[0].replace(te,ae),Q.test(l[0].type)&&de(t.parentNode)||t))){if(l.splice(i,1),!(e=n.length&&ge(l)))return B.apply(a,n),a;break}}return(c||h(e,u))(n,t,!y,a,Q.test(e)&&de(t.parentNode)||t),a},g.sortStable=R.split("").sort(D).join("")===R,g.detectDuplicates=!!u,m(),g.sortDetached=oe(function(e){return 1&e.compareDocumentPosition(V.createElement("div"))}),oe(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||re("type|href|height|width",function(e,t,a){return a?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),g.attributes&&oe(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||re("value",function(e,t,a){return a||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),oe(function(e){return null==e.getAttribute("disabled")})||re(w,function(e,t,a){var n;return a?void 0:!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),ne}(g);P.find=p,P.expr=p.selectors,P.expr[":"]=P.expr.pseudos,P.unique=p.uniqueSort,P.text=p.getText,P.isXMLDoc=p.isXML,P.contains=p.contains;var v=P.expr.match.needsContext,A=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,x=/^.[^:#\[\.,]*$/;function V(e,a,n){if(P.isFunction(a))return P.grep(e,function(e,t){return!!a.call(e,t,e)!==n});if(a.nodeType)return P.grep(e,function(e){return e===a!==n});if("string"==typeof a){if(x.test(a))return P.filter(a,e,n);a=P.filter(a,e)}return P.grep(e,function(e){return 0<=i.call(a,e)!==n})}P.filter=function(e,t,a){var n=t[0];return a&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?P.find.matchesSelector(n,e)?[n]:[]:P.find.matches(e,P.grep(t,function(e){return 1===e.nodeType}))},P.fn.extend({find:function(e){var t,a=this.length,n=[],i=this;if("string"!=typeof e)return this.pushStack(P(e).filter(function(){for(t=0;t<a;t++)if(P.contains(i[t],this))return!0}));for(t=0;t<a;t++)P.find(e,i[t],n);return(n=this.pushStack(1<a?P.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(V(this,e||[],!1))},not:function(e){return this.pushStack(V(this,e||[],!0))},is:function(e){return!!V(this,"string"==typeof e&&v.test(e)?P(e):e||[],!1).length}});var R,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(P.fn.init=function(e,t){var a,n;if(!e)return this;if("string"==typeof e){if(!(a="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:T.exec(e))||!a[1]&&t)return!t||t.jquery?(t||R).find(e):this.constructor(t).find(e);if(a[1]){if(t=t instanceof P?t[0]:t,P.merge(this,P.parseHTML(a[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),A.test(a[1])&&P.isPlainObject(t))for(a in t)P.isFunction(this[a])?this[a](t[a]):this.attr(a,t[a]);return this}return(n=y.getElementById(a[2]))&&n.parentNode&&(this.length=1,this[0]=n),this.context=y,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):P.isFunction(e)?void 0!==R.ready?R.ready(e):e(P):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),P.makeArray(e,this))}).prototype=P.fn,R=P(y);var k=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function D(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}P.extend({dir:function(e,t,a){for(var n=[],i=void 0!==a;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&P(e).is(a))break;n.push(e)}return n},sibling:function(e,t){for(var a=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&a.push(e);return a}}),P.fn.extend({has:function(e){var t=P(e,this),a=t.length;return this.filter(function(){for(var e=0;e<a;e++)if(P.contains(this,t[e]))return!0})},closest:function(e,t){for(var a,n=0,i=this.length,l=[],o=v.test(e)||"string"!=typeof e?P(e,t||this.context):0;n<i;n++)for(a=this[n];a&&a!==t;a=a.parentNode)if(a.nodeType<11&&(o?-1<o.index(a):1===a.nodeType&&P.find.matchesSelector(a,e))){l.push(a);break}return this.pushStack(1<l.length?P.unique(l):l)},index:function(e){return e?"string"==typeof e?i.call(P(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(P.unique(P.merge(this.get(),P(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),P.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return P.dir(e,"parentNode")},parentsUntil:function(e,t,a){return P.dir(e,"parentNode",a)},next:function(e){return D(e,"nextSibling")},prev:function(e){return D(e,"previousSibling")},nextAll:function(e){return P.dir(e,"nextSibling")},prevAll:function(e){return P.dir(e,"previousSibling")},nextUntil:function(e,t,a){return P.dir(e,"nextSibling",a)},prevUntil:function(e,t,a){return P.dir(e,"previousSibling",a)},siblings:function(e){return P.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return P.sibling(e.firstChild)},contents:function(e){return e.contentDocument||P.merge([],e.childNodes)}},function(n,i){P.fn[n]=function(e,t){var a=P.map(this,i,e);return"Until"!==n.slice(-5)&&(t=e),t&&"string"==typeof t&&(a=P.filter(t,a)),1<this.length&&(M[n]||P.unique(a),k.test(n)&&a.reverse()),this.pushStack(a)}});var b,L=/\S+/g,C={};function O(){y.removeEventListener("DOMContentLoaded",O,!1),g.removeEventListener("load",O,!1),P.ready()}P.Callbacks=function(i){var e,a;i="string"==typeof i?C[i]||(a=C[e=i]={},P.each(e.match(L)||[],function(e,t){a[t]=!0}),a):P.extend({},i);var t,n,l,o,r,s,c=[],u=!i.once&&[],h=function(e){for(t=i.memory&&e,n=!0,s=o||0,o=0,r=c.length,l=!0;c&&s<r;s++)if(!1===c[s].apply(e[0],e[1])&&i.stopOnFalse){t=!1;break}l=!1,c&&(u?u.length&&h(u.shift()):t?c=[]:d.disable())},d={add:function(){if(c){var e=c.length;!function n(e){P.each(e,function(e,t){var a=P.type(t);"function"===a?i.unique&&d.has(t)||c.push(t):t&&t.length&&"string"!==a&&n(t)})}(arguments),l?r=c.length:t&&(o=e,h(t))}return this},remove:function(){return c&&P.each(arguments,function(e,t){for(var a;-1<(a=P.inArray(t,c,a));)c.splice(a,1),l&&(a<=r&&r--,a<=s&&s--)}),this},has:function(e){return e?-1<P.inArray(e,c):!(!c||!c.length)},empty:function(){return c=[],r=0,this},disable:function(){return c=u=t=void 0,this},disabled:function(){return!c},lock:function(){return u=void 0,t||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||n&&!u||(t=[e,(t=t||[]).slice?t.slice():t],l?u.push(t):h(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},P.extend({Deferred:function(e){var l=[["resolve","done",P.Callbacks("once memory"),"resolved"],["reject","fail",P.Callbacks("once memory"),"rejected"],["notify","progress",P.Callbacks("memory")]],i="pending",o={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var i=arguments;return P.Deferred(function(n){P.each(l,function(e,t){var a=P.isFunction(i[e])&&i[e];r[t[1]](function(){var e=a&&a.apply(this,arguments);e&&P.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[t[0]+"With"](this===o?n.promise():this,a?[e]:arguments)})}),i=null}).promise()},promise:function(e){return null!=e?P.extend(e,o):o}},r={};return o.pipe=o.then,P.each(l,function(e,t){var a=t[2],n=t[3];o[t[1]]=a.add,n&&a.add(function(){i=n},l[1^e][2].disable,l[2][2].lock),r[t[0]]=function(){return r[t[0]+"With"](this===r?o:this,arguments),this},r[t[0]+"With"]=a.fireWith}),o.promise(r),e&&e.call(r,r),r},when:function(e){var i,t,a,n=0,l=u.call(arguments),o=l.length,r=1!==o||e&&P.isFunction(e.promise)?o:0,s=1===r?e:P.Deferred(),c=function(t,a,n){return function(e){a[t]=this,n[t]=1<arguments.length?u.call(arguments):e,n===i?s.notifyWith(a,n):--r||s.resolveWith(a,n)}};if(1<o)for(i=new Array(o),t=new Array(o),a=new Array(o);n<o;n++)l[n]&&P.isFunction(l[n].promise)?l[n].promise().done(c(n,a,l)).fail(s.reject).progress(c(n,t,i)):--r;return r||s.resolveWith(a,l),s.promise()}}),P.fn.ready=function(e){return P.ready.promise().done(e),this},P.extend({isReady:!1,readyWait:1,holdReady:function(e){e?P.readyWait++:P.ready(!0)},ready:function(e){(!0===e?--P.readyWait:P.isReady)||((P.isReady=!0)!==e&&0<--P.readyWait||(b.resolveWith(y,[P]),P.fn.triggerHandler&&(P(y).triggerHandler("ready"),P(y).off("ready"))))}}),P.ready.promise=function(e){return b||(b=P.Deferred(),"complete"===y.readyState?setTimeout(P.ready):(y.addEventListener("DOMContentLoaded",O,!1),g.addEventListener("load",O,!1))),b.promise(e)},P.ready.promise();var B=P.access=function(e,t,a,n,i,l,o){var r=0,s=e.length,c=null==a;if("object"===P.type(a))for(r in i=!0,a)P.access(e,t,r,a[r],!0,l,o);else if(void 0!==n&&(i=!0,P.isFunction(n)||(o=!0),c&&(o?(t.call(e,n),t=null):(c=t,t=function(e,t,a){return c.call(P(e),a)})),t))for(;r<s;r++)t(e[r],a,o?n:n.call(e[r],r,t(e[r],a)));return i?e:c?t.call(e):s?t(e[0],a):l};function I(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=P.expando+Math.random()}P.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},I.uid=1,I.accepts=P.acceptData,I.prototype={key:function(t){if(!I.accepts(t))return 0;var a={},n=t[this.expando];if(!n){n=I.uid++;try{a[this.expando]={value:n},Object.defineProperties(t,a)}catch(e){a[this.expando]=n,P.extend(t,a)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,a){var n,i=this.key(e),l=this.cache[i];if("string"==typeof t)l[t]=a;else if(P.isEmptyObject(l))P.extend(this.cache[i],t);else for(n in t)l[n]=t[n];return l},get:function(e,t){var a=this.cache[this.key(e)];return void 0===t?a:a[t]},access:function(e,t,a){var n;return void 0===t||t&&"string"==typeof t&&void 0===a?void 0!==(n=this.get(e,t))?n:this.get(e,P.camelCase(t)):(this.set(e,t,a),void 0!==a?a:t)},remove:function(e,t){var a,n,i,l=this.key(e),o=this.cache[l];if(void 0===t)this.cache[l]={};else{P.isArray(t)?n=t.concat(t.map(P.camelCase)):(i=P.camelCase(t),t in o?n=[t,i]:n=(n=i)in o?[n]:n.match(L)||[]),a=n.length;for(;a--;)delete o[n[a]]}},hasData:function(e){return!P.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var N=new I,w=new I,G=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,F=/([A-Z])/g;function H(e,t,a){var n;if(void 0===a&&1===e.nodeType)if(n="data-"+t.replace(F,"-$1").toLowerCase(),"string"==typeof(a=e.getAttribute(n))){try{a="true"===a||"false"!==a&&("null"===a?null:+a+""===a?+a:G.test(a)?P.parseJSON(a):a)}catch(e){}w.set(e,t,a)}else a=void 0;return a}P.extend({hasData:function(e){return w.hasData(e)||N.hasData(e)},data:function(e,t,a){return w.access(e,t,a)},removeData:function(e,t){w.remove(e,t)},_data:function(e,t,a){return N.access(e,t,a)},_removeData:function(e,t){N.remove(e,t)}}),P.fn.extend({data:function(n,e){var t,a,i,l=this[0],o=l&&l.attributes;if(void 0===n){if(this.length&&(i=w.get(l),1===l.nodeType&&!N.get(l,"hasDataAttrs"))){for(t=o.length;t--;)o[t]&&(0===(a=o[t].name).indexOf("data-")&&(a=P.camelCase(a.slice(5)),H(l,a,i[a])));N.set(l,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){w.set(this,n)}):B(this,function(t){var e,a=P.camelCase(n);if(l&&void 0===t){if(void 0!==(e=w.get(l,n)))return e;if(void 0!==(e=w.get(l,a)))return e;if(void 0!==(e=H(l,a,void 0)))return e}else this.each(function(){var e=w.get(this,a);w.set(this,a,t),-1!==n.indexOf("-")&&void 0!==e&&w.set(this,n,t)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){w.remove(this,e)})}}),P.extend({queue:function(e,t,a){var n;return e?(t=(t||"fx")+"queue",n=N.get(e,t),a&&(!n||P.isArray(a)?n=N.access(e,t,P.makeArray(a)):n.push(a)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var a=P.queue(e,t),n=a.length,i=a.shift(),l=P._queueHooks(e,t);"inprogress"===i&&(i=a.shift(),n--),i&&("fx"===t&&a.unshift("inprogress"),delete l.stop,i.call(e,function(){P.dequeue(e,t)},l)),!n&&l&&l.empty.fire()},_queueHooks:function(e,t){var a=t+"queueHooks";return N.get(e,a)||N.access(e,a,{empty:P.Callbacks("once memory").add(function(){N.remove(e,[t+"queue",a])})})}}),P.fn.extend({queue:function(t,a){var e=2;return"string"!=typeof t&&(a=t,t="fx",e--),arguments.length<e?P.queue(this[0],t):void 0===a?this:this.each(function(){var e=P.queue(this,t,a);P._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&P.dequeue(this,t)})},dequeue:function(e){return this.each(function(){P.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var a,n=1,i=P.Deferred(),l=this,o=this.length,r=function(){--n||i.resolveWith(l,[l])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(a=N.get(l[o],e+"queueHooks"))&&a.empty&&(n++,a.empty.add(r));return r(),i.promise(t)}});var E,z,_=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,W=["Top","Right","Bottom","Left"],Y=function(e,t){return e=t||e,"none"===P.css(e,"display")||!P.contains(e.ownerDocument,e)},X=/^(?:checkbox|radio)$/i;E=y.createDocumentFragment().appendChild(y.createElement("div")),(z=y.createElement("input")).setAttribute("type","radio"),z.setAttribute("checked","checked"),z.setAttribute("name","t"),E.appendChild(z),m.checkClone=E.cloneNode(!0).cloneNode(!0).lastChild.checked,E.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!E.cloneNode(!0).lastChild.defaultValue;var U="undefined";m.focusinBubbles="onfocusin"in g;var j=/^key/,q=/^(?:mouse|pointer|contextmenu)|click/,J=/^(?:focusinfocus|focusoutblur)$/,$=/^([^.]*)(?:\.(.+)|)$/;function K(){return!0}function Z(){return!1}function Q(){try{return y.activeElement}catch(e){}}P.event={global:{},add:function(t,e,a,n,i){var l,o,r,s,c,u,h,d,p,g,f,S=N.get(t);if(S)for(a.handler&&(a=(l=a).handler,i=l.selector),a.guid||(a.guid=P.guid++),(s=S.events)||(s=S.events={}),(o=S.handle)||(o=S.handle=function(e){return typeof P!==U&&P.event.triggered!==e.type?P.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(L)||[""]).length;c--;)p=f=(r=$.exec(e[c])||[])[1],g=(r[2]||"").split(".").sort(),p&&(h=P.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=P.event.special[p]||{},u=P.extend({type:p,origType:f,data:n,handler:a,guid:a.guid,selector:i,needsContext:i&&P.expr.match.needsContext.test(i),namespace:g.join(".")},l),(d=s[p])||((d=s[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,n,g,o)||t.addEventListener&&t.addEventListener(p,o,!1)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=a.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),P.event.global[p]=!0)},remove:function(e,t,a,n,i){var l,o,r,s,c,u,h,d,p,g,f,S=N.hasData(e)&&N.get(e);if(S&&(s=S.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(p=f=(r=$.exec(t[c])||[])[1],g=(r[2]||"").split(".").sort(),p){for(h=P.event.special[p]||{},d=s[p=(n?h.delegateType:h.bindType)||p]||[],r=r[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=l=d.length;l--;)u=d[l],!i&&f!==u.origType||a&&a.guid!==u.guid||r&&!r.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(d.splice(l,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));o&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,g,S.handle)||P.removeEvent(e,p,S.handle),delete s[p])}else for(p in s)P.event.remove(e,p+t[c],a,n,!0);P.isEmptyObject(s)&&(delete S.handle,N.remove(e,"events"))}},trigger:function(e,t,a,n){var i,l,o,r,s,c,u,h=[a||y],d=S.call(e,"type")?e.type:e,p=S.call(e,"namespace")?e.namespace.split("."):[];if(l=o=a=a||y,3!==a.nodeType&&8!==a.nodeType&&!J.test(d+P.event.triggered)&&(0<=d.indexOf(".")&&(d=(p=d.split(".")).shift(),p.sort()),s=d.indexOf(":")<0&&"on"+d,(e=e[P.expando]?e:new P.Event(d,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=a),t=null==t?[e]:P.makeArray(t,[e]),u=P.event.special[d]||{},n||!u.trigger||!1!==u.trigger.apply(a,t))){if(!n&&!u.noBubble&&!P.isWindow(a)){for(r=u.delegateType||d,J.test(r+d)||(l=l.parentNode);l;l=l.parentNode)h.push(l),o=l;o===(a.ownerDocument||y)&&h.push(o.defaultView||o.parentWindow||g)}for(i=0;(l=h[i++])&&!e.isPropagationStopped();)e.type=1<i?r:u.bindType||d,(c=(N.get(l,"events")||{})[e.type]&&N.get(l,"handle"))&&c.apply(l,t),(c=s&&l[s])&&c.apply&&P.acceptData(l)&&(e.result=c.apply(l,t),!1===e.result&&e.preventDefault());return e.type=d,n||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(h.pop(),t)||!P.acceptData(a)||s&&P.isFunction(a[d])&&!P.isWindow(a)&&((o=a[s])&&(a[s]=null),a[P.event.triggered=d](),P.event.triggered=void 0,o&&(a[s]=o)),e.result}},dispatch:function(e){e=P.event.fix(e);var t,a,n,i,l,o=[],r=u.call(arguments),s=(N.get(this,"events")||{})[e.type]||[],c=P.event.special[e.type]||{};if((r[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(o=P.event.handlers.call(this,e,s),t=0;(i=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,a=0;(l=i.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(l.namespace))&&(e.handleObj=l,e.data=l.data,void 0!==(n=((P.event.special[l.origType]||{}).handle||l.handler).apply(i.elem,r))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var a,n,i,l,o=[],r=t.delegateCount,s=e.target;if(r&&s.nodeType&&(!e.button||"click"!==e.type))for(;s!==this;s=s.parentNode||this)if(!0!==s.disabled||"click"!==e.type){for(n=[],a=0;a<r;a++)void 0===n[i=(l=t[a]).selector+" "]&&(n[i]=l.needsContext?0<=P(i,this).index(s):P.find(i,this,null,[s]).length),n[i]&&n.push(l);n.length&&o.push({elem:s,handlers:n})}return r<t.length&&o.push({elem:this,handlers:t.slice(r)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var a,n,i,l=t.button;return null==e.pageX&&null!=t.clientX&&(n=(a=e.target.ownerDocument||y).documentElement,i=a.body,e.pageX=t.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),e.which||void 0===l||(e.which=1&l?1:2&l?3:4&l?2:0),e}},fix:function(e){if(e[P.expando])return e;var t,a,n,i=e.type,l=e,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=q.test(i)?this.mouseHooks:j.test(i)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new P.Event(l),t=n.length;t--;)e[a=n[t]]=l[a];return e.target||(e.target=y),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,l):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==Q()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===Q()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&P.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return P.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,a,n){var i=P.extend(new P.Event,a,{type:e,isSimulated:!0,originalEvent:{}});n?P.event.trigger(i,null,t):P.event.dispatch.call(t,i),i.isDefaultPrevented()&&a.preventDefault()}},P.removeEvent=function(e,t,a){e.removeEventListener&&e.removeEventListener(t,a,!1)},P.Event=function(e,t){return this instanceof P.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?K:Z):this.type=e,t&&P.extend(this,t),this.timeStamp=e&&e.timeStamp||P.now(),void(this[P.expando]=!0)):new P.Event(e,t)},P.Event.prototype={isDefaultPrevented:Z,isPropagationStopped:Z,isImmediatePropagationStopped:Z,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=K,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=K,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=K,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){P.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,a=e.relatedTarget,n=e.handleObj;return(!a||a!==this&&!P.contains(this,a))&&(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=i),t}}}),m.focusinBubbles||P.each({focus:"focusin",blur:"focusout"},function(a,n){var i=function(e){P.event.simulate(n,e.target,P.event.fix(e),!0)};P.event.special[n]={setup:function(){var e=this.ownerDocument||this,t=N.access(e,n);t||e.addEventListener(a,i,!0),N.access(e,n,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=N.access(e,n)-1;t?N.access(e,n,t):(e.removeEventListener(a,i,!0),N.remove(e,n))}}}),P.fn.extend({on:function(e,t,a,n,i){var l,o;if("object"==typeof e){for(o in"string"!=typeof t&&(a=a||t,t=void 0),e)this.on(o,t,a,e[o],i);return this}if(null==a&&null==n?(n=t,a=t=void 0):null==n&&("string"==typeof t?(n=a,a=void 0):(n=a,a=t,t=void 0)),!1===n)n=Z;else if(!n)return this;return 1===i&&(l=n,(n=function(e){return P().off(e),l.apply(this,arguments)}).guid=l.guid||(l.guid=P.guid++)),this.each(function(){P.event.add(this,e,n,a,t)})},one:function(e,t,a,n){return this.on(e,t,a,n,1)},off:function(e,t,a){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,P(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||"function"==typeof t)&&(a=t,t=void 0),!1===a&&(a=Z),this.each(function(){P.event.remove(this,e,a,t)})},trigger:function(e,t){return this.each(function(){P.event.trigger(e,t,this)})},triggerHandler:function(e,t){var a=this[0];return a?P.event.trigger(e,t,a,!0):void 0}});var ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,te=/<([\w:]+)/,ae=/<|&#?\w+;/,ne=/<(?:script|style|link)/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,le=/^$|\/(?:java|ecma)script/i,oe=/^true\/(.*)/,re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,se={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ce(e,t){return P.nodeName(e,"table")&&P.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function he(e){var t=oe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function de(e,t){for(var a=0,n=e.length;a<n;a++)N.set(e[a],"globalEval",!t||N.get(t[a],"globalEval"))}function pe(e,t){var a,n,i,l,o,r,s,c;if(1===t.nodeType){if(N.hasData(e)&&(l=N.access(e),o=N.set(t,l),c=l.events))for(i in delete o.handle,o.events={},c)for(a=0,n=c[i].length;a<n;a++)P.event.add(t,i,c[i][a]);w.hasData(e)&&(r=w.access(e),s=P.extend({},r),w.set(t,s))}}function ge(e,t){var a=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&P.nodeName(e,t)?P.merge([e],a):a}se.optgroup=se.option,se.tbody=se.tfoot=se.colgroup=se.caption=se.thead,se.th=se.td,P.extend({clone:function(e,t,a){var n,i,l,o,r,s,c,u=e.cloneNode(!0),h=P.contains(e.ownerDocument,e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||P.isXMLDoc(e)))for(o=ge(u),n=0,i=(l=ge(e)).length;n<i;n++)r=l[n],s=o[n],void 0,"input"===(c=s.nodeName.toLowerCase())&&X.test(r.type)?s.checked=r.checked:("input"===c||"textarea"===c)&&(s.defaultValue=r.defaultValue);if(t)if(a)for(l=l||ge(e),o=o||ge(u),n=0,i=l.length;n<i;n++)pe(l[n],o[n]);else pe(e,u);return 0<(o=ge(u,"script")).length&&de(o,!h&&ge(e,"script")),u},buildFragment:function(e,t,a,n){for(var i,l,o,r,s,c,u=t.createDocumentFragment(),h=[],d=0,p=e.length;d<p;d++)if((i=e[d])||0===i)if("object"===P.type(i))P.merge(h,i.nodeType?[i]:i);else if(ae.test(i)){for(l=l||u.appendChild(t.createElement("div")),o=(te.exec(i)||["",""])[1].toLowerCase(),r=se[o]||se._default,l.innerHTML=r[1]+i.replace(ee,"<$1></$2>")+r[2],c=r[0];c--;)l=l.lastChild;P.merge(h,l.childNodes),(l=u.firstChild).textContent=""}else h.push(t.createTextNode(i));for(u.textContent="",d=0;i=h[d++];)if((!n||-1===P.inArray(i,n))&&(s=P.contains(i.ownerDocument,i),l=ge(u.appendChild(i),"script"),s&&de(l),a))for(c=0;i=l[c++];)le.test(i.type||"")&&a.push(i);return u},cleanData:function(e){for(var t,a,n,i,l=P.event.special,o=0;void 0!==(a=e[o]);o++){if(P.acceptData(a)&&((i=a[N.expando])&&(t=N.cache[i]))){if(t.events)for(n in t.events)l[n]?P.event.remove(a,n):P.removeEvent(a,n,t.handle);N.cache[i]&&delete N.cache[i]}delete w.cache[a[w.expando]]}}}),P.fn.extend({text:function(e){return B(this,function(e){return void 0===e?P.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ce(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ce(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var a,n=e?P.filter(e,this):this,i=0;null!=(a=n[i]);i++)t||1!==a.nodeType||P.cleanData(ge(a)),a.parentNode&&(t&&P.contains(a.ownerDocument,a)&&de(ge(a,"script")),a.parentNode.removeChild(a));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(P.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return P.clone(this,e,t)})},html:function(e){return B(this,function(e){var t=this[0]||{},a=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ne.test(e)&&!se[(te.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ee,"<$1></$2>");try{for(;a<n;a++)1===(t=this[a]||{}).nodeType&&(P.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,P.cleanData(ge(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(a,n){a=f.apply([],a);var e,t,i,l,o,r,s=0,c=this.length,u=this,h=c-1,d=a[0],p=P.isFunction(d);if(p||1<c&&"string"==typeof d&&!m.checkClone&&ie.test(d))return this.each(function(e){var t=u.eq(e);p&&(a[0]=d.call(this,e,t.html())),t.domManip(a,n)});if(c&&(t=(e=P.buildFragment(a,this[0].ownerDocument,!1,this)).firstChild,1===e.childNodes.length&&(e=t),t)){for(l=(i=P.map(ge(e,"script"),ue)).length;s<c;s++)o=e,s!==h&&(o=P.clone(o,!0,!0),l&&P.merge(i,ge(o,"script"))),n.call(this[s],o,s);if(l)for(r=i[i.length-1].ownerDocument,P.map(i,he),s=0;s<l;s++)o=i[s],le.test(o.type||"")&&!N.access(o,"globalEval")&&P.contains(r,o)&&(o.src?P._evalUrl&&P._evalUrl(o.src):P.globalEval(o.textContent.replace(re,"")))}return this}}),P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){P.fn[e]=function(e){for(var t,a=[],n=P(e),i=n.length-1,l=0;l<=i;l++)t=l===i?this:this.clone(!0),P(n[l])[o](t),r.apply(a,t.get());return this.pushStack(a)}});var fe,Se={};function me(e,t){var a,n=P(t.createElement(e)).appendTo(t.body),i=g.getDefaultComputedStyle&&(a=g.getDefaultComputedStyle(n[0]))?a.display:P.css(n[0],"display");return n.detach(),i}function ye(e){var t=y,a=Se[e];return a||("none"!==(a=me(e,t))&&a||((t=(fe=(fe||P("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),a=me(e,t),fe.detach()),Se[e]=a),a}var ve=/^margin/,Ae=new RegExp("^("+_+")(?!px)[a-z%]+$","i"),xe=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};function Ve(e,t,a){var n,i,l,o,r=e.style;return(a=a||xe(e))&&(o=a.getPropertyValue(t)||a[t]),a&&(""!==o||P.contains(e.ownerDocument,e)||(o=P.style(e,t)),Ae.test(o)&&ve.test(t)&&(n=r.width,i=r.minWidth,l=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=a.width,r.width=n,r.minWidth=i,r.maxWidth=l)),void 0!==o?o+"":o}function Pe(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}!function(){var t,a,n=y.documentElement,i=y.createElement("div"),l=y.createElement("div");if(l.style){function e(){l.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",l.innerHTML="",n.appendChild(i);var e=g.getComputedStyle(l,null);t="1%"!==e.top,a="4px"===e.width,n.removeChild(i)}l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===l.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(l),g.getComputedStyle&&P.extend(m,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==a&&e(),a},reliableMarginRight:function(){var e,t=l.appendChild(y.createElement("div"));return t.style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",l.style.width="1px",n.appendChild(i),e=!parseFloat(g.getComputedStyle(t,null).marginRight),n.removeChild(i),e}})}}(),P.swap=function(e,t,a,n){var i,l,o={};for(l in t)o[l]=e.style[l],e.style[l]=t[l];for(l in i=a.apply(e,n||[]),t)e.style[l]=o[l];return i};var Re=/^(none|table(?!-c[ea]).+)/,Te=new RegExp("^("+_+")(.*)$","i"),ke=new RegExp("^([+-])=("+_+")","i"),Me={position:"absolute",visibility:"hidden",display:"block"},De={letterSpacing:"0",fontWeight:"400"},be=["Webkit","O","Moz","ms"];function Le(e,t){if(t in e)return t;for(var a=t[0].toUpperCase()+t.slice(1),n=t,i=be.length;i--;)if((t=be[i]+a)in e)return t;return n}function Ce(e,t,a){var n=Te.exec(t);return n?Math.max(0,n[1]-(a||0))+(n[2]||"px"):t}function Oe(e,t,a,n,i){for(var l=a===(n?"border":"content")?4:"width"===t?1:0,o=0;l<4;l+=2)"margin"===a&&(o+=P.css(e,a+W[l],!0,i)),n?("content"===a&&(o-=P.css(e,"padding"+W[l],!0,i)),"margin"!==a&&(o-=P.css(e,"border"+W[l]+"Width",!0,i))):(o+=P.css(e,"padding"+W[l],!0,i),"padding"!==a&&(o+=P.css(e,"border"+W[l]+"Width",!0,i)));return o}function Be(e,t,a){var n=!0,i="width"===t?e.offsetWidth:e.offsetHeight,l=xe(e),o="border-box"===P.css(e,"boxSizing",!1,l);if(i<=0||null==i){if(((i=Ve(e,t,l))<0||null==i)&&(i=e.style[t]),Ae.test(i))return i;n=o&&(m.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Oe(e,t,a||(o?"border":"content"),n,l)+"px"}function Ie(e,t){for(var a,n,i,l=[],o=0,r=e.length;o<r;o++)(n=e[o]).style&&(l[o]=N.get(n,"olddisplay"),a=n.style.display,t?(l[o]||"none"!==a||(n.style.display=""),""===n.style.display&&Y(n)&&(l[o]=N.access(n,"olddisplay",ye(n.nodeName)))):(i=Y(n),"none"===a&&i||N.set(n,"olddisplay",i?a:P.css(n,"display"))));for(o=0;o<r;o++)(n=e[o]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?l[o]||"":"none"));return e}function Ne(e,t,a,n,i){return new Ne.prototype.init(e,t,a,n,i)}P.extend({cssHooks:{opacity:{get:function(e,t){if(t){var a=Ve(e,"opacity");return""===a?"1":a}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,a,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,l,o,r=P.camelCase(t),s=e.style;return t=P.cssProps[r]||(P.cssProps[r]=Le(s,r)),o=P.cssHooks[t]||P.cssHooks[r],void 0===a?o&&"get"in o&&void 0!==(i=o.get(e,!1,n))?i:s[t]:("string"===(l=typeof a)&&(i=ke.exec(a))&&(a=(i[1]+1)*i[2]+parseFloat(P.css(e,t)),l="number"),void(null!=a&&a==a&&("number"!==l||P.cssNumber[r]||(a+="px"),m.clearCloneStyle||""!==a||0!==t.indexOf("background")||(s[t]="inherit"),o&&"set"in o&&void 0===(a=o.set(e,a,n))||(s[t]=a))))}},css:function(e,t,a,n){var i,l,o,r=P.camelCase(t);return t=P.cssProps[r]||(P.cssProps[r]=Le(e.style,r)),(o=P.cssHooks[t]||P.cssHooks[r])&&"get"in o&&(i=o.get(e,!0,a)),void 0===i&&(i=Ve(e,t,n)),"normal"===i&&t in De&&(i=De[t]),""===a||a?(l=parseFloat(i),!0===a||P.isNumeric(l)?l||0:i):i}}),P.each(["height","width"],function(e,i){P.cssHooks[i]={get:function(e,t,a){return t?Re.test(P.css(e,"display"))&&0===e.offsetWidth?P.swap(e,Me,function(){return Be(e,i,a)}):Be(e,i,a):void 0},set:function(e,t,a){var n=a&&xe(e);return Ce(0,t,a?Oe(e,i,a,"border-box"===P.css(e,"boxSizing",!1,n),n):0)}}}),P.cssHooks.marginRight=Pe(m.reliableMarginRight,function(e,t){return t?P.swap(e,{display:"inline-block"},Ve,[e,"marginRight"]):void 0}),P.each({margin:"",padding:"",border:"Width"},function(i,l){P.cssHooks[i+l]={expand:function(e){for(var t=0,a={},n="string"==typeof e?e.split(" "):[e];t<4;t++)a[i+W[t]+l]=n[t]||n[t-2]||n[0];return a}},ve.test(i)||(P.cssHooks[i+l].set=Ce)}),P.fn.extend({css:function(e,t){return B(this,function(e,t,a){var n,i,l={},o=0;if(P.isArray(t)){for(n=xe(e),i=t.length;o<i;o++)l[t[o]]=P.css(e,t[o],!1,n);return l}return void 0!==a?P.style(e,t,a):P.css(e,t)},e,t,1<arguments.length)},show:function(){return Ie(this,!0)},hide:function(){return Ie(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Y(this)?P(this).show():P(this).hide()})}}),((P.Tween=Ne).prototype={constructor:Ne,init:function(e,t,a,n,i,l){this.elem=e,this.prop=a,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=l||(P.cssNumber[a]?"":"px")},cur:function(){var e=Ne.propHooks[this.prop];return e&&e.get?e.get(this):Ne.propHooks._default.get(this)},run:function(e){var t,a=Ne.propHooks[this.prop];return this.pos=t=this.options.duration?P.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),a&&a.set?a.set(this):Ne.propHooks._default.set(this),this}}).init.prototype=Ne.prototype,(Ne.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=P.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){P.fx.step[e.prop]?P.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[P.cssProps[e.prop]]||P.cssHooks[e.prop])?P.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=Ne.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},P.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},P.fx=Ne.prototype.init,P.fx.step={};var we,Ge,Fe,He,Ee,ze=/^(?:toggle|show|hide)$/,_e=new RegExp("^(?:([+-])=|)("+_+")([a-z%]*)$","i"),We=/queueHooks$/,Ye=[function(t,e,a){var n,i,l,o,r,s,c,u=this,h={},d=t.style,p=t.nodeType&&Y(t),g=N.get(t,"fxshow");for(n in a.queue||(null==(r=P._queueHooks(t,"fx")).unqueued&&(r.unqueued=0,s=r.empty.fire,r.empty.fire=function(){r.unqueued||s()}),r.unqueued++,u.always(function(){u.always(function(){r.unqueued--,P.queue(t,"fx").length||r.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(a.overflow=[d.overflow,d.overflowX,d.overflowY],c=P.css(t,"display"),"inline"===("none"===c?N.get(t,"olddisplay")||ye(t.nodeName):c)&&"none"===P.css(t,"float")&&(d.display="inline-block")),a.overflow&&(d.overflow="hidden",u.always(function(){d.overflow=a.overflow[0],d.overflowX=a.overflow[1],d.overflowY=a.overflow[2]})),e)if(i=e[n],ze.exec(i)){if(delete e[n],l=l||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[n])continue;p=!0}h[n]=g&&g[n]||P.style(t,n)}else c=void 0;if(P.isEmptyObject(h))"inline"===("none"===c?ye(t.nodeName):c)&&(d.display=c);else for(n in g?"hidden"in g&&(p=g.hidden):g=N.access(t,"fxshow",{}),l&&(g.hidden=!p),p?P(t).show():u.done(function(){P(t).hide()}),u.done(function(){var e;for(e in N.remove(t,"fxshow"),h)P.style(t,e,h[e])}),h)o=qe(p?g[n]:0,n,u),n in g||(g[n]=o.start,p&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}],Xe={"*":[function(e,t){var a=this.createTween(e,t),n=a.cur(),i=_e.exec(t),l=i&&i[3]||(P.cssNumber[e]?"":"px"),o=(P.cssNumber[e]||"px"!==l&&+n)&&_e.exec(P.css(a.elem,e)),r=1,s=20;if(o&&o[3]!==l)for(l=l||o[3],i=i||[],o=+n||1;o/=r=r||".5",P.style(a.elem,e,o+l),r!==(r=a.cur()/n)&&1!==r&&--s;);return i&&(o=a.start=+o||+n||0,a.unit=l,a.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),a}]};function Ue(){return setTimeout(function(){we=void 0}),we=P.now()}function je(e,t){var a,n=0,i={height:e};for(t=t?1:0;n<4;n+=2-t)i["margin"+(a=W[n])]=i["padding"+a]=e;return t&&(i.opacity=i.width=e),i}function qe(e,t,a){for(var n,i=(Xe[t]||[]).concat(Xe["*"]),l=0,o=i.length;l<o;l++)if(n=i[l].call(a,t,e))return n}function Je(l,e,t){var a,o,n=0,i=Ye.length,r=P.Deferred().always(function(){delete s.elem}),s=function(){if(o)return!1;for(var e=we||Ue(),t=Math.max(0,c.startTime+c.duration-e),a=1-(t/c.duration||0),n=0,i=c.tweens.length;n<i;n++)c.tweens[n].run(a);return r.notifyWith(l,[c,a,t]),a<1&&i?t:(r.resolveWith(l,[c]),!1)},c=r.promise({elem:l,props:P.extend({},e),opts:P.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:we||Ue(),duration:t.duration,tweens:[],createTween:function(e,t){var a=P.Tween(l,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(a),a},stop:function(e){var t=0,a=e?c.tweens.length:0;if(o)return this;for(o=!0;t<a;t++)c.tweens[t].run(1);return e?r.resolveWith(l,[c,e]):r.rejectWith(l,[c,e]),this}}),u=c.props;for(function(e,t){var a,n,i,l,o;for(a in e)if(i=t[n=P.camelCase(a)],l=e[a],P.isArray(l)&&(i=l[1],l=e[a]=l[0]),a!==n&&(e[n]=l,delete e[a]),(o=P.cssHooks[n])&&"expand"in o)for(a in l=o.expand(l),delete e[n],l)a in e||(e[a]=l[a],t[a]=i);else t[n]=i}(u,c.opts.specialEasing);n<i;n++)if(a=Ye[n].call(c,l,u,c.opts))return a;return P.map(u,qe,c),P.isFunction(c.opts.start)&&c.opts.start.call(l,c),P.fx.timer(P.extend(s,{elem:l,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}P.Animation=P.extend(Je,{tweener:function(e,t){P.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var a,n=0,i=e.length;n<i;n++)a=e[n],Xe[a]=Xe[a]||[],Xe[a].unshift(t)},prefilter:function(e,t){t?Ye.unshift(e):Ye.push(e)}}),P.speed=function(e,t,a){var n=e&&"object"==typeof e?P.extend({},e):{complete:a||!a&&t||P.isFunction(e)&&e,duration:e,easing:a&&t||t&&!P.isFunction(t)&&t};return n.duration=P.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in P.fx.speeds?P.fx.speeds[n.duration]:P.fx.speeds._default,(null==n.queue||!0===n.queue)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){P.isFunction(n.old)&&n.old.call(this),n.queue&&P.dequeue(this,n.queue)},n},P.fn.extend({fadeTo:function(e,t,a,n){return this.filter(Y).css("opacity",0).show().end().animate({opacity:t},e,a,n)},animate:function(t,e,a,n){var i=P.isEmptyObject(t),l=P.speed(e,a,n),o=function(){var e=Je(this,P.extend({},t),l);(i||N.get(this,"finish"))&&e.stop(!0)};return o.finish=o,i||!1===l.queue?this.each(o):this.queue(l.queue,o)},stop:function(i,e,l){var o=function(e){var t=e.stop;delete e.stop,t(l)};return"string"!=typeof i&&(l=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",a=P.timers,n=N.get(this);if(t)n[t]&&n[t].stop&&o(n[t]);else for(t in n)n[t]&&n[t].stop&&We.test(t)&&o(n[t]);for(t=a.length;t--;)a[t].elem!==this||null!=i&&a[t].queue!==i||(a[t].anim.stop(l),e=!1,a.splice(t,1));(e||!l)&&P.dequeue(this,i)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var e,t=N.get(this),a=t[o+"queue"],n=t[o+"queueHooks"],i=P.timers,l=a?a.length:0;for(t.finish=!0,P.queue(this,o,[]),n&&n.stop&&n.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===o&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<l;e++)a[e]&&a[e].finish&&a[e].finish.call(this);delete t.finish})}}),P.each(["toggle","show","hide"],function(e,n){var i=P.fn[n];P.fn[n]=function(e,t,a){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(je(n,!0),e,t,a)}}),P.each({slideDown:je("show"),slideUp:je("hide"),slideToggle:je("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){P.fn[e]=function(e,t,a){return this.animate(n,e,t,a)}}),P.timers=[],P.fx.tick=function(){var e,t=0,a=P.timers;for(we=P.now();t<a.length;t++)(e=a[t])()||a[t]!==e||a.splice(t--,1);a.length||P.fx.stop(),we=void 0},P.fx.timer=function(e){P.timers.push(e),e()?P.fx.start():P.timers.pop()},P.fx.interval=13,P.fx.start=function(){Ge||(Ge=setInterval(P.fx.tick,P.fx.interval))},P.fx.stop=function(){clearInterval(Ge),Ge=null},P.fx.speeds={slow:600,fast:200,_default:400},P.fn.delay=function(n,e){return n=P.fx&&P.fx.speeds[n]||n,e=e||"fx",this.queue(e,function(e,t){var a=setTimeout(e,n);t.stop=function(){clearTimeout(a)}})},Fe=y.createElement("input"),He=y.createElement("select"),Ee=He.appendChild(y.createElement("option")),Fe.type="checkbox",m.checkOn=""!==Fe.value,m.optSelected=Ee.selected,He.disabled=!0,m.optDisabled=!Ee.disabled,(Fe=y.createElement("input")).value="t",Fe.type="radio",m.radioValue="t"===Fe.value;var $e,Ke=P.expr.attrHandle;P.fn.extend({attr:function(e,t){return B(this,P.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){P.removeAttr(this,e)})}}),P.extend({attr:function(e,t,a){var n,i,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return typeof e.getAttribute===U?P.prop(e,t,a):(1===l&&P.isXMLDoc(e)||(t=t.toLowerCase(),n=P.attrHooks[t]||(P.expr.match.bool.test(t)?$e:void 0)),void 0===a?n&&"get"in n&&null!==(i=n.get(e,t))?i:null==(i=P.find.attr(e,t))?void 0:i:null!==a?n&&"set"in n&&void 0!==(i=n.set(e,a,t))?i:(e.setAttribute(t,a+""),a):void P.removeAttr(e,t))},removeAttr:function(e,t){var a,n,i=0,l=t&&t.match(L);if(l&&1===e.nodeType)for(;a=l[i++];)n=P.propFix[a]||a,P.expr.match.bool.test(a)&&(e[n]=!1),e.removeAttribute(a)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&P.nodeName(e,"input")){var a=e.value;return e.setAttribute("type",t),a&&(e.value=a),t}}}}}),$e={set:function(e,t,a){return!1===t?P.removeAttr(e,a):e.setAttribute(a,a),a}},P.each(P.expr.match.bool.source.match(/\w+/g),function(e,t){var l=Ke[t]||P.find.attr;Ke[t]=function(e,t,a){var n,i;return a||(i=Ke[t],Ke[t]=n,n=null!=l(e,t,a)?t.toLowerCase():null,Ke[t]=i),n}});var Ze=/^(?:input|select|textarea|button)$/i;P.fn.extend({prop:function(e,t){return B(this,P.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[P.propFix[e]||e]})}}),P.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,a){var n,i,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return(1!==l||!P.isXMLDoc(e))&&(t=P.propFix[t]||t,i=P.propHooks[t]),void 0!==a?i&&"set"in i&&void 0!==(n=i.set(e,a,t))?n:e[t]=a:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Ze.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),m.optSelected||(P.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){P.propFix[this.toLowerCase()]=this});var Qe=/[\t\r\n\f]/g;P.fn.extend({addClass:function(t){var e,a,n,i,l,o,r="string"==typeof t&&t,s=0,c=this.length;if(P.isFunction(t))return this.each(function(e){P(this).addClass(t.call(this,e,this.className))});if(r)for(e=(t||"").match(L)||[];s<c;s++)if(n=1===(a=this[s]).nodeType&&(a.className?(" "+a.className+" ").replace(Qe," "):" ")){for(l=0;i=e[l++];)n.indexOf(" "+i+" ")<0&&(n+=i+" ");o=P.trim(n),a.className!==o&&(a.className=o)}return this},removeClass:function(t){var e,a,n,i,l,o,r=0===arguments.length||"string"==typeof t&&t,s=0,c=this.length;if(P.isFunction(t))return this.each(function(e){P(this).removeClass(t.call(this,e,this.className))});if(r)for(e=(t||"").match(L)||[];s<c;s++)if(n=1===(a=this[s]).nodeType&&(a.className?(" "+a.className+" ").replace(Qe," "):"")){for(l=0;i=e[l++];)for(;0<=n.indexOf(" "+i+" ");)n=n.replace(" "+i+" "," ");o=t?P.trim(n):"",a.className!==o&&(a.className=o)}return this},toggleClass:function(i,t){var l=typeof i;return"boolean"==typeof t&&"string"===l?t?this.addClass(i):this.removeClass(i):this.each(P.isFunction(i)?function(e){P(this).toggleClass(i.call(this,e,this.className,t),t)}:function(){if("string"===l)for(var e,t=0,a=P(this),n=i.match(L)||[];e=n[t++];)a.hasClass(e)?a.removeClass(e):a.addClass(e);else(l===U||"boolean"===l)&&(this.className&&N.set(this,"__className__",this.className),this.className=this.className||!1===i?"":N.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",a=0,n=this.length;a<n;a++)if(1===this[a].nodeType&&0<=(" "+this[a].className+" ").replace(Qe," ").indexOf(t))return!0;return!1}});var et=/\r/g;P.fn.extend({val:function(a){var n,e,i,t=this[0];return arguments.length?(i=P.isFunction(a),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?a.call(this,e,P(this).val()):a)?t="":"number"==typeof t?t+="":P.isArray(t)&&(t=P.map(t,function(e){return null==e?"":e+""})),(n=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,t,"value")||(this.value=t))})):t?(n=P.valHooks[t.type]||P.valHooks[t.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(et,""):null==e?"":e:void 0}}),P.extend({valHooks:{option:{get:function(e){var t=P.find.attr(e,"value");return null!=t?t:P.trim(P.text(e))}},select:{get:function(e){for(var t,a,n=e.options,i=e.selectedIndex,l="select-one"===e.type||i<0,o=l?null:[],r=l?i+1:n.length,s=i<0?r:l?i:0;s<r;s++)if(!(!(a=n[s]).selected&&s!==i||(m.optDisabled?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&P.nodeName(a.parentNode,"optgroup"))){if(t=P(a).val(),l)return t;o.push(t)}return o},set:function(e,t){for(var a,n,i=e.options,l=P.makeArray(t),o=i.length;o--;)((n=i[o]).selected=0<=P.inArray(n.value,l))&&(a=!0);return a||(e.selectedIndex=-1),l}}}}),P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(e,t){return P.isArray(t)?e.checked=0<=P.inArray(P(e).val(),t):void 0}},m.checkOn||(P.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),P.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,a){P.fn[a]=function(e,t){return 0<arguments.length?this.on(a,null,e,t):this.trigger(a)}}),P.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,a){return this.on(e,null,t,a)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,a,n){return this.on(t,e,a,n)},undelegate:function(e,t,a){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",a)}});var tt=P.now(),at=/\?/;P.parseJSON=function(e){return JSON.parse(e+"")},P.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&P.error("Invalid XML: "+e),t};var nt,it,lt=/#.*$/,ot=/([?&])_=[^&]*/,rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,st=/^(?:GET|HEAD)$/,ct=/^\/\//,ut=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ht={},dt={},pt="*/".concat("*");try{it=location.href}catch(e){(it=y.createElement("a")).href="",it=it.href}function gt(l){return function(e,t){"string"!=typeof e&&(t=e,e="*");var a,n=0,i=e.toLowerCase().match(L)||[];if(P.isFunction(t))for(;a=i[n++];)"+"===a[0]?(a=a.slice(1)||"*",(l[a]=l[a]||[]).unshift(t)):(l[a]=l[a]||[]).push(t)}}function ft(t,i,l,o){var r={},s=t===dt;function c(e){var n;return r[e]=!0,P.each(t[e]||[],function(e,t){var a=t(i,l,o);return"string"!=typeof a||s||r[a]?s?!(n=a):void 0:(i.dataTypes.unshift(a),c(a),!1)}),n}return c(i.dataTypes[0])||!r["*"]&&c("*")}function St(e,t){var a,n,i=P.ajaxSettings.flatOptions||{};for(a in t)void 0!==t[a]&&((i[a]?e:n||(n={}))[a]=t[a]);return n&&P.extend(!0,e,n),e}nt=ut.exec(it.toLowerCase())||[],P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:it,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(nt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":P.parseJSON,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?St(St(e,P.ajaxSettings),t):St(P.ajaxSettings,e)},ajaxPrefilter:gt(ht),ajaxTransport:gt(dt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var u,h,d,a,p,n,g,i,f=P.ajaxSetup({},t),S=f.context||f,m=f.context&&(S.nodeType||S.jquery)?P(S):P.event,y=P.Deferred(),v=P.Callbacks("once memory"),A=f.statusCode||{},l={},o={},x=0,r="canceled",V={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!a)for(a={};t=rt.exec(d);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?d:null},setRequestHeader:function(e,t){var a=e.toLowerCase();return x||(e=o[a]=o[a]||e,l[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)A[t]=[A[t],e[t]];else V.always(e[V.status]);return this},abort:function(e){var t=e||r;return u&&u.abort(t),s(0,t),this}};if(y.promise(V).complete=v.add,V.success=V.done,V.error=V.fail,f.url=((e||f.url||it)+"").replace(lt,"").replace(ct,nt[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=P.trim(f.dataType||"*").toLowerCase().match(L)||[""],null==f.crossDomain&&(n=ut.exec(f.url.toLowerCase()),f.crossDomain=!(!n||n[1]===nt[1]&&n[2]===nt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(nt[3]||("http:"===nt[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=P.param(f.data,f.traditional)),ft(ht,f,t,V),2===x)return V;for(i in(g=f.global)&&0==P.active++&&P.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!st.test(f.type),h=f.url,f.hasContent||(f.data&&(h=f.url+=(at.test(h)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=ot.test(h)?h.replace(ot,"$1_="+tt++):h+(at.test(h)?"&":"?")+"_="+tt++)),f.ifModified&&(P.lastModified[h]&&V.setRequestHeader("If-Modified-Since",P.lastModified[h]),P.etag[h]&&V.setRequestHeader("If-None-Match",P.etag[h])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&V.setRequestHeader("Content-Type",f.contentType),V.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+pt+"; q=0.01":""):f.accepts["*"]),f.headers)V.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(!1===f.beforeSend.call(S,V,f)||2===x))return V.abort();for(i in r="abort",{success:1,error:1,complete:1})V[i](f[i]);if(u=ft(dt,f,t,V)){V.readyState=1,g&&m.trigger("ajaxSend",[V,f]),f.async&&0<f.timeout&&(p=setTimeout(function(){V.abort("timeout")},f.timeout));try{x=1,u.send(l,s)}catch(e){if(!(x<2))throw e;s(-1,e)}}else s(-1,"No Transport");function s(e,t,a,n){var i,l,o,r,s,c=t;2!==x&&(x=2,p&&clearTimeout(p),u=void 0,d=n||"",V.readyState=0<e?4:0,i=200<=e&&e<300||304===e,a&&(r=function(e,t,a){for(var n,i,l,o,r=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in r)if(r[i]&&r[i].test(n)){s.unshift(i);break}if(s[0]in a)l=s[0];else{for(i in a){if(!s[0]||e.converters[i+" "+s[0]]){l=i;break}o||(o=i)}l=l||o}return l?(l!==s[0]&&s.unshift(l),a[l]):void 0}(f,V,a)),r=function(e,t,a,n){var i,l,o,r,s,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(l=u.shift();l;)if(e.responseFields[l]&&(a[e.responseFields[l]]=t),!s&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=l,l=u.shift())if("*"===l)l=s;else if("*"!==s&&s!==l){if(!(o=c[s+" "+l]||c["* "+l]))for(i in c)if((r=i.split(" "))[1]===l&&(o=c[s+" "+r[0]]||c["* "+r[0]])){!0===o?o=c[i]:!0!==c[i]&&(l=r[0],u.unshift(r[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+s+" to "+l}}}return{state:"success",data:t}}(f,r,V,i),i?(f.ifModified&&((s=V.getResponseHeader("Last-Modified"))&&(P.lastModified[h]=s),(s=V.getResponseHeader("etag"))&&(P.etag[h]=s)),204===e||"HEAD"===f.type?c="nocontent":304===e?c="notmodified":(c=r.state,l=r.data,i=!(o=r.error))):(o=c,(e||!c)&&(c="error",e<0&&(e=0))),V.status=e,V.statusText=(t||c)+"",i?y.resolveWith(S,[l,c,V]):y.rejectWith(S,[V,c,o]),V.statusCode(A),A=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[V,f,i?l:o]),v.fireWith(S,[V,c]),g&&(m.trigger("ajaxComplete",[V,f]),--P.active||P.event.trigger("ajaxStop")))}return V},getJSON:function(e,t,a){return P.get(e,t,a,"json")},getScript:function(e,t){return P.get(e,void 0,t,"script")}}),P.each(["get","post"],function(e,i){P[i]=function(e,t,a,n){return P.isFunction(t)&&(n=n||a,a=t,t=void 0),P.ajax({url:e,type:i,dataType:n,data:t,success:a})}}),P.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){P.fn[t]=function(e){return this.on(t,e)}}),P._evalUrl=function(e){return P.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},P.fn.extend({wrapAll:function(t){var e;return P.isFunction(t)?this.each(function(e){P(this).wrapAll(t.call(this,e))}):(this[0]&&(e=P(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(a){return this.each(P.isFunction(a)?function(e){P(this).wrapInner(a.call(this,e))}:function(){var e=P(this),t=e.contents();t.length?t.wrapAll(a):e.append(a)})},wrap:function(t){var a=P.isFunction(t);return this.each(function(e){P(this).wrapAll(a?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){P.nodeName(this,"body")||P(this).replaceWith(this.childNodes)}).end()}}),P.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},P.expr.filters.visible=function(e){return!P.expr.filters.hidden(e)};var mt=/%20/g,yt=/\[\]$/,vt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;function Vt(a,e,n,i){var t;if(P.isArray(e))P.each(e,function(e,t){n||yt.test(a)?i(a,t):Vt(a+"["+("object"==typeof t?e:"")+"]",t,n,i)});else if(n||"object"!==P.type(e))i(a,e);else for(t in e)Vt(a+"["+t+"]",e[t],n,i)}P.param=function(e,t){var a,n=[],i=function(e,t){t=P.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=P.ajaxSettings&&P.ajaxSettings.traditional),P.isArray(e)||e.jquery&&!P.isPlainObject(e))P.each(e,function(){i(this.name,this.value)});else for(a in e)Vt(a,e[a],t,i);return n.join("&").replace(mt,"+")},P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=P.prop(this,"elements");return e?P.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!P(this).is(":disabled")&&xt.test(this.nodeName)&&!At.test(e)&&(this.checked||!X.test(e))}).map(function(e,t){var a=P(this).val();return null==a?null:P.isArray(a)?P.map(a,function(e){return{name:t.name,value:e.replace(vt,"\r\n")}}):{name:t.name,value:a.replace(vt,"\r\n")}}).get()}}),P.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Pt=0,Rt={},Tt={0:200,1223:204},kt=P.ajaxSettings.xhr();g.ActiveXObject&&P(g).on("unload",function(){for(var e in Rt)Rt[e]()}),m.cors=!!kt&&"withCredentials"in kt,m.ajax=kt=!!kt,P.ajaxTransport(function(l){var o;return m.cors||kt&&!l.crossDomain?{send:function(e,t){var a,n=l.xhr(),i=++Pt;if(n.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(a in l.xhrFields)n[a]=l.xhrFields[a];for(a in l.mimeType&&n.overrideMimeType&&n.overrideMimeType(l.mimeType),l.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)n.setRequestHeader(a,e[a]);o=function(e){return function(){o&&(delete Rt[i],o=n.onload=n.onerror=null,"abort"===e?n.abort():"error"===e?t(n.status,n.statusText):t(Tt[n.status]||n.status,n.statusText,"string"==typeof n.responseText?{text:n.responseText}:void 0,n.getAllResponseHeaders()))}},n.onload=o(),n.onerror=o("error"),o=Rt[i]=o("abort");try{n.send(l.hasContent&&l.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}:void 0}),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return P.globalEval(e),e}}}),P.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),P.ajaxTransport("script",function(a){var n,i;if(a.crossDomain)return{send:function(e,t){n=P("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",i=function(e){n.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),y.head.appendChild(n[0])},abort:function(){i&&i()}}});var Mt=[],Dt=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mt.pop()||P.expando+"_"+tt++;return this[e]=!0,e}}),P.ajaxPrefilter("json jsonp",function(e,t,a){var n,i,l,o=!1!==e.jsonp&&(Dt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dt.test(e.data)&&"data");return o||"jsonp"===e.dataTypes[0]?(n=e.jsonpCallback=P.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Dt,"$1"+n):!1!==e.jsonp&&(e.url+=(at.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return l||P.error(n+" was not called"),l[0]},e.dataTypes[0]="json",i=g[n],g[n]=function(){l=arguments},a.always(function(){g[n]=i,e[n]&&(e.jsonpCallback=t.jsonpCallback,Mt.push(n)),l&&P.isFunction(i)&&i(l[0]),l=i=void 0}),"script"):void 0}),P.parseHTML=function(e,t,a){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(a=t,t=!1),t=t||y;var n=A.exec(e),i=!a&&[];return n?[t.createElement(n[1])]:(n=P.buildFragment([e],t,i),i&&i.length&&P(i).remove(),P.merge([],n.childNodes))};var bt=P.fn.load;P.fn.load=function(e,t,a){if("string"!=typeof e&&bt)return bt.apply(this,arguments);var n,i,l,o=this,r=e.indexOf(" ");return 0<=r&&(n=P.trim(e.slice(r)),e=e.slice(0,r)),P.isFunction(t)?(a=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<o.length&&P.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){l=arguments,o.html(n?P("<div>").append(P.parseHTML(e)).find(n):e)}).complete(a&&function(e,t){o.each(a,l||[e.responseText,t,e])}),this},P.expr.filters.animated=function(t){return P.grep(P.timers,function(e){return t===e.elem}).length};var Lt=g.document.documentElement;function Ct(e){return P.isWindow(e)?e:9===e.nodeType&&e.defaultView}P.offset={setOffset:function(e,t,a){var n,i,l,o,r,s,c=P.css(e,"position"),u=P(e),h={};"static"===c&&(e.style.position="relative"),r=u.offset(),l=P.css(e,"top"),s=P.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(l+s).indexOf("auto")?(o=(n=u.position()).top,i=n.left):(o=parseFloat(l)||0,i=parseFloat(s)||0),P.isFunction(t)&&(t=t.call(e,a,r)),null!=t.top&&(h.top=t.top-r.top+o),null!=t.left&&(h.left=t.left-r.left+i),"using"in t?t.using.call(e,h):u.css(h)}},P.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){P.offset.setOffset(this,t,e)});var e,a,n=this[0],i={top:0,left:0},l=n&&n.ownerDocument;return l?(e=l.documentElement,P.contains(e,n)?(typeof n.getBoundingClientRect!==U&&(i=n.getBoundingClientRect()),a=Ct(l),{top:i.top+a.pageYOffset-e.clientTop,left:i.left+a.pageXOffset-e.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,a=this[0],n={top:0,left:0};return"fixed"===P.css(a,"position")?t=a.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),P.nodeName(e[0],"html")||(n=e.offset()),n.top+=P.css(e[0],"borderTopWidth",!0),n.left+=P.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-P.css(a,"marginTop",!0),left:t.left-n.left-P.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Lt;e&&!P.nodeName(e,"html")&&"static"===P.css(e,"position");)e=e.offsetParent;return e||Lt})}}),P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var l="pageYOffset"===i;P.fn[t]=function(e){return B(this,function(e,t,a){var n=Ct(e);return void 0===a?n?n[i]:e[t]:void(n?n.scrollTo(l?g.pageXOffset:a,l?a:g.pageYOffset):e[t]=a)},t,e,arguments.length,null)}}),P.each(["top","left"],function(e,a){P.cssHooks[a]=Pe(m.pixelPosition,function(e,t){return t?(t=Ve(e,a),Ae.test(t)?P(e).position()[a]+"px":t):void 0})}),P.each({Height:"height",Width:"width"},function(l,o){P.each({padding:"inner"+l,content:o,"":"outer"+l},function(n,e){P.fn[e]=function(e,t){var a=arguments.length&&(n||"boolean"!=typeof e),i=n||(!0===e||!0===t?"margin":"border");return B(this,function(e,t,a){var n;return P.isWindow(e)?e.document.documentElement["client"+l]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+l],n["scroll"+l],e.body["offset"+l],n["offset"+l],n["client"+l])):void 0===a?P.css(e,t,i):P.style(e,t,a,i)},o,a?e:void 0,a,null)}})}),P.fn.size=function(){return this.length},P.fn.andSelf=P.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return P});var Ot=g.jQuery,Bt=g.$;return P.noConflict=function(e){return g.$===P&&(g.$=Bt),e&&g.jQuery===P&&(g.jQuery=Ot),P},typeof e===U&&(g.jQuery=g.$=P),P}),function(c,P,R){"use strict";function t(e){if(x=P.documentElement,n=P.body,A(),Z=this,ne=(e=e||{}).constants||{},e.easing)for(var t in e.easing)z[t]=e.easing[t];ue=e.edgeStrategy||"set",te={beforerender:e.beforerender,render:e.render,keyframe:e.keyframe},(ae=!1!==e.forceHeight)&&(Me=e.scale||1),ie=e.mobileDeceleration||u,oe=!1!==e.smoothScrolling,re=e.smoothScrollingDuration||h,se={targetTop:Z.getScrollTop()},(Ne=(e.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||c.opera)})())?((ee=P.getElementById("skrollr-body"))&&K(),_(),xe(x,[l,s],[o])):xe(x,[l,r],[o]),Z.refresh(),pe(c,"resize orientationchange",function(){var e=x.clientWidth,t=x.clientHeight;(t!==Oe||e!==Ce)&&(Oe=t,Ce=e,Be=!0)});var a=E();return function e(){W(),de=a(e)}(),Z}var x,n,T={get:function(){return Z},init:function(e){return Z||new t(e)},VERSION:"0.6.26"},k=Object.prototype.hasOwnProperty,V=c.Math,i=c.getComputedStyle,M="touchstart",D="touchmove",b="touchcancel",L="touchend",C="skrollable",O=C+"-before",B=C+"-between",I=C+"-after",l="skrollr",o="no-"+l,r=l+"-desktop",s=l+"-mobile",u=.004,h=200,N="___skrollable_id",w=/^(?:input|textarea|button|select)$/i,a=/^\s+|\s+$/g,G=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,d=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,p=/^(@?[a-z\-]+)\[(\w+)\]$/,F=/-([a-z0-9_])/g,H=function(e,t){return t.toUpperCase()},g=/[\-+]?[\d]*\.?[\d]+/g,f=/\{\?\}/g,S=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,m=/[a-z\-]+-gradient/g,y="",v="",A=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(i){var t=i(n,null);for(var a in t)if(y=a.match(e)||+a==a&&t[a].match(e))break;if(!y)return y=v="",R;"-"===(y=y[0]).slice(0,1)?y={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[v=y]:v="-"+y.toLowerCase()+"-"}},E=function(){var e=c.requestAnimationFrame||c[y.toLowerCase()+"RequestAnimationFrame"],n=Re();return(Ne||!e)&&(e=function(e){var t=Re()-n,a=V.max(0,1e3/60-t);return c.setTimeout(function(){n=Re(),e()},a)}),e},z={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-V.cos(e*V.PI)/2+.5},sqrt:function(e){return V.sqrt(e)},outCubic:function(e){return V.pow(e-1,3)+1},bounce:function(e){var t;if(e<=.5083)t=3;else if(e<=.8489)t=9;else if(e<=.96208)t=27;else{if(!(e<=.99981))return 1;t=91}return 1-V.abs(3*V.cos(1.028*e*t)/t)}};t.prototype.refresh=function(e){var t,a,n=!1;for(e===R?(n=!0,Q=[],Ie=0,e=P.getElementsByTagName("*")):e.length===R&&(e=[e]),t=0,a=e.length;t<a;t++){var i=e[t],l=i,o=[],r=oe,s=ue,c=!1;if(n&&N in i&&delete i[N],i.attributes){for(var u=0,h=i.attributes.length;u<h;u++){var d=i.attributes[u];if("data-anchor-target"!==d.name)if("data-smooth-scrolling"!==d.name)if("data-edge-strategy"!==d.name)if("data-emit-events"!==d.name){var p=d.name.match(G);if(null!==p){var g={props:d.value,element:i,eventType:d.name.replace(F,H)};o.push(g);var f=p[1];f&&(g.constant=f.substr(1));var S=p[2];/p$/.test(S)?(g.isPercentage=!0,g.offset=(0|S.slice(0,-1))/100):g.offset=0|S;var m=p[3],y=p[4]||m;m&&"start"!==m&&"end"!==m?(g.mode="relative",g.anchors=[m,y]):(g.mode="absolute","end"===m?g.isEnd=!0:g.isPercentage||(g.offset=g.offset*Me))}}else c=!0;else s=d.value;else r="off"!==d.value;else if(null===(l=P.querySelector(d.value)))throw'Unable to find anchor target "'+d.value+'"'}var v,A,x;if(o.length)!n&&N in i?(x=i[N],v=Q[x].styleAttr,A=Q[x].classAttr):(x=i[N]=Ie++,v=i.style.cssText,A=Ae(i)),Q[x]={element:i,styleAttr:v,classAttr:A,anchorTarget:l,keyFrames:o,smoothScrolling:r,edgeStrategy:s,emitEvents:c,lastFrameIndex:-1},xe(i,[C],[])}}for(me(),t=0,a=e.length;t<a;t++){var V=Q[e[t][N]];V!==R&&(Y(V),U(V))}return Z},t.prototype.relativeToAbsolute=function(e,t,a){var n=x.clientHeight,i=e.getBoundingClientRect(),l=i.top,o=i.bottom-i.top;return"bottom"===t?l-=n:"center"===t&&(l-=n/2),"bottom"===a?l+=o:"center"===a&&(l+=o/2),0|(l+=Z.getScrollTop())+.5},t.prototype.animateTo=function(e,t){t=t||{};var a=Re(),n=Z.getScrollTop();return(le={startTop:n,topDiff:e-n,targetTop:e,duration:t.duration||1e3,startTime:a,endTime:a+(t.duration||1e3),easing:z[t.easing||"linear"],done:t.done}).topDiff||(le.done&&le.done.call(Z,!1),le=R),Z},t.prototype.stopAnimateTo=function(){le&&le.done&&le.done.call(Z,!0),le=R},t.prototype.isAnimatingTo=function(){return!!le},t.prototype.isMobile=function(){return Ne},t.prototype.setScrollTop=function(e,t){return ce=!0===t,Ne?we=V.min(V.max(e,0),ke):c.scrollTo(0,e),Z},t.prototype.getScrollTop=function(){return Ne?we:c.pageYOffset||x.scrollTop||n.scrollTop||0},t.prototype.getMaxScrollTop=function(){return ke},t.prototype.on=function(e,t){return te[e]=t,Z},t.prototype.off=function(e){return delete te[e],Z},t.prototype.destroy=function(){var e;(e=c.cancelAnimationFrame||c[y.toLowerCase()+"CancelAnimationFrame"],(Ne||!e)&&(e=function(e){return c.clearTimeout(e)}),e)(de),fe(),xe(x,[o],[l,r,s]);for(var t=0,a=Q.length;t<a;t++)$(Q[t].element);x.style.overflow=n.style.overflow="",x.style.height=n.style.height="",ee&&T.setStyle(ee,"transform","none"),De="down",Ne=Be=!(be=-(Me=1)),we=Ie=Oe=Ce=ke=0,he=ue=ce=se=re=oe=le=ie=ne=ae=te=ee=Z=R};var _=function(){var u,h,d,p,g,f,S,m,y,v,A;pe(x,[M,D,b,L].join(" "),function(e){var t=e.changedTouches[0];for(p=e.target;3===p.nodeType;)p=p.parentNode;switch(g=t.clientY,f=t.clientX,y=e.timeStamp,w.test(p.tagName)||e.preventDefault(),e.type){case M:u&&u.blur(),Z.stopAnimateTo(),u=p,h=S=g,d=f,y;break;case D:w.test(p.tagName)&&P.activeElement!==p&&e.preventDefault(),m=g-S,A=y-v,Z.setScrollTop(we-m,!0),S=g,v=y;break;default:case b:case L:var a=h-g,n=d-f;if(n*n+a*a<49){if(!w.test(u.tagName)){u.focus();var i=P.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,e.view,1,t.screenX,t.screenY,t.clientX,t.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),u.dispatchEvent(i)}return}u=R;var l=m/A;l=V.max(V.min(l,3),-3);var o=V.abs(l/ie),r=l*o+.5*ie*o*o,s=Z.getScrollTop()-r,c=0;ke<s?(c=(ke-s)/r,s=ke):s<0&&(c=-s/r,s=0),o*=1-c,Z.animateTo(0|s+.5,{easing:"outCubic",duration:o})}}),c.scrollTo(0,0),x.style.overflow=n.style.overflow="hidden"},W=function(){Be&&(Be=!1,me());var e,t,a=Z.getScrollTop(),n=Re();if(le)n>=le.endTime?(a=le.targetTop,e=le.done,le=R):(t=le.easing((n-le.startTime)/le.duration),a=0|le.startTop+t*le.topDiff),Z.setScrollTop(a,!0);else if(!ce){se.targetTop-a&&(se={startTop:be,topDiff:a-be,targetTop:a,startTime:Le,endTime:Le+re}),se.endTime>=n&&(t=z.sqrt((n-se.startTime)/re),a=0|se.startTop+t*se.topDiff)}if(Ne&&ee&&T.setStyle(ee,"transform","translate(0, "+-we+"px) "+he),ce||be!==a){var i={curTop:a,lastTop:be,maxTop:ke,direction:De=be<a?"down":a<be?"up":De};(ce=!1)!==(te.beforerender&&te.beforerender.call(Z,i))&&(function(e,t){for(var a=0,n=Q.length;a<n;a++){var i,l,o=Q[a],r=o.element,s=o.smoothScrolling?e:t,c=o.keyFrames,u=c.length,h=c[0],d=c[c.length-1],p=h.frame>s,g=s>d.frame,f=p?h:d,S=o.emitEvents,m=o.lastFrameIndex;if(p||g){if(p&&-1===o.edge||g&&1===o.edge)continue;switch(p?(xe(r,[O],[I,B]),S&&-1<m&&(Se(r,h.eventType,De),o.lastFrameIndex=-1)):(xe(r,[I],[O,B]),S&&m<u&&(Se(r,d.eventType,De),o.lastFrameIndex=u)),o.edge=p?-1:1,o.edgeStrategy){case"reset":$(r);continue;case"ease":s=f.frame;break;default:case"set":var y=f.props;for(i in y)k.call(y,i)&&(l=J(y[i].value),0===i.indexOf("@")?r.setAttribute(i.substr(1),l):T.setStyle(r,i,l));continue}}else 0!==o.edge&&(xe(r,[C,B],[O,I]),o.edge=0);for(var v=0;v<u-1;v++)if(s>=c[v].frame&&c[v+1].frame>=s){var A=c[v],x=c[v+1];for(i in A.props)if(k.call(A.props,i)){var V=(s-A.frame)/(x.frame-A.frame);V=A.props[i].easing(V),l=q(A.props[i].value,x.props[i].value,V),l=J(l),0===i.indexOf("@")?r.setAttribute(i.substr(1),l):T.setStyle(r,i,l)}S&&m!==v&&(Se(r,"down"===De?A.eventType:x.eventType,De),o.lastFrameIndex=v);break}}}(a,Z.getScrollTop()),be=a,te.render&&te.render.call(Z,i)),e&&e.call(Z,!1)}Le=n},Y=function(e){for(var t=0,a=e.keyFrames.length;t<a;t++){for(var n,i,l,o,r=e.keyFrames[t],s={};null!==(o=d.exec(r.props));)l=o[1],i=o[2],null!==(n=l.match(p))?(l=n[1],n=n[2]):n="linear",i=i.indexOf("!")?X(i):[i.slice(1)],s[l]={value:i,easing:z[n]};r.props=s}},X=function(e){var t=[];return S.lastIndex=0,e=e.replace(S,function(e){return e.replace(g,function(e){return e/255*100+"%"})}),v&&(m.lastIndex=0,e=e.replace(m,function(e){return v+e})),e=e.replace(g,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},U=function(e){var t,a,n={};for(t=0,a=e.keyFrames.length;t<a;t++)j(e.keyFrames[t],n);for(n={},t=e.keyFrames.length-1;0<=t;t--)j(e.keyFrames[t],n)},j=function(e,t){var a;for(a in t)k.call(e.props,a)||(e.props[a]=t[a]);for(a in e.props)t[a]=e.props[a]},q=function(e,t,a){var n,i=e.length;if(i!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var l=[e[0]];for(n=1;n<i;n++)l[n]=e[n]+(t[n]-e[n])*a;return l},J=function(e){var t=1;return f.lastIndex=0,e[0].replace(f,function(){return e[t++]})},$=function(e,t){for(var a,n,i=0,l=(e=[].concat(e)).length;i<l;i++)n=e[i],(a=Q[n[N]])&&(t?(n.style.cssText=a.dirtyStyleAttr,xe(n,a.dirtyClassAttr)):(a.dirtyStyleAttr=n.style.cssText,a.dirtyClassAttr=Ae(n),n.style.cssText=a.styleAttr,xe(n,a.classAttr)))},K=function(){he="translateZ(0)",T.setStyle(ee,"transform",he);var e=i(ee),t=e.getPropertyValue("transform"),a=e.getPropertyValue(v+"transform");t&&"none"!==t||a&&"none"!==a||(he="")};T.setStyle=function(e,t,a){var n=e.style;if("zIndex"===(t=t.replace(F,H).replace("-","")))n[t]=isNaN(a)?a:""+(0|a);else if("float"===t)n.styleFloat=n.cssFloat=a;else try{y&&(n[y+t.slice(0,1).toUpperCase()+t.slice(1)]=a),n[t]=a}catch(e){}};var Z,Q,ee,te,ae,ne,ie,le,oe,re,se,ce,ue,he,de,pe=T.addEvent=function(e,t,a){for(var n,i=function(e){return(e=e||c.event).target||(e.target=e.srcElement),e.preventDefault||(e.preventDefault=function(){e.returnValue=!1,e.defaultPrevented=!0}),a.call(this,e)},l=0,o=(t=t.split(" ")).length;l<o;l++)n=t[l],e.addEventListener?e.addEventListener(n,a,!1):e.attachEvent("on"+n,i),Ge.push({element:e,name:n,listener:a})},ge=T.removeEvent=function(e,t,a){for(var n=0,i=(t=t.split(" ")).length;n<i;n++)e.removeEventListener?e.removeEventListener(t[n],a,!1):e.detachEvent("on"+t[n],a)},fe=function(){for(var e,t=0,a=Ge.length;t<a;t++)e=Ge[t],ge(e.element,e.name,e.listener);Ge=[]},Se=function(e,t,a){te.keyframe&&te.keyframe.call(Z,e,t,a)},me=function(){var e=Z.getScrollTop();ke=0,ae&&!Ne&&(n.style.height=""),function(){var e,t,a,n,i,l,o,r,s,c,u,h=x.clientHeight,d=ye();for(r=0,s=Q.length;r<s;r++)for(t=(e=Q[r]).element,a=e.anchorTarget,i=0,l=(n=e.keyFrames).length;i<l;i++)c=(o=n[i]).offset,u=d[o.constant]||0,o.frame=c,o.isPercentage&&(c*=h,o.frame=c),"relative"===o.mode&&($(t),o.frame=Z.relativeToAbsolute(a,o.anchors[0],o.anchors[1])-c,$(t,!0)),o.frame+=u,ae&&!o.isEnd&&o.frame>ke&&(ke=o.frame);for(ke=V.max(ke,ve()),r=0,s=Q.length;r<s;r++){for(i=0,l=(n=(e=Q[r]).keyFrames).length;i<l;i++)u=d[(o=n[i]).constant]||0,o.isEnd&&(o.frame=ke-o.offset+u);e.keyFrames.sort(Te)}}(),ae&&!Ne&&(n.style.height=ke+x.clientHeight+"px"),Ne?Z.setScrollTop(V.min(Z.getScrollTop(),ke)):Z.setScrollTop(e,!0),ce=!0},ye=function(){var e,t,a=x.clientHeight,n={};for(e in ne)"function"==typeof(t=ne[e])?t=t.call(Z):/p$/.test(t)&&(t=t.slice(0,-1)/100*a),n[e]=t;return n},ve=function(){var e=ee&&ee.offsetHeight||0;return V.max(e,n.scrollHeight,n.offsetHeight,x.scrollHeight,x.offsetHeight,x.clientHeight)-x.clientHeight},Ae=function(e){var t="className";return c.SVGElement&&e instanceof c.SVGElement&&(e=e[t],t="baseVal"),e[t]},xe=function(e,t,a){var n="className";if(c.SVGElement&&e instanceof c.SVGElement&&(e=e[n],n="baseVal"),a===R)return e[n]=t,R;for(var i=e[n],l=0,o=a.length;l<o;l++)i=Pe(i).replace(Pe(a[l])," ");i=Ve(i);for(var r=0,s=t.length;r<s;r++)-1===Pe(i).indexOf(Pe(t[r]))&&(i+=" "+t[r]);e[n]=Ve(i)},Ve=function(e){return e.replace(a,"")},Pe=function(e){return" "+e+" "},Re=Date.now||function(){return+new Date},Te=function(e,t){return e.frame-t.frame},ke=0,Me=1,De="down",be=-1,Le=Re(),Ce=0,Oe=0,Be=!1,Ie=0,Ne=!1,we=0,Ge=[];"function"==typeof define&&define.amd?define("skrollr",function(){return T}):"undefined"!=typeof module&&module.exports?module.exports=T:c.skrollr=T}(window,document),function(r,n){"use strict";var s,c,u,h,d,p,i=n.skrollr,g=n.history,f=!!g.pushState,a=function(e){return e!==r&&("A"===e.tagName.toUpperCase()?e:a(e.parentNode))},l=function(e){if(1===e.which||0===e.button){var t=a(e.target);t&&o(t)&&e.preventDefault()}},o=function(e,t){var a,n,i=e.getAttribute("href");if(!/^#/.test(i))return!1;if(null!==(n=d?d(e):e.getAttribute("data-menu-top")))a=/p$/.test(n)?n.slice(0,-1)/100*r.documentElement.clientHeight:+n*p;else{var l=r.getElementById(i.substr(1));if(!l)return!1;a=s.relativeToAbsolute(l,"top","top");var o=l.getAttribute("data-menu-offset");null!==o&&(a+=+o)}return f&&!t&&g.pushState({top:a},"",i),h&&!t?s.animateTo(a,{duration:u(s.getScrollTop(),a),easing:c}):S(function(){s.setScrollTop(a)}),!0},S=function(e){n.setTimeout(e,1)};i.menu={},i.menu.init=function(e,t){var a;s=e,c=(t=t||{}).easing||"sqrt",h=!1!==t.animate,u=t.duration||500,d=t.handleLink,p=t.scale||1,"number"==typeof u&&(a=u,u=function(){return a}),i.addEvent(r,"click",l),f&&i.addEvent(n,"popstate",function(e){var t=(e.state||{}).top||0;S(function(){s.setScrollTop(t)})},!1),function(){if(n.location.hash&&r.querySelector){var e=r.querySelector('a[href="'+n.location.hash+'"]');e&&o(e,!0)}}()},i.menu.click=function(e){o(e)},S(function(){n.location.hash&&n.scrollTo(0,0)})}(document,window),paceOptions={restartOnPushState:!1},function(){var s,c,e,t,l,a,n,i,o,r,u,y,h,d,p,g,v,A,f,S,m,x,V,P,R,T,k,M,D,b,L,C,O,B,I,N,w,G,F,H,E,z,_,W,Y,X,U,j=[].slice,q={}.hasOwnProperty,J=function(e,t){function a(){this.constructor=e}for(var n in t)q.call(t,n)&&(e[n]=t[n]);return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e},$=[].indexOf||function(e){for(var t=0,a=this.length;t<a;t++)if(t in this&&this[t]===e)return t;return-1};for(S={catchupTime:500,initialRate:.03,minTime:500,ghostTime:500,maxProgressPerFrame:10,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},M=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,f=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==b&&(b=function(e){return setTimeout(e,50)},f=function(e){return clearTimeout(e)}),C=function(t){var a,n;return a=M(),(n=function(){var e;return 33<=(e=M()-a)?(a=M(),t(e,function(){return b(n)})):setTimeout(n,33-e)})()},L=function(){var e,t,a;return a=arguments[0],t=arguments[1],e=3<=arguments.length?j.call(arguments,2):[],"function"==typeof a[t]?a[t].apply(a,e):a[t]},m=function(){var e,t,a,n,i,l,o;for(t=arguments[0],l=0,o=(n=2<=arguments.length?j.call(arguments,1):[]).length;l<o;l++)if(a=n[l])for(e in a)q.call(a,e)&&(i=a[e],null!=t[e]&&"object"==typeof t[e]&&null!=i&&"object"==typeof i?m(t[e],i):t[e]=i);return t},g=function(e){var t,a,n,i,l;for(a=t=0,i=0,l=e.length;i<l;i++)n=e[i],a+=Math.abs(n),t++;return a/t},V=function(e,t){var a,n,i;if(null==e&&(e="options"),null==t&&(t=!0),i=document.querySelector("[data-pace-"+e+"]")){if(a=i.getAttribute("data-pace-"+e),!t)return a;try{return JSON.parse(a)}catch(e){return n=e,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",n):void 0}}},n=function(){function e(){}return e.prototype.on=function(e,t,a,n){var i;return null==n&&(n=!1),null==this.bindings&&(this.bindings={}),null==(i=this.bindings)[e]&&(i[e]=[]),this.bindings[e].push({handler:t,ctx:a,once:n})},e.prototype.once=function(e,t,a){return this.on(e,t,a,!0)},e.prototype.off=function(e,t){var a,n,i;if(null!=(null!=(n=this.bindings)?n[e]:void 0)){if(null==t)return delete this.bindings[e];for(a=0,i=[];a<this.bindings[e].length;)i.push(this.bindings[e][a].handler===t?this.bindings[e].splice(a,1):a++);return i}},e.prototype.trigger=function(){var e,t,a,n,i,l,o,r,s;if(a=arguments[0],e=2<=arguments.length?j.call(arguments,1):[],null!=(o=this.bindings)?o[a]:void 0){for(i=0,s=[];i<this.bindings[a].length;)n=(r=this.bindings[a][i]).handler,t=r.ctx,l=r.once,n.apply(null!=t?t:this,e),s.push(l?this.bindings[a].splice(i,1):i++);return s}},e}(),null==window.Pace&&(window.Pace={}),m(Pace,n.prototype),D=Pace.options=m({},S,window.paceOptions,V()),z=0,W=(X=["ajax","document","eventLag","elements"]).length;z<W;z++)!0===D[N=X[z]]&&(D[N]=S[N]);o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return J(t,e),t}(Error),c=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(!(e=document.querySelector(D.target)))throw new o;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">n\t<div class="pace-progress-inner"></div>n</div>n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return(e=this.getElement()).className=e.className.replace("pace-active",""),e.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){o=e}return this.el=void 0},e.prototype.render=function(){var e,t;return null!=document.querySelector(D.target)&&((e=this.getElement()).children[0].style.width=this.progress+"%",(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),document.querySelector("h1.desktop span span").setAttribute("data-progress-text",""+(0|this.progress)),document.querySelector("h1.tablet span span").setAttribute("data-progress-text",""+(0|this.progress)),document.querySelector("h1.phone span span").setAttribute("data-progress-text",""+(0|this.progress)),100<=this.progress?t="99":(t=this.progress<10?"0":"",t+=0|this.progress),e.children[0].setAttribute("data-progress",""+t)),this.lastRenderedProgress=this.progress)},e.prototype.done=function(){return 100<=this.progress},e}(),i=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var a,n,i,l,o;if(null!=this.bindings[e]){for(o=[],n=0,i=(l=this.bindings[e]).length;n<i;n++)a=l[n],o.push(a.call(this,t));return o}},e.prototype.on=function(e,t){var a;return null==(a=this.bindings)[e]&&(a[e]=[]),this.bindings[e].push(t)},e}(),E=window.XMLHttpRequest,H=window.XDomainRequest,F=window.WebSocket,x=function(e,t){var a,n,i;for(a in i=[],t.prototype)try{n=t.prototype[a],i.push(null==e[a]&&"function"!=typeof n?e[a]=n:void 0)}catch(e){e}return i},T=[],Pace.ignore=function(){var e,t,a;return t=arguments[0],e=2<=arguments.length?j.call(arguments,1):[],T.unshift("ignore"),a=t.apply(null,e),T.shift(),a},Pace.track=function(){var e,t,a;return t=arguments[0],e=2<=arguments.length?j.call(arguments,1):[],T.unshift("track"),a=t.apply(null,e),T.shift(),a},I=function(e){var t;if(null==e&&(e="GET"),"track"===T[0])return"force";if(!T.length&&D.ajax){if("socket"===e&&D.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),0<=$.call(D.ajax.trackMethods,t))return!0}return!1},r=function(e){function t(){var a,i=this;t.__super__.constructor.apply(this,arguments),a=function(a){var n;return n=a.open,a.open=function(e,t){return I(e)&&i.trigger("request",{type:e,url:t,request:a}),n.apply(a,arguments)}},window.XMLHttpRequest=function(e){var t;return t=new E(e),a(t),t},x(window.XMLHttpRequest,E),null!=H&&(window.XDomainRequest=function(){var e;return e=new H,a(e),e},x(window.XDomainRequest,H)),null!=F&&D.ajax.trackWebSockets&&(window.WebSocket=function(e,t){var a;return a=null!=t?new F(e,t):new F(e),I("socket")&&i.trigger("request",{type:"socket",url:e,protocols:t,request:a}),a},x(window.WebSocket,F))}return J(t,i),t}(),_=null,B=function(e){var t,a,n,i;for(a=0,n=(i=D.ajax.ignoreURLs).length;a<n;a++)if("string"==typeof(t=i[a])){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},(P=function(){return null==_&&(_=new r),_})().on("request",function(e){var t,l,o,r,a;return r=e.type,o=e.request,a=e.url,B(a)?void 0:Pace.running||!1===D.restartOnRequestAfter&&"force"!==I(r)?void 0:(l=arguments,"boolean"==typeof(t=D.restartOnRequestAfter||0)&&(t=0),setTimeout(function(){var e,t,a,n,i;if("socket"===r?o.readyState<2:0<(a=o.readyState)&&a<4){for(Pace.restart(),i=[],e=0,t=(n=Pace.sources).length;e<t;e++){if((N=n[e])instanceof s){N.watch.apply(N,l);break}i.push(void 0)}return i}},t))}),s=function(){function e(){var e=this;this.elements=[],P().on("request",function(){return e.watch.apply(e,arguments)})}return e.prototype.watch=function(e){var t,a,n,i;return n=e.type,t=e.request,i=e.url,B(i)?void 0:(a="socket"===n?new h(t):new d(t),this.elements.push(a))},e}(),d=function(t){var e,a,n,i,l,o=this;if(this.progress=0,null!=window.ProgressEvent)for(t.addEventListener("progress",function(e){return o.progress=e.lengthComputable?100*e.loaded/e.total:o.progress+(100-o.progress)/2}),a=0,n=(l=["load","abort","timeout","error"]).length;a<n;a++)e=l[a],t.addEventListener(e,function(){return o.progress=100});else i=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?o.progress=100:3===t.readyState&&(o.progress=50),"function"==typeof i?i.apply(null,arguments):void 0}},h=function(e){var t,a,n,i,l=this;for(a=this.progress=0,n=(i=["error","open"]).length;a<n;a++)t=i[a],e.addEventListener(t,function(){return l.progress=100})},t=function(e){var t,a,n,i;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),a=0,n=(i=e.selectors).length;a<n;a++)t=i[a],this.elements.push(new l(t))},l=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},D.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),e=function(){function e(){var e,t,a=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=a.states[document.readyState]&&(a.progress=a.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),a=function(){var t,a,n,i,l,o=this;this.progress=0,l=[],i=t=0,n=M(),a=setInterval(function(){var e;return e=M()-n-50,n=M(),l.push(e),l.length>D.eventLag.sampleCount&&l.shift(),t=g(l),++i>=D.eventLag.minSamples&&t<D.eventLag.lagThreshold?(o.progress=100,clearInterval(a)):o.progress=3/(t+3)*100},50)},y=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=D.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=L(this.source,"progress"))}return e.prototype.tick=function(e,t){var a;return null==t&&(t=L(this.source,"progress")),100<=t&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/D.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),a=1-Math.pow(this.progress/100,D.easeFactor),this.progress+=a*this.rate*e,this.progress=Math.min(this.lastProgress+D.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),A=p=G=v=O=w=null,Pace.running=!1,R=function(){return D.restartOnPushState?Pace.restart():void 0},null!=window.history.pushState&&(Y=window.history.pushState,window.history.pushState=function(){return R(),Y.apply(window.history,arguments)}),null!=window.history.replaceState&&(U=window.history.replaceState,window.history.replaceState=function(){return R(),U.apply(window.history,arguments)}),u={ajax:s,elements:t,document:e,eventLag:a},(k=function(){var e,t,a,n,i,l,o,r;for(Pace.sources=w=[],t=0,n=(l=["ajax","elements","document","eventLag"]).length;t<n;t++)!1!==D[e=l[t]]&&w.push(new u[e](D[e]));for(a=0,i=(r=null!=(o=D.extraSources)?o:[]).length;a<i;a++)N=r[a],w.push(new N(D));return Pace.bar=v=new c,O=[],G=new y})(),Pace.stop=function(){return Pace.trigger("stop"),Pace.running=!1,v.destroy(),A=!0,null!=p&&("function"==typeof f&&f(p),p=null),k()},Pace.restart=function(){return Pace.trigger("restart"),Pace.stop(),Pace.start()},Pace.go=function(){var m;return Pace.running=!0,v.render(),m=M(),A=!1,p=C(function(e,t){var a,n,i,l,o,r,s,c,u,h,d,p,g,f,S;for(100-v.progress,n=h=0,i=!0,r=d=0,g=w.length;d<g;r=++d)for(N=w[r],u=null!=O[r]?O[r]:O[r]=[],s=p=0,f=(o=null!=(S=N.elements)?S:[N]).length;p<f;s=++p)l=o[s],i&=(c=null!=u[s]?u[s]:u[s]=new y(l)).done,c.done||(n++,h+=c.tick(e));return a=h/n,v.update(G.tick(e,a)),v.done()||i||A?(v.update(100),Pace.trigger("done"),setTimeout(function(){return v.finish(),Pace.running=!1,Pace.trigger("hide")},Math.max(D.ghostTime,Math.max(D.minTime-(M()-m),0)))):t()})},Pace.start=function(e){m(D,e),Pace.running=!0;try{v.render()}catch(e){o=e}return document.querySelector(".pace")?(Pace.trigger("start"),Pace.go()):setTimeout(Pace.start,50)},"function"==typeof define&&define.amd?define(function(){return Pace}):"object"==typeof exports?module.exports=Pace:D.startOnPageLoad&&Pace.start()}.call(this);var data=[{type:"FeatureCollection",features:[{geometry:{coordinates:[-122.08205,37.3855745],type:"Point"},id:1,type:"Feature",properties:{Category:"Technology",geo_accuracy:"city",geo_latitude:"37.3855745",Value2018:302063,Value2016:229198,Value2017:245581,Value2014:158843,Value2015:173652,Value2012:107857,Value2013:113669,Value2010:114260,Value2011:111498,Category_Original:"Technology",Rank2014:1,Rank2013:2,Rank2016:1,Rank2015:2,Rank2010:1,Rank2012:3,Rank2011:2,geo_longitude:"-122.08205",City:"Mountain View",Brand:"Google",Pin:76.87977472029137,Country:"USA",Rank2018:1,Rank2017:1}},{geometry:{coordinates:[-122.0322519,37.3230107],type:"Point"},id:2,type:"Feature",properties:{Category:"Technology",geo_accuracy:"administrative",geo_latitude:"37.3230107",Value2018:300063,Value2016:228460,Value2017:234671,Value2014:147880,Value2015:246992,Value2012:182951,Value2013:185071,Value2010:83153,Value2011:153285,Category_Original:"Technology",Rank2014:2,Rank2013:1,Rank2016:2,Rank2015:1,Rank2010:3,Rank2012:1,Rank2011:1,geo_longitude:"-122.0322519",City:"Cupertino",Brand:"Apple",Pin:76.71800421282673,Country:"USA",Rank2018:2,Rank2017:2}},{geometry:{coordinates:[-122.3300624,47.6038321],type:"Point"},id:3,type:"Feature",properties:{Category:"Retail",geo_accuracy:"city",geo_latitude:"47.6038321",Value2018:207594,Value2016:98988,Value2017:139286,Value2014:64255,Value2015:62292,Value2012:34077,Value2013:45727,Value2010:27459,Value2011:37628,Category_Original:"Retail",Rank2014:10,Rank2013:14,Rank2016:7,Rank2015:14,Rank2010:15,Rank2012:18,Rank2011:14,geo_longitude:"-122.3300624",City:"Seattle",Brand:"Amazon.com",Pin:68.1390021457897,Country:"USA",Rank2018:3,Rank2017:4}},{geometry:{coordinates:[-122.1238767,47.6694141],type:"Point"},id:4,type:"Feature",properties:{Category:"Technology",geo_accuracy:"city",geo_latitude:"47.6694141",Value2018:200987,Value2016:121824,Value2017:143222,Value2014:90185,Value2015:115500,Value2012:76651,Value2013:69814,Value2010:76344,Value2011:78243,Category_Original:"Technology",Rank2014:4,Rank2013:7,Rank2016:3,Rank2015:3,Rank2010:4,Rank2012:5,Rank2011:5,geo_longitude:"-122.1238767",City:"Redmond",Brand:"Microsoft",Pin:67.42182155470196,Country:"USA",Rank2018:4,Rank2017:3}},{geometry:{coordinates:[114.0570068,22.5462321],type:"Point"},id:5,type:"Feature",properties:{Category:"Technology",geo_accuracy:"city",geo_latitude:"22.5462321",Value2018:178990,Value2016:84945,Value2017:108292,Value2014:53615,Value2015:76572,Value2012:17992,Value2013:27273,Value2010:"-",Value2011:15131,Category_Original:"Technology",Rank2014:14,Rank2013:21,Rank2016:11,Rank2015:11,Rank2010:"-",Rank2012:37,Rank2011:52,geo_longitude:"114.0570068",City:"Shenzhen",Brand:"Tencent",Pin:64.89809161187591,Country:"China",Rank2018:5,Rank2017:8}},{geometry:{coordinates:[-122.1821871,37.4538274],type:"Point"},id:6,type:"Feature",properties:{Category:"Technology",geo_accuracy:"administrative",geo_latitude:"37.4538274",Value2018:162106,Value2016:102551,Value2017:129800,Value2014:35740,Value2015:71121,Value2012:33233,Value2013:21261,Value2010:"-",Value2011:19102,Category_Original:"Technology",Rank2014:21,Rank2013:31,Rank2016:5,Rank2015:12,Rank2010:"-",Rank2012:19,Rank2011:35,geo_longitude:"-122.1821871",City:"Menlo Park",Brand:"Facebook",Pin:62.797572022467165,Country:"USA",Rank2018:6,Rank2017:5}},{geometry:{coordinates:[-122.419199,37.7789601],type:"Point"},id:7,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:"37.7789601",Value2018:145611,Value2016:100800,Value2017:110999,Value2014:79197,Value2015:91962,Value2012:38284,Value2013:56060,Value2010:24883,Value2011:28553,Category_Original:"Payments",Rank2014:7,Rank2013:9,Rank2016:6,Rank2015:5,Rank2010:18,Rank2012:15,Rank2011:20,geo_longitude:"-122.419199",City:"San Francisco",Brand:"Visa",Pin:60.58049061952179,Country:"USA",Rank2018:7,Rank2017:7}},{geometry:{coordinates:[-87.9289504,41.8328085],type:"Point"},id:8,type:"Feature",properties:{Category:"Food",geo_accuracy:"administrative",geo_latitude:"41.8328085",Value2018:126044,Value2016:88654,Value2017:97723,Value2014:85706,Value2015:81162,Value2012:95188,Value2013:90256,Value2010:66005,Value2011:81016,Category_Original:"Fast Food",Rank2014:5,Rank2013:4,Rank2016:9,Rank2015:9,Rank2010:6,Rank2012:4,Rank2011:4,geo_longitude:"-87.9289504",City:"Oak Brook",Brand:"McDonald's",Pin:57.69225460963605,Country:"USA",Rank2018:8,Rank2017:10}},{geometry:{coordinates:[120.1504858,30.2756741],type:"Point"},id:9,type:"Feature",properties:{Category:"Retail",geo_accuracy:"city",geo_latitude:30.2756741,Value2018:113401,Value2016:49298,Value2017:59127,Value2014:"-",Value2015:66375,Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Retail",Rank2014:"-",Rank2013:"-",Rank2016:18,Rank2015:13,Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:120.1504858,City:"Hangzhou",Brand:"Alibaba",Pin:55.643177909114755,Country:"China",Rank2018:9,Rank2017:14}},{geometry:{coordinates:[-96.7968994,32.7761963],type:"Point"},id:10,type:"Feature",properties:{Category:"Telecoms",geo_accuracy:"city",geo_latitude:"32.7761963",Value2018:106698,Value2016:107387,Value2017:115112,Value2014:77883,Value2015:89492,Value2012:68870,Value2013:75507,Value2010:23714,Value2011:69916,Category_Original:"Telecoms",Rank2014:8,Rank2013:6,Rank2016:4,Rank2015:6,Rank2010:22,Rank2012:8,Rank2011:7,geo_longitude:"-96.7968994",City:"Dallas",Brand:"AT&T",Pin:54.48714096555381,Country:"USA",Rank2018:10,Rank2017:6}},{geometry:{coordinates:[-73.7140195,41.1264849],type:"Point"},id:11,type:"Feature",properties:{Category:"Technology",geo_accuracy:"administrative",geo_latitude:"41.1264849",Value2018:96269,Value2016:86206,Value2017:102088,Value2014:107541,Value2015:93987,Value2012:115985,Value2013:112536,Value2010:86383,Value2011:100849,Category_Original:"Technology",Rank2014:3,Rank2013:3,Rank2016:10,Rank2015:4,Rank2010:2,Rank2012:2,Rank2011:3,geo_longitude:"-73.7140195",City:"Armonk",Brand:"IBM",Pin:52.57654957086259,Country:"USA",Rank2018:11,Rank2017:9}},{geometry:{coordinates:[-73.9865812,40.7305991],type:"Point"},id:12,type:"Feature",properties:{Category:"Telecoms",geo_accuracy:"city",geo_latitude:"40.7305991",Value2018:84897,Value2016:93220,Value2017:89279,Value2014:63460,Value2015:86009,Value2012:49151,Value2013:53004,Value2010:24675,Value2011:42828,Category_Original:"Telecoms",Rank2014:11,Rank2013:12,Rank2016:8,Rank2015:7,Rank2010:20,Rank2012:9,Rank2011:13,geo_longitude:"-73.9865812",City:"New York City",Brand:"Verizon",Pin:50.31022741910905,Country:"USA",Rank2018:12,Rank2017:11}},{geometry:{coordinates:[-73.9865812,40.7305991],type:"Point"},id:13,type:"Feature",properties:{Category:"Tobacco",geo_accuracy:"city",geo_latitude:"40.7305991",Value2018:81914,Value2016:84143,Value2017:87519,Value2014:67341,Value2015:80352,Value2012:73612,Value2013:69383,Value2010:57047,Value2011:67522,Category_Original:"Tobacco",Rank2014:9,Rank2013:8,Rank2016:12,Rank2015:10,Rank2010:7,Rank2012:7,Rank2011:8,geo_longitude:"-73.9865812",City:"New York City",Brand:"Marlboro",Pin:49.67897587841915,Country:"USA",Rank2018:13,Rank2017:12}},{geometry:{coordinates:[-84.3901849,33.7490987],type:"Point"},id:14,type:"Feature",properties:{Category:"Food",geo_accuracy:"city",geo_latitude:"33.7490987",Value2018:79964,Value2016:80314,Value2017:78142,Value2014:80683,Value2015:83841,Value2012:74286,Value2013:78415,Value2010:67983,Value2011:73752,Category_Original:"Soft Drinks",Rank2014:6,Rank2013:5,Rank2016:13,Rank2015:8,Rank2010:5,Rank2012:6,Rank2011:6,geo_longitude:"-84.3901849",City:"Atlanta, Georgia",Brand:"Coca-Cola",Pin:49.25713493750167,Country:"USA",Rank2018:14,Rank2017:13}},{geometry:{coordinates:[-73.7145746,41.0409305],type:"Point"},id:15,type:"Feature",properties:{Category:"Finance",geo_accuracy:"hamlet",geo_latitude:"41.0409305",Value2018:70872,Value2016:46141,Value2017:49928,Value2014:39497,Value2015:40188,Value2012:20759,Value2013:27821,Value2010:11659,Value2011:13543,Category_Original:"Payments",Rank2014:18,Rank2013:20,Rank2016:20,Rank2015:20,Rank2010:67,Rank2012:29,Rank2011:60,geo_longitude:"-73.7145746",City:"Purchase, New York",Brand:"MasterCard",Pin:47.18412667886301,Country:"USA",Rank2018:15,Rank2017:20}},{geometry:{coordinates:[-84.3901849,33.7490987],type:"Point"},id:16,type:"Feature",properties:{Category:"Logistics",geo_accuracy:"city",geo_latitude:"33.7490987",Value2018:60412,Value2016:49816,Value2017:58275,Value2014:47738,Value2015:51798,Value2012:37129,Value2013:42747,Value2010:26492,Value2011:35737,Category_Original:"Logistics",Rank2014:16,Rank2013:15,Rank2016:17,Rank2015:18,Rank2010:16,Rank2012:16,Rank2011:17,geo_longitude:"-84.3901849",City:"Atlanta, Georgia",Brand:"UPS",Pin:44.54292111662822,Country:"USA",Rank2018:16,Rank2017:16}},{geometry:{coordinates:[8.6433518,49.3038134],type:"Point"},id:17,type:"Feature",properties:{Category:"Technology",geo_accuracy:"administrative",geo_latitude:"49.3038134",Value2018:55366,Value2016:39023,Value2017:45194,Value2014:36390,Value2015:38225,Value2012:25715,Value2013:34365,Value2010:24291,Value2011:26078,Category_Original:"Technology",Rank2014:19,Rank2013:19,Rank2016:22,Rank2015:24,Rank2010:21,Rank2012:22,Rank2011:23,geo_longitude:"8.6433518",City:"Walldorf",Brand:"SAP",Pin:43.14798338536157,Country:"Germany",Rank2018:17,Rank2017:21}},{geometry:{coordinates:[-122.419199,37.7789601],type:"Point"},id:18,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:"37.7789601",Value2018:54952,Value2016:58540,Value2017:58424,Value2014:54262,Value2015:59310,Value2012:39754,Value2013:47748,Value2010:18746,Value2011:36876,Category_Original:"Regional Banks",Rank2014:13,Rank2013:13,Rank2016:14,Rank2015:16,Rank2010:30,Rank2012:14,Rank2011:16,geo_longitude:"-122.419199",City:"San Francisco",Brand:"Wells Fargo",Pin:43.02949720352783,Country:"USA",Rank2018:18,Rank2017:15}},{geometry:{coordinates:[-118.3084489,34.181547],type:"Point"},id:19,type:"Feature",properties:{Category:"Entertainment",geo_accuracy:"city",geo_latitude:"34.181547",Value2018:53833,Value2016:49229,Value2017:52040,Value2014:34538,Value2015:42962,Value2012:17056,Value2013:23913,Value2010:15e3,Value2011:17290,Category_Original:"Entertainment",Rank2014:23,Rank2013:26,Rank2016:19,Rank2015:19,Rank2010:41,Rank2012:43,Rank2011:38,geo_longitude:"-118.3084489",City:"Burbank, Los Angeles County",Brand:"Disney",Pin:42.70596913813345,Country:"USA",Rank2018:19,Rank2017:18}},{geometry:{coordinates:[-84.3901849,33.7490987],type:"Point"},id:20,type:"Feature",properties:{Category:"Retail",geo_accuracy:"city",geo_latitude:"33.7490987",Value2018:47229,Value2016:36440,Value2017:40327,Value2014:22165,Value2015:27705,Value2012:12968,Value2013:18488,Value2010:8971,Value2011:9877,Category_Original:"Retail",Rank2014:40,Rank2013:41,Rank2016:26,Rank2015:31,Rank2010:81,Rank2012:62,Rank2011:89,geo_longitude:"-84.3901849",City:"Atlanta, Georgia",Brand:"The Home Depot",Pin:40.69034451740678,Country:"USA",Rank2018:20,Rank2017:24}},{geometry:{coordinates:[114.1628131,22.2793278],type:"Point"},id:21,type:"Feature",properties:{Category:"Telecoms",geo_accuracy:"city",geo_latitude:"22.2793278",Value2018:46349,Value2016:55923,Value2017:56535,Value2014:49899,Value2015:59895,Value2012:47041,Value2013:55368,Value2010:52616,Value2011:57326,Category_Original:"Telecoms",Rank2014:15,Rank2013:10,Rank2016:15,Rank2015:15,Rank2010:8,Rank2012:10,Rank2011:9,geo_longitude:"114.1628131",City:"Hongkong",Brand:"China Mobile",Pin:40.40665669812133,Country:"China",Rank2018:21,Rank2017:17}},{geometry:{coordinates:[116.625088590652,40.2505379],type:"Point"},id:22,type:"Feature",properties:{Category:"Finance",geo_accuracy:"administrative",geo_latitude:"40.2505379",Value2018:45853,Value2016:33637,Value2017:31570,Value2014:42101,Value2015:38808,Value2012:41518,Value2013:41115,Value2010:43927,Value2011:44440,Category_Original:"Regional Banks",Rank2014:17,Rank2013:16,Rank2016:27,Rank2015:22,Rank2010:11,Rank2012:13,Rank2011:11,geo_longitude:"116.625088590652",City:"Beijing",Brand:"ICBC",Pin:40.24504535680339,Country:"China",Rank2018:22,Rank2017:28}},{geometry:{coordinates:[-122.3300624,47.6038321],type:"Point"},id:23,type:"Feature",properties:{Category:"Food",geo_accuracy:"city",geo_latitude:"47.6038321",Value2018:44503,Value2016:43565,Value2017:44230,Value2014:25779,Value2015:29313,Value2012:17072,Value2013:17892,Value2010:8490,Value2011:11901,Category_Original:"Fast Food",Rank2014:31,Rank2013:44,Rank2016:21,Rank2015:29,Rank2010:85,Rank2012:42,Rank2011:72,geo_longitude:"-122.3300624",City:"Seattle",Brand:"Starbucks",Pin:39.79870285966235,Country:"USA",Rank2018:23,Rank2017:22}},{geometry:{coordinates:[-75.1652215,39.9525839],type:"Point"},id:24,type:"Feature",properties:{Category:"Telecoms",geo_accuracy:"-",geo_latitude:39.9525839,Value2018:43056,Value2016:"-",Value2017:41808,Value2014:"-",Value2015:"-",Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Telecoms",Rank2014:"-",Rank2013:"-",Rank2016:"-",Rank2015:"-",Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:-75.1652215,City:"Philadelphia, Pennsylvania",Brand:"Xfinity",Pin:39.30933477575211,Country:"USA",Rank2018:24,Rank2017:23}},{geometry:{coordinates:[7.1006599,50.7358511],type:"Point"},id:25,type:"Feature",properties:{Category:"Telecoms",geo_accuracy:"city",geo_latitude:"50.7358511",Value2018:41499,Value2016:37733,Value2017:38493,Value2014:28756,Value2015:33834,Value2012:26837,Value2013:23893,Value2010:13010,Value2011:29774,Category_Original:"Telecoms",Rank2014:27,Rank2013:27,Rank2016:23,Rank2015:27,Rank2010:55,Rank2012:20,Rank2011:19,geo_longitude:"7.1006599",City:"Bonn",Brand:"Deutsche Telekom",Pin:38.76937689141773,Country:"Germany",Rank2018:25,Rank2017:25}},{geometry:{coordinates:[2.3521334,48.8565056],type:"Point"},id:26,type:"Feature",properties:{Category:"Luxury",geo_accuracy:"city",geo_latitude:"48.8565056",Value2018:41138,Value2016:28508,Value2017:29242,Value2014:25873,Value2015:27445,Value2012:25920,Value2013:22719,Value2010:19781,Value2011:24312,Category_Original:"Luxury",Rank2014:30,Rank2013:29,Rank2016:30,Rank2015:32,Rank2010:29,Rank2012:21,Rank2011:26,geo_longitude:"2.3521334",City:"Paris",Brand:"Louis Vuitton",Pin:38.64211283158907,Country:"France",Rank2018:26,Rank2017:29}},{geometry:{coordinates:[-73.9865812,40.7305991],type:"Point"},id:27,type:"Feature",properties:{Category:"Telecoms",geo_accuracy:"city",geo_latitude:"40.7305991",Value2018:39372,Value2016:"-",Value2017:"-",Value2014:"-",Value2015:"-",Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Telecoms",Rank2014:"-",Rank2013:"-",Rank2016:"-",Rank2015:"-",Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:"-73.9865812",City:"New York City",Brand:"Spectrum",Pin:38.00772622145275,Country:"USA",Rank2018:27,Rank2017:"-"}},{geometry:{coordinates:[-73.37486,41.2943069],type:"Point"},id:28,type:"Feature",properties:{Category:"Conglomerate",geo_accuracy:"administrative",geo_latitude:"41.2943069",Value2018:39041,Value2016:54093,Value2017:50208,Value2014:56685,Value2015:59272,Value2012:45810,Value2013:55357,Value2010:45054,Value2011:50318,Category_Original:"Conglomerate",Rank2014:12,Rank2013:11,Rank2016:16,Rank2015:17,Rank2010:9,Rank2012:11,Rank2011:10,geo_longitude:"-73.37486",City:"Fairfield, Connecticut",Brand:"General Electric",Pin:37.88656444555142,Country:"USA",Rank2018:28,Rank2017:19}},{geometry:{coordinates:[-122.8037804,45.4871723],type:"Point"},id:29,type:"Feature",properties:{Category:"Apparel",geo_accuracy:"city",geo_latitude:"45.4871723",Value2018:38479,Value2016:37472,Value2017:34185,Value2014:24579,Value2015:29717,Value2012:16255,Value2013:15817,Value2010:12597,Value2011:13917,Category_Original:"Apparel",Rank2014:34,Rank2013:56,Rank2016:24,Rank2015:28,Rank2010:59,Rank2012:44,Rank2011:57,geo_longitude:"-122.8037804",City:"Beaverton",Brand:"Nike",Pin:37.679149724282475,Country:"USA",Rank2018:29,Rank2017:26}},{geometry:{coordinates:[-121.8831349,37.3438502],type:"Point"},id:30,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:"37.3438502",Value2018:35440,Value2016:15910,Value2017:19156,Value2014:9833,Value2015:11806,Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Payments",Rank2014:97,Rank2013:"-",Rank2016:65,Rank2015:88,Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:"-121.8831349",City:"San Jose, California",Brand:"PayPal",Pin:36.51835680036278,Country:"USA",Rank2018:30,Rank2017:52}},{geometry:{coordinates:[-94.2160507493699,36.3674225],type:"Point"},id:31,type:"Feature",properties:{Category:"Retail",geo_accuracy:"city",geo_latitude:"36.3674225",Value2018:34002,Value2016:27275,Value2017:27934,Value2014:35325,Value2015:35245,Value2012:34436,Value2013:36220,Value2010:39421,Value2011:37277,Category_Original:"Retail",Rank2014:22,Rank2013:18,Rank2016:32,Rank2015:26,Rank2010:13,Rank2012:17,Rank2011:15,geo_longitude:"-94.2160507493699",City:"Bentonville, Arkansas",Brand:"Walmart",Pin:35.94418152611136,Country:"USA",Rank2018:31,Rank2017:31}},{geometry:{coordinates:[-6.2600969,53.3494299],type:"Point"},id:32,type:"Feature",properties:{Category:"Technology",geo_accuracy:"city",geo_latitude:"53.3494299",Value2018:33723,Value2016:22813,Value2017:27243,Value2014:18105,Value2015:20183,Value2012:16118,Value2013:16503,Value2010:14734,Value2011:15427,Category_Original:"Technology",Rank2014:55,Rank2013:53,Rank2016:28,Rank2015:51,Rank2010:44,Rank2012:45,Rank2011:49,geo_longitude:"-6.2600969",City:"Dublin",Brand:"Accenture",Pin:35.83078397056998,Country:"Ireland",Rank2018:32,Rank2017:32}},{geometry:{coordinates:[126.9953036,37.5710824],type:"Point"},id:33,type:"Feature",properties:{Category:"Technology",geo_accuracy:"city",geo_latitude:"37.5710824",Value2018:32191,Value2016:19552,Value2017:24007,Value2014:25892,Value2015:21602,Value2012:14164,Value2013:21404,Value2010:11351,Value2011:12160,Category_Original:"Technology",Rank2014:29,Rank2013:30,Rank2016:48,Rank2015:45,Rank2010:68,Rank2012:55,Rank2011:67,geo_longitude:"126.9953036",City:"Seoul",Brand:"Samsung",Pin:35.19591443392299,Country:"South Korea",Rank2018:33,Rank2017:37}},{geometry:{coordinates:[106.384458,27.853313],type:"Point"},id:34,type:"Feature",properties:{Category:"Food",geo_accuracy:"-",geo_latitude:27.853313,Value2018:32113,Value2016:11465,Value2017:16983,Value2014:"-",Value2015:"-",Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Alcohol",Rank2014:"-",Rank2013:"-",Rank2016:93,Rank2015:"-",Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:106.384458,City:"Maotai, Guizhou",Brand:"Kweichow Moutai",Pin:35.163020729256,Country:"China",Rank2018:34,Rank2017:64}},{geometry:{coordinates:[-73.9865812,40.7305991],type:"Point"},id:35,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:"40.7305991",Value2018:30046,Value2016:26641,Value2017:24150,Value2014:34430,Value2015:38093,Value2012:20198,Value2013:23514,Value2010:13912,Value2011:17115,Category_Original:"Payments",Rank2014:24,Rank2013:28,Rank2016:34,Rank2015:25,Rank2010:52,Rank2012:30,Rank2011:40,geo_longitude:"-73.9865812",City:"New York City",Brand:"American Express",Pin:34.26987690440405,Country:"USA",Rank2018:35,Rank2017:36}},{geometry:{coordinates:[137.310496,35.140883],type:"Point"},id:36,type:"Feature",properties:{Category:"Cars",geo_accuracy:"city",geo_latitude:"35.140883",Value2018:29987,Value2016:29501,Value2017:28660,Value2014:29598,Value2015:28913,Value2012:21779,Value2013:24497,Value2010:21769,Value2011:24198,Category_Original:"Cars",Rank2014:26,Rank2013:23,Rank2016:28,Rank2015:30,Rank2010:26,Rank2012:28,Rank2011:27,geo_longitude:"137.310496",City:"Toyota",Brand:"Toyota",Pin:34.24375160017217,Country:"Japan",Rank2018:36,Rank2017:30}},{geometry:{coordinates:[-1.3236425,51.4020055],type:"Point"},id:37,type:"Feature",properties:{Category:"Telecoms",geo_accuracy:"town",geo_latitude:"51.4020055",Value2018:28860,Value2016:36750,Value2017:31602,Value2014:36277,Value2015:38461,Value2012:43033,Value2013:39712,Value2010:44404,Value2011:43647,Category_Original:"Telecoms",Rank2014:20,Rank2013:17,Rank2016:25,Rank2015:23,Rank2010:10,Rank2012:12,Rank2011:12,geo_longitude:"-1.3236425",City:"Newbury, Berkshire",Brand:"Vodafone",Pin:33.737570216616476,Country:"UK",Rank2018:37,Rank2017:27}},{geometry:{coordinates:[-121.6846349,37.2333253],type:"Point"},id:38,type:"Feature",properties:{Category:"Technology",geo_accuracy:"administrative",geo_latitude:"37.2333253",Value2018:28316,Value2016:18632,Value2017:21919,Value2014:11667,Value2015:18385,Value2012:15633,Value2013:13757,Value2010:14210,Value2011:13904,Category_Original:"Technology",Rank2014:86,Rank2013:61,Rank2016:51,Rank2015:56,Rank2010:48,Rank2012:49,Rank2011:58,geo_longitude:"-121.6846349",City:"Santa Clara, California",Brand:"Intel",Pin:33.48821676202321,Country:"USA",Rank2018:38,Rank2017:44}},{geometry:{coordinates:[2.3521334,48.8565056],type:"Point"},id:39,type:"Feature",properties:{Category:"Luxury",geo_accuracy:"city",geo_latitude:"48.8565056",Value2018:28063,Value2016:19821,Value2017:23416,Value2014:21844,Value2015:18938,Value2012:19161,Value2013:19129,Value2010:8457,Value2011:11917,Category_Original:"Luxury",Rank2014:41,Rank2013:40,Rank2016:44,Rank2015:55,Rank2010:86,Rank2012:32,Rank2011:71,geo_longitude:"2.3521334",City:"Paris",Brand:"Hermès",Pin:33.371093345113046,Country:"France",Rank2018:39,Rank2017:41}},{geometry:{coordinates:[-90.1978889,38.6272733],type:"Point"},id:40,type:"Feature",properties:{Category:"Food",geo_accuracy:"city",geo_latitude:"38.6272733",Value2018:27031,Value2016:27925,Value2017:27037,Value2014:24414,Value2015:26657,Value2012:15882,Value2013:20297,Value2010:15991,Value2011:15952,Category_Original:"Beer",Rank2014:35,Rank2013:34,Rank2016:31,Rank2015:33,Rank2010:38,Rank2012:48,Rank2011:45,geo_longitude:"-90.1978889",City:"St. Louis",Brand:"Budweiser",Pin:32.88545915387442,Country:"USA",Rank2018:40,Rank2017:33}},{geometry:{coordinates:[116.625088590652,40.2505379],type:"Point"},id:41,type:"Feature",properties:{Category:"Technology",geo_accuracy:"administrative",geo_latitude:"40.2505379",Value2018:26861,Value2016:29030,Value2017:23559,Value2014:29768,Value2015:40041,Value2012:24326,Value2013:20443,Value2010:9356,Value2011:22555,Category_Original:"Technology",Rank2014:25,Rank2013:33,Rank2016:29,Rank2015:21,Rank2010:75,Rank2012:25,Rank2011:29,geo_longitude:"116.625088590652",City:"Beijing",Brand:"Baidu",Pin:32.80421067032987,Country:"China",Rank2018:41,Rank2017:39}},{geometry:{coordinates:[-8.51622216201887,43.3083315],type:"Point"},id:42,type:"Feature",properties:{Category:"Apparel",geo_accuracy:"administrative",geo_latitude:"43.3083315",Value2018:26860,Value2016:25221,Value2017:25135,Value2014:23140,Value2015:22036,Value2012:12616,Value2013:20167,Value2010:8986,Value2011:10335,Category_Original:"Apparel",Rank2014:37,Rank2013:35,Rank2016:35,Rank2015:42,Rank2010:80,Rank2012:66,Rank2011:86,geo_longitude:"-8.51622216201887",City:"Arteixo, A Coruña, Galicia",Brand:"Zara",Pin:32.803731665641955,Country:"Spain",Rank2018:42,Rank2017:34}},{geometry:{coordinates:[114.0570068,22.5462321],type:"Point"},id:43,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:"22.5462321",Value2018:26141,Value2016:16910,Value2017:17260,Value2014:12409,Value2015:15959,Value2012:10174,Value2013:10558,Value2010:"-",Value2011:10540,Category_Original:"Insurance",Rank2014:77,Rank2013:84,Rank2016:57,Rank2015:68,Rank2010:"-",Rank2012:78,Rank2011:83,geo_longitude:"114.0570068",City:"Shenzhen",Brand:"Ping An",Pin:32.456019909669216,Country:"China",Rank2018:43,Rank2017:61}},{geometry:{coordinates:[2.3521334,48.8565056],type:"Point"},id:44,type:"Feature",properties:{Category:"Personal Care",geo_accuracy:"city",geo_latitude:"48.8565056",Value2018:26107,Value2016:23524,Value2017:23899,Value2014:23356,Value2015:23376,Value2012:13773,Value2013:17971,Value2010:14129,Value2011:15719,Category_Original:"Personal Care",Rank2014:36,Rank2013:42,Rank2016:36,Rank2015:38,Rank2010:49,Rank2012:57,Rank2011:46,geo_longitude:"2.3521334",City:"Paris",Brand:"L'Oréal",Pin:32.43941117940834,Country:"France",Rank2018:44,Rank2017:38}},{geometry:{coordinates:[-122.2480219,37.5318804],type:"Point"},id:45,type:"Feature",properties:{Category:"Technology",geo_accuracy:"hamlet",geo_latitude:"37.5318804",Value2018:25802,Value2016:19489,Value2017:21359,Value2014:20913,Value2015:21680,Value2012:22529,Value2013:20039,Value2010:24817,Value2011:26948,Category_Original:"Technology",Rank2014:45,Rank2013:36,Rank2016:49,Rank2015:44,Rank2010:19,Rank2012:27,Rank2011:22,geo_longitude:"-122.2480219",City:"Redwood Shores",Brand:"Oracle",Pin:32.28973485350724,Country:"USA",Rank2018:45,Rank2017:46}},{geometry:{coordinates:[9.1829049,48.7763511],type:"Point"},id:46,type:"Feature",properties:{Category:"Cars",geo_accuracy:"city",geo_latitude:"48.7763511",Value2018:25684,Value2016:22708,Value2017:23513,Value2014:21535,Value2015:21786,Value2012:16111,Value2013:17952,Value2010:13736,Value2011:15344,Category_Original:"Cars",Rank2014:42,Rank2013:43,Rank2016:39,Rank2015:43,Rank2010:53,Rank2012:46,Rank2011:50,geo_longitude:"9.1829049",City:"Stuttgart",Brand:"Mercedes-Benz",Pin:32.231492751112356,Country:"Germany",Rank2018:46,Rank2017:40}},{geometry:{coordinates:[11.5754815,48.1372719],type:"Point"},id:47,type:"Feature",properties:{Category:"Cars",geo_accuracy:"city",geo_latitude:"48.1372719",Value2018:25624,Value2016:26837,Value2017:24559,Value2014:25730,Value2015:26349,Value2012:24623,Value2013:24015,Value2010:21816,Value2011:22425,Category_Original:"Cars",Rank2014:32,Rank2013:24,Rank2016:33,Rank2015:34,Rank2010:25,Rank2012:23,Rank2011:30,geo_longitude:"11.5754815",City:"Munich",Brand:"BMW",Pin:32.201805796058416,Country:"Germany",Rank2018:47,Rank2017:35}},{geometry:{coordinates:[114.0570068,22.5462321],type:"Point"},id:48,type:"Feature",properties:{Category:"Technology",geo_accuracy:"city",geo_latitude:"22.5462321",Value2018:24922,Value2016:18652,Value2017:20388,Value2014:"-",Value2015:15335,Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Technology",Rank2014:"-",Rank2013:"-",Rank2016:50,Rank2015:70,Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:"114.0570068",City:"Shenzhen",Brand:"Huawei",Pin:31.85077565510756,Country:"China",Rank2018:48,Rank2017:49}},{geometry:{coordinates:[116.625088590652,40.2505379],type:"Point"},id:49,type:"Feature",properties:{Category:"Finance",geo_accuracy:"administrative",geo_latitude:"40.2505379",Value2018:23747,Value2016:19617,Value2017:18770,Value2014:25008,Value2015:22065,Value2012:24517,Value2013:26859,Value2010:20929,Value2011:25524,Category_Original:"Regional Banks",Rank2014:33,Rank2013:22,Rank2016:46,Rank2015:41,Rank2010:27,Rank2012:24,Rank2011:24,geo_longitude:"116.625088590652",City:"Beijing",Brand:"China Construction Bank",Pin:31.247327558557718,Country:"China",Rank2018:49,Rank2017:54}},{geometry:{coordinates:[-.1276597,51.5072759],type:"Point"},id:50,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:"51.5072759",Value2018:23633,Value2016:20276,Value2017:20537,Value2014:27051,Value2015:24029,Value2012:19313,Value2013:23970,Value2010:23408,Value2011:22587,Category_Original:"Global Banks",Rank2014:28,Rank2013:25,Rank2016:43,Rank2015:35,Rank2010:23,Rank2012:31,Rank2011:28,geo_longitude:"-0.1276597",City:"London",Brand:"HSBC",Pin:31.18767237694457,Country:"UK",Rank2018:50,Rank2017:48}},{geometry:{coordinates:[-122.4110835,37.6304904],type:"Point"},id:51,type:"Feature",properties:{Category:"Technology",geo_accuracy:"-",geo_latitude:37.6304904,Value2018:22958,Value2016:"-",Value2017:16785,Value2014:"-",Value2015:"-",Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Technology",Rank2014:"-",Rank2013:"-",Rank2016:"-",Rank2015:"-",Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:-122.4110835,City:"San Bruno, California",Brand:"YouTube",Pin:30.830248620034695,Country:"USA",Rank2018:51,Rank2017:65}},{geometry:{coordinates:[-73.5912827,45.5224507],type:"Point"},id:52,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:"45.5224507",Value2018:22924,Value2016:19635,Value2017:21145,Value2014:22620,Value2015:23989,Value2012:17225,Value2013:19968,Value2010:16608,Value2011:17182,Category_Original:"Regional Banks",Rank2014:38,Rank2013:38,Rank2016:45,Rank2015:36,Rank2010:36,Rank2012:40,Rank2011:39,geo_longitude:"-73.5912827",City:"Montreal",Brand:"RBC",Pin:30.812051095589304,Country:"Canada",Rank2018:52,Rank2017:47}},{geometry:{coordinates:[-3.7035825,40.4167047],type:"Point"},id:53,type:"Feature",properties:{Category:"Telecoms",geo_accuracy:"city",geo_latitude:"40.4167047",Value2018:22824,Value2016:21945,Value2017:22002,Value2014:20809,Value2015:21215,Value2012:17113,Value2013:13336,Value2010:12434,Value2011:27249,Category_Original:"Telecoms",Rank2014:46,Rank2013:66,Rank2016:40,Rank2015:46,Rank2010:60,Rank2012:41,Rank2011:21,geo_longitude:"-3.7035825",City:"Madrid",Brand:"Movistar",Pin:30.75841904543658,Country:"Spain",Rank2018:53,Rank2017:43}},{geometry:{coordinates:[11.2555757,43.7698712],type:"Point"},id:54,type:"Feature",properties:{Category:"Luxury",geo_accuracy:"city",geo_latitude:"43.7698712",Value2018:22442,Value2016:12592,Value2017:13548,Value2014:16131,Value2015:13800,Value2012:"-",Value2013:12735,Value2010:7588,Value2011:"-",Category_Original:"Luxury",Rank2014:60,Rank2013:68,Rank2016:80,Rank2015:76,Rank2010:97,Rank2012:"-",Rank2011:"-",geo_longitude:"11.2555757",City:"Florence",Brand:"Gucci",Pin:30.552015187580633,Country:"Italy",Rank2018:54,Rank2017:80}},{geometry:{coordinates:[139.7514388,35.6885203],type:"Point"},id:55,type:"Feature",properties:{Category:"Telecoms",geo_accuracy:"city",geo_latitude:"35.6885203",Value2018:22377,Value2016:19552,Value2017:20197,Value2014:10041,Value2015:11223,Value2012:15882,Value2013:10028,Value2010:12969,Value2011:15449,Category_Original:"Telecoms",Rank2014:95,Rank2013:90,Rank2016:47,Rank2015:96,Rank2010:57,Rank2012:47,Rank2011:48,geo_longitude:"139.7514388",City:"Chiyoda, Tokyo",Brand:"NTT",Pin:30.51664952295375,Country:"Japan",Rank2018:55,Rank2017:50}},{geometry:{coordinates:[-90.0516285,35.1490215],type:"Point"},id:56,type:"Feature",properties:{Category:"Logistics",geo_accuracy:"city",geo_latitude:"35.1490215",Value2018:22218,Value2016:16236,Value2017:19441,Value2014:17002,Value2015:19566,Value2012:11723,Value2013:13732,Value2010:9418,Value2011:11759,Category_Original:"Logistics",Rank2014:58,Rank2013:62,Rank2016:63,Rank2015:53,Rank2010:74,Rank2012:70,Rank2011:73,geo_longitude:"-90.0516285",City:"Memphis, Tennessee",Brand:"FedEx",Pin:30.42983534852083,Country:"USA",Rank2018:56,Rank2017:51}},{geometry:{coordinates:[-122.419199,37.7789601],type:"Point"},id:57,type:"Feature",properties:{Category:"Technology",geo_accuracy:"city",geo_latitude:"37.7789601",Value2018:21331,Value2016:14508,Value2017:16725,Value2014:13710,Value2015:16060,Value2012:13317,Value2013:11816,Value2010:16719,Value2011:16314,Category_Original:"Technology",Rank2014:72,Rank2013:77,Rank2016:67,Rank2015:67,Rank2010:35,Rank2012:59,Rank2011:44,geo_longitude:"-122.419199",City:"San Francisco",Brand:"Cisco",Pin:29.93738032138263,Country:"USA",Rank2018:57,Rank2017:66}},{geometry:{coordinates:[-73.9865812,40.7305991],type:"Point"},id:58,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:"40.7305991",Value2018:21331,Value2016:17055,Value2017:17580,Value2014:17341,Value2015:17486,Value2012:9760,Value2013:13386,Value2010:13403,Value2011:15674,Category_Original:"Global Banks",Rank2014:57,Rank2013:64,Rank2016:56,Rank2015:60,Rank2010:54,Rank2012:82,Rank2011:47,geo_longitude:"-73.9865812",City:"New York City",Brand:"Citi",Pin:29.93738032138263,Country:"USA",Rank2018:58,Rank2017:59}},{geometry:{coordinates:[116.625088590652,40.2505379],type:"Point"},id:59,type:"Feature",properties:{Category:"Retail",geo_accuracy:"administrative",geo_latitude:"40.2505379",Value2018:20933,Value2016:10496,Value2017:"-",Value2014:"-",Value2015:"-",Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Retail",Rank2014:"-",Rank2013:"-",Rank2016:99,Rank2015:"-",Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:"116.625088590652",City:"Beijing",Brand:"JD.com",Pin:29.711752011329427,Country:"China",Rank2018:59,Rank2017:"-"}},{geometry:{coordinates:[72.8327112,18.9523804],type:"Point"},id:60,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:18.9523804,Value2018:20874,Value2016:14440,Value2017:17137,Value2014:"-",Value2015:14027,Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Regional Banks",Rank2014:"-",Rank2013:"-",Rank2016:69,Rank2015:74,Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:72.8327112,City:"Mumbai",Brand:"HDFC Bank",Pin:29.67805016351559,Country:"India",Rank2018:60,Rank2017:63}},{geometry:{coordinates:[-121.9623751,37.2358078],type:"Point"},id:61,type:"Feature",properties:{Category:"Technology",geo_accuracy:"-",geo_latitude:37.2358078,Value2018:20819,Value2016:"-",Value2017:12057,Value2014:"-",Value2015:"-",Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Technology",Rank2014:"-",Rank2013:"-",Rank2016:"-",Rank2015:"-",Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:-121.9623751,City:"Los Gatos, California",Brand:"Netflix",Pin:29.646573220303956,Country:"USA",Rank2018:61,Rank2017:92}},{geometry:{coordinates:[7.1006599,50.7358511],type:"Point"},id:62,type:"Feature",properties:{Category:"Logistics",geo_accuracy:"city",geo_latitude:"50.7358511",Value2018:20568,Value2016:13199,Value2017:15844,Value2014:13687,Value2015:16301,Value2012:7601,Value2013:8940,Value2010:"-",Value2011:"-",Category_Original:"Logistics",Rank2014:73,Rank2013:98,Rank2016:73,Rank2015:66,Rank2010:"-",Rank2012:100,Rank2011:"-",geo_longitude:"7.1006599",City:"Bonn",Brand:"DHL",Pin:29.502182168465104,Country:"Germany",Rank2018:62,Rank2017:70}},{geometry:{coordinates:[4.3113461,52.0799838],type:"Point"},id:63,type:"Feature",properties:{Category:"Oil and Gas",geo_accuracy:"city",geo_latitude:"52.0799838",Value2018:20264,Value2016:14940,Value2017:18346,Value2014:19005,Value2015:18943,Value2012:17781,Value2013:17678,Value2010:15112,Value2011:15168,Category_Original:"Oil and Gas",Rank2014:53,Rank2013:49,Rank2016:66,Rank2015:54,Rank2010:40,Rank2012:39,Rank2011:51,geo_longitude:"4.3113461",City:"The Hague",Brand:"Shell",Pin:29.325645978072025,Country:"Netherlands",Rank2018:63,Rank2017:57}},{geometry:{coordinates:[-84.5124602,39.1014537],type:"Point"},id:64,type:"Feature",properties:{Category:"Baby Care",geo_accuracy:"city",geo_latitude:"39.1014537",Value2018:20183,Value2016:22911,Value2017:22312,Value2014:22598,Value2015:23757,Value2012:18299,Value2013:20594,Value2010:17434,Value2011:19350,Category_Original:"Baby Care",Rank2014:39,Rank2013:32,Rank2016:37,Rank2015:37,Rank2010:33,Rank2012:35,Rank2011:34,geo_longitude:"-84.5124602",City:"Cincinnati, Ohio",Brand:"Pampers",Pin:29.27829696956323,Country:"USA",Rank2018:64,Rank2017:42}},{geometry:{coordinates:[2.3521334,48.8565056],type:"Point"},id:65,type:"Feature",properties:{Category:"Telecoms",geo_accuracy:"city",geo_latitude:"48.8565056",Value2018:19647,Value2016:18465,Value2017:17180,Value2014:15580,Value2015:17384,Value2012:15351,Value2013:13829,Value2010:14018,Value2011:17597,Category_Original:"Telecoms",Rank2014:62,Rank2013:60,Rank2016:53,Rank2015:61,Rank2010:50,Rank2012:50,Rank2011:36,geo_longitude:"2.3521334",City:"Paris",Brand:"Orange",Pin:28.96158839975479,Country:"France",Rank2018:65,Rank2017:62}},{geometry:{coordinates:[-79.3849008,43.6529206],type:"Point"},id:66,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:"43.6529206",Value2018:19628,Value2016:16543,Value2017:18551,Value2014:19950,Value2015:20638,Value2012:14561,Value2013:17781,Value2010:10274,Value2011:16931,Category_Original:"Regional Banks",Rank2014:47,Rank2013:46,Rank2016:60,Rank2015:47,Rank2010:71,Rank2012:54,Rank2011:42,geo_longitude:"-79.3849008",City:"Toronto",Brand:"TD",Pin:28.95025188647502,Country:"Canada",Rank2018:66,Rank2017:56}},{geometry:{coordinates:[-87.6243706,41.8756208],type:"Point"},id:67,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:"41.8756208",Value2018:19324,Value2016:12330,Value2017:14289,Value2014:11663,Value2015:11661,Value2012:8644,Value2013:10836,Value2010:12426,Value2011:12083,Category_Original:"Regional Banks",Rank2014:87,Rank2013:81,Rank2016:84,Rank2015:89,Rank2010:61,Rank2012:92,Rank2011:68,geo_longitude:"-87.6243706",City:"Chicago, Illinois",Brand:"Chase",Pin:28.767819437606327,Country:"USA",Rank2018:67,Rank2017:73}},{geometry:{coordinates:[151.2164539,-33.8548157],type:"Point"},id:68,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:"-33.8548157",Value2018:19286,Value2016:16227,Value2017:17437,Value2014:21001,Value2015:20599,Value2012:13083,Value2013:17745,Value2010:"-",Value2011:"-",Category_Original:"Regional Banks",Rank2014:44,Rank2013:48,Rank2016:64,Rank2015:48,Rank2010:"-",Rank2012:60,Rank2011:"-",geo_longitude:"151.2164539",City:"Sydney",Brand:"Commonwealth Bank of Australia",Pin:28.744875220342024,Country:"Australia",Rank2018:68,Rank2017:60}},{geometry:{coordinates:[116.625088590652,40.2505379],type:"Point"},id:69,type:"Feature",properties:{Category:"Finance",geo_accuracy:"administrative",geo_latitude:"40.2505379",Value2018:19141,Value2016:16331,Value2017:14981,Value2014:18235,Value2015:20189,Value2012:17867,Value2013:19975,Value2010:"-",Value2011:16909,Category_Original:"Regional Banks",Rank2014:54,Rank2013:37,Rank2016:62,Rank2015:50,Rank2010:"-",Rank2012:38,Rank2011:43,geo_longitude:"116.625088590652",City:"Beijing",Brand:"Agricultural Bank of China",Pin:28.657034749052123,Country:"China",Rank2018:69,Rank2017:72}},{geometry:{coordinates:[-73.0564953,41.2223194],type:"Point"},id:70,type:"Feature",properties:{Category:"Food",geo_accuracy:"town",geo_latitude:"41.2223194",Value2018:18766,Value2016:21567,Value2017:21713,Value2014:21020,Value2015:22561,Value2012:14843,Value2013:16691,Value2010:12032,Value2011:14306,Category_Original:"Fast Food",Rank2014:43,Rank2013:51,Rank2016:41,Rank2015:40,Rank2010:64,Rank2012:52,Rank2011:54,geo_longitude:"-73.0564953",City:"Milford, Connecticut",Brand:"Subway",Pin:28.42769412855107,Country:"USA",Rank2018:70,Rank2017:45}},{geometry:{coordinates:[-73.9865812,40.7305991],type:"Point"},id:71,type:"Feature",properties:{Category:"Personal Care",geo_accuracy:"city",geo_latitude:"40.7305991",Value2018:18516,Value2016:18319,Value2017:17740,Value2014:17668,Value2015:17977,Value2012:14948,Value2013:17250,Value2010:14224,Value2011:14258,Category_Original:"Personal Care",Rank2014:56,Rank2013:50,Rank2016:54,Rank2015:57,Rank2010:47,Rank2012:51,Rank2011:55,geo_longitude:"-73.9865812",City:"New York City",Brand:"Colgate",Pin:28.273024667653363,Country:"USA",Rank2018:71,Rank2017:58}},{geometry:{coordinates:[-122.0432974,47.5348778],type:"Point"},id:72,type:"Feature",properties:{Category:"Retail",geo_accuracy:"city",geo_latitude:47.5348778,Value2018:18265,Value2016:14461,Value2017:16257,Value2014:"-",Value2015:11214,Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Retail",Rank2014:"-",Rank2013:"-",Rank2016:68,Rank2015:97,Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:-122.0432974,City:"Issaquah, Washington",Brand:"Costco Wholesale",Pin:28.11627008975602,Country:"USA",Rank2018:72,Rank2017:68}},{geometry:{coordinates:[-73.9865812,40.7305991],type:"Point"},id:73,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:"40.7305991",Value2018:18251,Value2016:11943,Value2017:14129,Value2014:12356,Value2015:13522,Value2012:"-",Value2013:9668,Value2010:8159,Value2011:"-",Category_Original:"Global Banks",Rank2014:79,Rank2013:93,Rank2016:89,Rank2015:77,Rank2010:93,Rank2012:"-",Rank2011:"-",geo_longitude:"-73.9865812",City:"New York City",Brand:"J.P. Morgan",Pin:28.107482874420693,Country:"USA",Rank2018:73,Rank2017:74}},{geometry:{coordinates:[-96.9488945,32.8140177],type:"Point"},id:74,type:"Feature",properties:{Category:"Oil and Gas",geo_accuracy:"city",geo_latitude:"32.8140177",Value2018:18222,Value2016:16838,Value2017:18727,Value2014:19745,Value2015:20412,Value2012:18315,Value2013:19229,Value2010:15476,Value2011:16973,Category_Original:"Oil and Gas",Rank2014:48,Rank2013:39,Rank2016:58,Rank2015:49,Rank2010:39,Rank2012:34,Rank2011:41,geo_longitude:"-96.9488945",City:"Irving, Texas",Brand:"ExxonMobil",Pin:28.089265888411543,Country:"USA",Rank2018:74,Rank2017:55}},{geometry:{coordinates:[-121.8831349,37.3438502],type:"Point"},id:75,type:"Feature",properties:{Category:"Technology",geo_accuracy:"city",geo_latitude:"37.3438502",Value2018:17831,Value2016:10440,Value2017:11649,Value2014:"-",Value2015:"-",Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Technology",Rank2014:"-",Rank2013:"-",Rank2016:100,Rank2015:"-",Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:"-121.8831349",City:"San Jose, California",Brand:"Adobe Systems",Pin:27.84166278902059,Country:"USA",Rank2018:75,Rank2017:98}},{geometry:{coordinates:[4.4824271,52.1598645],type:"Point"},id:76,type:"Feature",properties:{Category:"Retail",geo_accuracy:"city",geo_latitude:"52.1598645",Value2018:17481,Value2016:18082,Value2017:18944,Value2014:19367,Value2015:17025,Value2012:9206,Value2013:12040,Value2010:"-",Value2011:"-",Category_Original:"Retail",Rank2014:50,Rank2013:74,Rank2016:55,Rank2015:64,Rank2010:"-",Rank2012:89,Rank2011:"-",geo_longitude:"4.4824271",City:"Leiden",Brand:"Ikea",Pin:27.61680866879451,Country:"Netherlands",Rank2018:76,Rank2017:53}},{geometry:{coordinates:[-80.8431268,35.2270869],type:"Point"},id:77,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:"35.2270869",Value2018:17439,Value2016:11289,Value2017:12286,Value2014:10149,Value2015:11335,Value2012:"-",Value2013:"-",Value2010:16393,Value2011:9358,Category_Original:"Regional Banks",Rank2014:94,Rank2013:"-",Rank2016:95,Rank2015:95,Rank2010:37,Rank2012:"-",Rank2011:92,geo_longitude:"-80.8431268",City:"Charlotte, North Carolina",Brand:"Bank of America",Pin:27.5896171163193,Country:"USA",Rank2018:77,Rank2017:87}},{geometry:{coordinates:[-122.419199,37.7789601],type:"Point"},id:78,type:"Feature",properties:{Category:"Technology",geo_accuracy:"city",geo_latitude:"37.7789601",Value2018:17026,Value2016:"-",Value2017:12234,Value2014:"-",Value2015:"-",Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Technology",Rank2014:"-",Rank2013:"-",Rank2016:"-",Rank2015:"-",Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:"-122.419199",City:"San Francisco",Brand:"Salesforce.com",Pin:27.31978611460108,Country:"USA",Rank2018:78,Rank2017:90}},{geometry:{coordinates:[116.625088590652,40.2505379],type:"Point"},id:79,type:"Feature",properties:{Category:"Finance",geo_accuracy:"administrative",geo_latitude:"40.2505379",Value2018:16429,Value2016:16712,Value2017:13910,Value2014:12026,Value2015:17365,Value2012:14587,Value2013:15279,Value2010:"-",Value2011:19542,Category_Original:"Insurance",Rank2014:81,Rank2013:57,Rank2016:59,Rank2015:62,Rank2010:"-",Rank2012:53,Rank2011:33,geo_longitude:"116.625088590652",City:"Beijing",Brand:"China Life",Pin:26.921615687942623,Country:"China",Rank2018:79,Rank2017:78}},{geometry:{coordinates:[-93.2654692,44.9772995],type:"Point"},id:80,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:"44.9772995",Value2018:16278,Value2016:14098,Value2017:15202,Value2014:14926,Value2015:14786,Value2012:11488,Value2013:13716,Value2010:8377,Value2011:10525,Category_Original:"Regional Banks",Rank2014:65,Rank2013:63,Rank2016:70,Rank2015:72,Rank2010:88,Rank2012:72,Rank2011:84,geo_longitude:"-93.2654692",City:"Minneapolis, Minnesota",Brand:"US Bank",Pin:26.819325384397942,Country:"USA",Rank2018:80,Rank2017:71}},{geometry:{coordinates:[-122.419199,37.7789601],type:"Point"},id:81,type:"Feature",properties:{Category:"Transport",geo_accuracy:"city",geo_latitude:"37.7789601",Value2018:16045,Value2016:"-",Value2017:"-",Value2014:"-",Value2015:"-",Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Transport",Rank2014:"-",Rank2013:"-",Rank2016:"-",Rank2015:"-",Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:"-122.419199",City:"San Francisco",Brand:"Uber",Pin:26.660193173732868,Country:"USA",Rank2018:81,Rank2017:"-"}},{geometry:{coordinates:[11.5754815,48.1372719],type:"Point"},id:82,type:"Feature",properties:{Category:"Conglomerate",geo_accuracy:"city",geo_latitude:"48.1372719",Value2018:15965,Value2016:12485,Value2017:13947,Value2014:16800,Value2015:15496,Value2012:10676,Value2013:12331,Value2010:9293,Value2011:11998,Category_Original:"Conglomerate",Rank2014:59,Rank2013:72,Rank2016:81,Rank2015:69,Rank2010:77,Rank2012:73,Rank2011:70,geo_longitude:"11.5754815",City:"Munich",Brand:"Siemens",Pin:26.605187760346183,Country:"Germany",Rank2018:82,Rank2017:77}},{geometry:{coordinates:[-122.08205,37.3855745],type:"Point"},id:83,type:"Feature",properties:{Category:"Technology",geo_accuracy:"city",geo_latitude:"37.3855745",Value2018:15657,Value2016:12314,Value2017:13594,Value2014:12407,Value2015:12200,Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Technology",Rank2014:78,Rank2013:"-",Rank2016:85,Rank2015:85,Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:"-122.08205",City:"Mountain View",Brand:"LinkedIn",Pin:26.391624067936906,Country:"USA",Rank2018:83,Rank2017:79}},{geometry:{coordinates:[116.625088590652,40.2505379],type:"Point"},id:84,type:"Feature",properties:{Category:"Finance",geo_accuracy:"administrative",geo_latitude:"40.2505379",Value2018:15607,Value2016:13803,Value2017:12013,Value2014:14177,Value2015:16438,Value2012:12982,Value2013:14236,Value2010:21960,Value2011:17530,Category_Original:"Regional Banks",Rank2014:68,Rank2013:58,Rank2016:71,Rank2015:65,Rank2010:24,Rank2012:61,Rank2011:37,geo_longitude:"116.625088590652",City:"Beijing",Brand:"Bank of China",Pin:26.35668199079837,Country:"China",Rank2018:84,Rank2017:94}},{geometry:{coordinates:[-84.5124602,39.1014537],type:"Point"},id:85,type:"Feature",properties:{Category:"Personal Care",geo_accuracy:"city",geo_latitude:"39.1014537",Value2018:15358,Value2016:16400,Value2017:16278,Value2014:19025,Value2015:19737,Value2012:19055,Value2013:17823,Value2010:20663,Value2011:19782,Category_Original:"Personal Care",Rank2014:52,Rank2013:45,Rank2016:61,Rank2015:52,Rank2010:28,Rank2012:33,Rank2011:32,geo_longitude:"-84.5124602",City:"Cincinnati, Ohio",Brand:"Gillette",Pin:26.18151209868304,Country:"USA",Rank2018:85,Rank2017:67}},{geometry:{coordinates:[114.1628131,22.2793278],type:"Point"},id:86,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:"22.2793278",Value2018:15131,Value2016:10545,Value2017:11691,Value2014:"-",Value2015:"-",Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Insurance",Rank2014:"-",Rank2013:"-",Rank2016:98,Rank2015:"-",Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:"114.1628131",City:"Hongkong",Brand:"AIA",Pin:26.020106235023928,Country:"China",Rank2018:86,Rank2017:97}},{geometry:{coordinates:[-85.759407,38.2542376],type:"Point"},id:87,type:"Feature",properties:{Category:"Food",geo_accuracy:"city",geo_latitude:"38.2542376",Value2018:15131,Value2016:12386,Value2017:13521,Value2014:11910,Value2015:12649,Value2012:8852,Value2013:9953,Value2010:"-",Value2011:"-",Category_Original:"Fast Food",Rank2014:83,Rank2013:91,Rank2016:82,Rank2015:83,Rank2010:"-",Rank2012:91,Rank2011:"-",geo_longitude:"-85.759407",City:"Louisville, Kentucky",Brand:"KFC",Pin:26.020106235023928,Country:"USA",Rank2018:87,Rank2017:81}},{geometry:{coordinates:[-121.8831349,37.3438502],type:"Point"},id:88,type:"Feature",properties:{Category:"Retail",geo_accuracy:"city",geo_latitude:"37.3438502",Value2018:14829,Value2016:11509,Value2017:12286,Value2014:15587,Value2015:14171,Value2012:12662,Value2013:17749,Value2010:9328,Value2011:10731,Category_Original:"Retail",Rank2014:61,Rank2013:47,Rank2016:91,Rank2015:73,Rank2010:76,Rank2012:64,Rank2011:82,geo_longitude:"-121.8831349",City:"San Jose, California",Brand:"eBay",Pin:25.802768150349447,Country:"USA",Rank2018:88,Rank2017:86}},{geometry:{coordinates:[-122.1634472,37.442156],type:"Point"},id:89,type:"Feature",properties:{Category:"Technology",geo_accuracy:"city",geo_latitude:"37.442156",Value2018:14797,Value2016:21387,Value2017:14018,Value2014:19469,Value2015:23039,Value2012:22898,Value2013:16362,Value2010:39717,Value2011:35404,Category_Original:"Technology",Rank2014:49,Rank2013:54,Rank2016:42,Rank2015:39,Rank2010:12,Rank2012:26,Rank2011:18,geo_longitude:"-122.1634472",City:"Palo Alto, California",Brand:"HP",Pin:25.779561131189567,Country:"USA",Rank2018:89,Rank2017:76}},{geometry:{coordinates:[114.057865,22.543096],type:"Point"},id:90,type:"Feature",properties:{Category:"Logistics",geo_accuracy:"-",geo_latitude:22.543096,Value2018:14537,Value2016:"-",Value2017:"-",Value2014:"-",Value2015:"-",Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Logistics",Rank2014:"-",Rank2013:"-",Rank2016:"-",Rank2015:"-",Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:114.057865,City:"Shenzhen, Guangdong",Brand:"SF Express",Pin:25.589713034683466,Country:"China",Rank2018:90,Rank2017:"-"}},{geometry:{coordinates:[-122.1821871,37.4538274],type:"Point"},id:91,type:"Feature",properties:{Category:"Technology",geo_accuracy:"administrative",geo_latitude:"37.4538274",Value2018:14496,Value2016:"-",Value2017:"-",Value2014:"-",Value2015:"-",Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Technology",Rank2014:"-",Rank2013:"-",Rank2016:"-",Rank2015:"-",Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:"-122.1821871",City:"Menlo Park",Brand:"Instagram",Pin:25.559562962544323,Country:"USA",Rank2018:91,Rank2017:"-"}},{geometry:{coordinates:[174.7772239,-41.2887639],type:"Point"},id:92,type:"Feature",properties:{Category:"Finance",geo_accuracy:"city",geo_latitude:"-41.2887639",Value2018:14465,Value2016:12883,Value2017:14044,Value2014:19072,Value2015:17702,Value2012:"-",Value2013:16565,Value2010:"-",Value2011:"-",Category_Original:"Regional Banks",Rank2014:51,Rank2013:52,Rank2016:77,Rank2015:59,Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:"174.7772239",City:"Wellington",Brand:"ANZ",Pin:25.53672765546105,Country:"New Zealand",Rank2018:92,Rank2017:75}},{geometry:{coordinates:[6.8525358,51.4487547],type:"Point"},id:93,type:"Feature",properties:{Category:"Retail",geo_accuracy:"bicycle_parking",geo_latitude:"51.4487547",Value2018:13785,Value2016:12077,Value2017:12273,Value2014:9584,Value2015:11660,Value2012:9310,Value2013:8885,Value2010:8747,Value2011:9251,Category_Original:"Retail",Rank2014:100,Rank2013:99,Rank2016:87,Rank2015:90,Rank2010:83,Rank2012:87,Rank2011:94,geo_longitude:"6.8525358",City:"Mühlheim/Ruhr",Brand:"Aldi",Pin:25.027148659176074,Country:"Germany",Rank2018:93,Rank2017:89}},{geometry:{coordinates:[-.1276597,51.5072759],type:"Point"},id:94,type:"Feature",properties:{Category:"Telecoms",geo_accuracy:"city",geo_latitude:"51.5072759",Value2018:13604,Value2016:18575,Value2017:16026,Value2014:15367,Value2015:17953,Value2012:"-",Value2013:9531,Value2010:"-",Value2011:"-",Category_Original:"Telecoms",Rank2014:64,Rank2013:94,Rank2016:52,Rank2015:58,Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:"-0.1276597",City:"London",Brand:"BT",Pin:24.888615791739863,Country:"UK",Rank2018:94,Rank2017:69}},{geometry:{coordinates:[-80.8100724,35.5848596],type:"Point"},id:95,type:"Feature",properties:{Category:"Retail",geo_accuracy:"-",geo_latitude:35.5848596,Value2018:13111,Value2016:13001,Value2017:13375,Value2014:"-",Value2015:"-",Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Retail",Rank2014:"-",Rank2013:"-",Rank2016:76,Rank2015:"-",Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:-80.8100724,City:"Mooresville, North Carolina",Brand:"Lowe’s",Pin:24.504772931437962,Country:"USA",Rank2018:95,Rank2017:82}},{geometry:{coordinates:[-83.1763145,42.3222599],type:"Point"},id:96,type:"Feature",properties:{Category:"Cars",geo_accuracy:"city",geo_latitude:"42.3222599",Value2018:12742,Value2016:13084,Value2017:13065,Value2014:11812,Value2015:13106,Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Cars",Rank2014:84,Rank2013:"-",Rank2016:75,Rank2015:80,Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:"-83.1763145",City:"Dearborn, Michigan",Brand:"Ford",Pin:24.210967393441262,Country:"USA",Rank2018:96,Rank2017:83}},{geometry:{coordinates:[139.7530053,35.6823815],type:"Point"},id:97,type:"Feature",properties:{Category:"Cars",geo_accuracy:"city",geo_latitude:"35.6823815",Value2018:12695,Value2016:13195,Value2017:12163,Value2014:14085,Value2015:13332,Value2012:12647,Value2013:12401,Value2010:14303,Value2011:14182,Category_Original:"Cars",Rank2014:70,Rank2013:71,Rank2016:74,Rank2015:78,Rank2010:46,Rank2012:65,Rank2011:56,geo_longitude:"139.7530053",City:"Minato, Tokyo",Brand:"Honda",Pin:24.173129589436456,Country:"Japan",Rank2018:97,Rank2017:91}},{geometry:{coordinates:[-73.7145746,41.0409305],type:"Point"},id:98,type:"Feature",properties:{Category:"Food",geo_accuracy:"hamlet",geo_latitude:"41.0409305",Value2018:12685,Value2016:12188,Value2017:12730,Value2014:11476,Value2015:13134,Value2012:12598,Value2013:12029,Value2010:12752,Value2011:12931,Category_Original:"Soft Drinks",Rank2014:88,Rank2013:75,Rank2016:86,Rank2015:79,Rank2010:58,Rank2012:67,Rank2011:63,geo_longitude:"-73.7145746",City:"Purchase, New York",Brand:"Pepsi",Pin:24.165066661621225,Country:"USA",Rank2018:98,Rank2017:84}},{geometry:{coordinates:[106.8650395,-6.17511],type:"Point"},id:99,type:"Feature",properties:{Category:"Finance",geo_accuracy:"-",geo_latitude:-6.17511,Value2018:12674,Value2016:"-",Value2017:"-",Value2014:"-",Value2015:"-",Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Regional Banks",Rank2014:"-",Rank2013:"-",Rank2016:"-",Rank2015:"-",Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:106.8650395,City:"Jakarta",Brand:"Bank Central Asia",Pin:24.1561924290515,Country:"Indonesia",Rank2018:99,Rank2017:"-"}},{geometry:{coordinates:[10.8828577,49.5682987],type:"Point"},id:100,type:"Feature",properties:{Category:"Apparel",geo_accuracy:"-",geo_latitude:49.5682987,Value2018:12456,Value2016:"-",Value2017:"-",Value2014:"-",Value2015:"-",Value2012:"-",Value2013:"-",Value2010:"-",Value2011:"-",Category_Original:"Apparel",Rank2014:"-",Rank2013:"-",Rank2016:"-",Rank2015:"-",Rank2010:"-",Rank2012:"-",Rank2011:"-",geo_longitude:10.8828577,City:"Herzogenaurach",Brand:"Adidas",Pin:23.979226881531908,Country:"Germany",Rank2018:100,Rank2017:"-"}}]}];(function(){var s={}.hasOwnProperty,u=[].slice;null!=this.L&&(this.OverlappingMarkerSpiderfier=function(){var e,c;function t(e,t){var a,n,i,l,o,r;for(i in this.map=e,null==t&&(t={}),t)s.call(t,i)&&(r=t[i],this[i]=r);for(this.initMarkerArrays(),this.listeners={},n=0,l=(o=["zoomend"]).length;n<l;n++)a=o[n],this.map.addEventListener(a,function(e){return function(){return e.unspiderfy()}}(this))}return(e=t.prototype).VERSION="0.2.6",c=2*Math.PI,e.keepSpiderfied=!0,e.nearbyDistance=20,e.circleSpiralSwitchover=9,e.circleFootSeparation=25,e.circleStartAngle=c/12,e.spiralFootSeparation=28,e.spiralLengthStart=11,e.spiralLengthFactor=5,e.legWeight=1.5,e.legColors={usual:"#222",highlighted:"#f00"},e.initMarkerArrays=function(){return this.markers=[],this.markerListeners=[]},e.addMarker=function(e){var t,a;return null!=e._oms||(e._oms=!0,a=this,t=function(){return a.spiderListener(e)},e.addEventListener("mouseover click",t),this.markerListeners.push(t),this.markers.push(e)),this},e.getMarkers=function(){return this.markers.slice(0)},e.removeMarker=function(e){var t,a;return null!=e._omsData&&this.unspiderfy(),(t=this.arrIndexOf(this.markers,e))<0||(a=this.markerListeners.splice(t,1)[0],e.removeEventListener("click",a),delete e._oms,this.markers.splice(t,1)),this},e.clearMarkers=function(){var e,t,a,n,i,l;for(this.unspiderfy(),e=t=0,a=(l=this.markers).length;t<a;e=++t)n=l[e],i=this.markerListeners[e],n.removeEventListener("click",i),delete n._oms;return this.initMarkerArrays(),this},e.addListener=function(e,t){var a;return(null!=(a=this.listeners)[e]?a[e]:a[e]=[]).push(t),this},e.removeListener=function(e,t){var a;return(a=this.arrIndexOf(this.listeners[e],t))<0||this.listeners[e].splice(a,1),this},e.clearListeners=function(e){return this.listeners[e]=[],this},e.trigger=function(){var e,t,a,n,i,l,o,r;for(t=arguments[0],e=2<=arguments.length?u.call(arguments,1):[],r=[],n=0,i=(o=null!=(l=this.listeners[t])?l:[]).length;n<i;n++)a=o[n],r.push(a.apply(null,e));return r},e.generatePtsCircle=function(e,t){var a,n,i,l,o,r,s;for(o=this.circleFootSeparation*(2+e)/c,n=c/e,s=[],i=l=0,r=e;0<=r?l<r:r<l;i=0<=r?++l:--l)a=this.circleStartAngle+i*n,s.push(new L.Point(t.x+o*Math.cos(a),t.y+o*Math.sin(a)));return s},e.generatePtsSpiral=function(e,t){var a,n,i,l,o,r,s;for(l=this.spiralLengthStart,s=[],n=i=a=0,r=e;0<=r?i<r:r<i;n=0<=r?++i:--i)a+=this.spiralFootSeparation/l+5e-4*n,o=new L.Point(t.x+l*Math.cos(a),t.y+l*Math.sin(a)),l+=c*this.spiralLengthFactor/a,s.push(o);return s},e.spiderListener=function(e){var t,a,n,i,l,o,r,s,c,u;if((o=null!=e._omsData)&&this.keepSpiderfied||this.unspiderfy(),o)return this.trigger("click",e);for(r=[],s=[],c=this.nearbyDistance*this.nearbyDistance,l=this.map.latLngToLayerPoint(e.getLatLng()),t=0,a=(u=this.markers).length;t<a;t++)n=u[t],this.map.hasLayer(n)&&(i=this.map.latLngToLayerPoint(n.getLatLng()),this.ptDistanceSq(i,l)<c?r.push({marker:n,markerPt:i}):s.push(n));return 1===r.length?this.trigger("click",e):this.spiderfy(r,s)},e.makeHighlightListeners=function(e){return{highlight:(a=this,function(){return e._omsData.leg.setStyle({color:a.legColors.highlighted})}),unhighlight:(t=this,function(){return e._omsData.leg.setStyle({color:t.legColors.usual})})};var t,a},e.spiderfy=function(n,e){var t,i,l,o,r,s,c,u,h,a,d;return this.spiderfying=!0,a=n.length,t=this.ptAverage(function(){var e,t,a;for(a=[],e=0,t=n.length;e<t;e++)c=n[e],a.push(c.markerPt);return a}()),o=a>=this.circleSpiralSwitchover?this.generatePtsSpiral(a,t).reverse():this.generatePtsCircle(a,t),d=function(){var e,t,a;for(a=[],e=0,t=o.length;e<t;e++)l=o[e],i=this.map.layerPointToLatLng(l),h=this.minExtract(n,function(t){return function(e){return t.ptDistanceSq(e.markerPt,l)}}(this)),s=h.marker,r=new L.Polyline([s.getLatLng(),i],{color:this.legColors.usual,weight:this.legWeight,clickable:!1}),this.map.addLayer(r),s._omsData={usualPosition:s.getLatLng(),leg:r},this.legColors.highlighted!==this.legColors.usual&&(u=this.makeHighlightListeners(s),s._omsData.highlightListeners=u,s.addEventListener("mouseover",u.highlight),s.addEventListener("mouseout",u.unhighlight)),s.setLatLng(i),s.setZIndexOffset(100),s._icon.className+=" spiderfied",$("#map").addClass("spiderfied"),a.push(s);return a}.call(this),delete this.spiderfying,this.spiderfied=!0,this.trigger("spiderfy",d,e)},e.unspiderfy=function(e){var t,a,n,i,l,o,r;if(null==e&&(e=null),null==this.spiderfied)return this;for(this.unspiderfying=!0,r=[],l=[],$("#map").removeClass("spiderfied"),$(".marker").removeClass("spiderfied").data("transition-status","deleted"),t=0,a=(o=this.markers).length;t<a;t++)null!=(n=o[t])._omsData?(this.map.removeLayer(n._omsData.leg),n!==e&&n.setLatLng(n._omsData.usualPosition),n.setZIndexOffset(0),null!=(i=n._omsData.highlightListeners)&&(n.removeEventListener("mouseover",i.highlight),n.removeEventListener("mouseout",i.unhighlight)),delete n._omsData,r.push(n)):l.push(n);return delete this.unspiderfying,delete this.spiderfied,this.trigger("unspiderfy",r,l),this},e.ptDistanceSq=function(e,t){var a,n;return(a=e.x-t.x)*a+(n=e.y-t.y)*n},e.ptAverage=function(e){var t,a,n,i,l,o;for(l=o=0,t=0,a=e.length;t<a;t++)l+=(i=e[t]).x,o+=i.y;return n=e.length,new L.Point(l/n,o/n)},e.minExtract=function(e,t){var a,n,i,l,o,r;for(i=l=0,o=e.length;l<o;i=++l)r=t(e[i]),(null==a||r<n)&&(n=r,a=i);return e.splice(a,1)[0]},e.arrIndexOf=function(e,t){var a,n,i;if(null!=e.indexOf)return e.indexOf(t);for(a=n=0,i=e.length;n<i;a=++n)if(e[a]===t)return a;return-1},t}())}).call(this);var chartJSLineStyle=[];function lineStyleFn(e){return"object"==typeof chartJSLineStyle[e]?chartJSLineStyle[e]:chartJSLineStyle.solid}chartJSLineStyle.solid=[],chartJSLineStyle.dotted=[1,4],chartJSLineStyle.shortDash=[2,1],chartJSLineStyle.dashed=[4,2],chartJSLineStyle.dashSpace=[4,6],chartJSLineStyle.longDashDot=[7,2,1,2],chartJSLineStyle.longDashShortDash=[10,4,4,4],chartJSLineStyle.gradient=[1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,9,9,8,8,7,7,6,6,5,5,4,4,3,3,2,2,1],"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),a=t.length>>>0;if(0===a)return-1;var n=0;if(0<arguments.length&&((n=Number(arguments[1]))!=n?n=0:0!=n&&n!=1/0&&n!=-1/0&&(n=(0<n||-1)*Math.floor(Math.abs(n)))),a<=n)return-1;for(var i=0<=n?n:Math.max(a-Math.abs(n),0);i<a;i++)if(i in t&&t[i]===e)return i;return-1});var charJSPersonalDefaultOptions={},charJSPersonalDefaultOptionsLine={},charJSPersonalDefaultOptionsRadar={},charJSPersonalDefaultOptionsPolarArea={},charJSPersonalDefaultOptionsPie={},charJSPersonalDefaultOptionsDoughnut={},charJSPersonalDefaultOptionsBar={},charJSPersonalDefaultOptionsStackedBar={},charJSPersonalDefaultOptionsHorizontalBar={},charJSPersonalDefaultOptionsHorizontalStackedBar={};function roundToWithThousands(e,t,a){var n,i=1*unFormat(e,t);if("number"==typeof i&&"none"!=a)if(a<=0)n=-a,i=+(Math.round(i+"e+"+n)+"e-"+n);else{var l="1e+"+(n=a);i=+Math.round(i/l)*l}return i=fmtChartJS(e,i,"none")}function unFormat(e,t){if("."==e.decimalSeparator&&""==e.thousandSeparator||"string"!=typeof t)return t;var a=""+t;if(""!=e.thousandSeparator)for(;0<=a.indexOf(e.thousandSeparator);)a=""+a.replace(e.thousandSeparator,"");return"."!=e.decimalSeparator&&(a=""+a.replace(e.decimalSeparator,".")),1*a}var cachebis={};function fmtChartJSPerso(e,t,a){switch(a){case"SampleJS_Format":return_value="number"==typeof t?"My Format : "+t.toString()+" $":t+"XX";break;case"Change_Month":return_value="string"==typeof t?t.toString()+" 2014":t.toString()+"YY";break;default:return_value=t}return return_value}function fmtChartJS(e,t,a){var n;if("notformatted"==a)n=t;else if("none"==a&&"number"==typeof t){var i;if("none"!=e.roundNumber)if(e.roundNumber<=0)i=-e.roundNumber,t=+(Math.round(t+"e+"+i)+"e-"+i);else{var l="1e+"+(i=e.roundNumber);t=+Math.round(t/l)*l}if("."!=e.decimalSeparator||""!=e.thousandSeparator){if(n=t.toString().replace(/\./g,e.decimalSeparator),""!=e.thousandSeparator){var o=n,r="",s=o.indexOf(e.decimalSeparator);0<=s&&(r=(r=o.substring(s+1,o.length)).split("").reverse().join(""),o=o.substring(0,s)),n=o=o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e.thousandSeparator),""!=(r=r.split("").reverse().join(""))&&(n=n+e.decimalSeparator+r)}}else n=t}else n="none"!=a&&"notformatted"!=a?fmtChartJSPerso(e,t,a):t;return n}function addParameters2Function(data,fctName,fctList){var mathFunctions={mean:{data:data.data,datasetNr:data.v11},varianz:{data:data.data,datasetNr:data.v11},stddev:{data:data.data,datasetNr:data.v11},cv:{data:data.data,datasetNr:data.v11},median:{data:data.data,datasetNr:data.v11}};if(dif=!1,"Dif"==fctName.substr(-3)&&(fctName=fctName.substr(0,fctName.length-3),dif=!0),"function"==typeof eval(fctName)){var parameter=eval(fctList+"."+fctName);return dif?data.v3-window[fctName](parameter):window[fctName](parameter)}return null}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function tmplbis(e,t,a){return newstr=e,newstr.substr(0,a.templatesOpenTag.length)==a.templatesOpenTag&&(newstr="<%="+newstr.substr(a.templatesOpenTag.length,newstr.length-a.templatesOpenTag.length)),newstr.substr(newstr.length-a.templatesCloseTag.length,a.templatesCloseTag.length)==a.templatesCloseTag&&(newstr=newstr.substr(0,newstr.length-a.templatesCloseTag.length)+"%>"),tmplter(newstr,t)}function tmplter(e,r){for(var t=new RegExp("<%=((?:(?:.*?)\\W)??)((?:"+["mean","varianz","stddev","cv","median"].join("|")+")(?:Dif)?)\\(([0-9]*?)\\)(.*?)%>","g");t.test(e);)e=e.replace(t,function(e,t,a,n,i){var l;l=n||2;var o=addParameters2Function(r,a,"mathFunctions");return isNumber(o)?"<%="+t+Math.round(Math.pow(10,l)*o)/Math.pow(10,l)+i+"%>":"<%= %>"});var a=/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e)?cachebis[e]=cachebis[e]||tmplter(document.getElementById(e).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\n]/g,"\\n").replace(/[\t]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return r?a(r):a}function createCursorDiv(){if(0==cursorDivCreated){var e=document.createElement("divCursor");e.id="divCursor",e.style.position="absolute",document.body.appendChild(e),cursorDivCreated=!0}}"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.fillTextMultiLine=function(e,t,a,n,i,l){var o=(""+e).split("\n");"middle"==n?l&&(a-=(o.length-1)/2*i):"bottom"==n&&l&&(a-=(o.length-1)*i);for(var r=0;r<o.length;r++)this.fillText(o[r],t,a),a+=i},CanvasRenderingContext2D.prototype.measureTextMultiLine=function(e,t){for(var a,n=0,i=(""+e).split("\n"),l=i.length*t,o=0;o<i.length;o++)n<(a=this.measureText(i[o]).width)&&(n=a);return{textWidth:n,textHeight:l}},"function"!=typeof CanvasRenderingContext2D.prototype.setLineDash&&(CanvasRenderingContext2D.prototype.setLineDash=function(e){return 0})),cursorDivCreated=!1,initChartJsResize=!1;var jsGraphResize=new Array,container;function addResponsiveChart(e,t,a,n){initChartResize();var i=resizeGraph(t,n);void 0!==t.prevWidth?(resizeCtx(t,i.newWidth,i.newHeight,n),t.prevWidth=i.newWidth):n.responsiveScaleContent&&n.responsiveWindowInitialWidth&&(t.initialWidth=i.newWidth),t.prevWidth=i.newWidth,t.prevHeight=i.newHeight,jsGraphResize[jsGraphResize.length]=[e,t.tpchart,t,a,n]}function initChartResize(){0==initChartJsResize&&(window.addEventListener?window.addEventListener("resize",chartJsResize):window.attachEvent("resize",chartJsResize))}function getMaximumWidth(e){return null!=e.parentNode&&null!=e.parentNode&&(container=e.parentNode),container.clientWidth}function getMaximumHeight(e){return null!=e.parentNode&&null!=e.parentNode&&(container=e.parentNode),container.clientHeight}function resizeCtx(e,t,a,n){window.devicePixelRatio?(e.canvas.style.width=t/window.devicePixelRatio+"px",e.canvas.style.height=a/window.devicePixelRatio+"px",e.canvas.height=a/window.devicePixelRatio*window.devicePixelRatio,e.canvas.width=t/window.devicePixelRatio*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio)):(e.canvas.height=a,e.canvas.width=t),void 0!==e.chartTextScale&&n.responsiveScaleContent&&(e.chartTextScale=n.chartTextScale*(t/e.initialWidth),e.chartLineScale=n.chartLineScale*(t/e.initialWidth),e.chartSpaceScale=n.chartSpaceScale*(t/e.initialWidth))}function resizeGraph(e,t){void 0===t.maintainAspectRatio&&(t.maintainAspectRatio=!0),void 0===t.responsiveMinWidth&&(t.responsiveMinWidth=0),void 0===t.responsiveMinHeight&&(t.responsiveMinHeight=0),void 0===t.responsiveMaxWidth&&(t.responsiveMaxWidth=9999999),void 0===t.responsiveMaxHeight&&(t.responsiveMaxHeight=9999999);var a=e.canvas;void 0===e.aspectRatio&&(e.aspectRatio=a.width/a.height);var n=getMaximumWidth(a),i=t.maintainAspectRatio?n/e.aspectRatio:getMaximumHeight(a);return n=Math.min(t.responsiveMaxWidth,Math.max(t.responsiveMinWidth,n)),i=Math.min(t.responsiveMaxHeight,Math.max(t.responsiveMinHeight,i)),{newWidth:parseInt(n),newHeight:parseInt(i)}}function chartJsResize(){for(var e=0;e<jsGraphResize.length;e++)void 0!==jsGraphResize[e][2].firstPass&&5==jsGraphResize[e][2].firstPass&&(jsGraphResize[e][2].firstPass=6),subUpdateChart(jsGraphResize[e][2],jsGraphResize[e][3],jsGraphResize[e][4])}function testRedraw(e,t,a){return 2==e.firstPass||4==e.firstPass||9==e.firstPass?(e.firstPass=6,subUpdateChart(e,t,a),!0):!(e.firstPass=5)}function updateChart(e,t,a,n,i){5==e.firstPass&&(e.runanimationcompletefunction=i,n?e.firstPass=0:(a.responsive,e.firstPass=7),subUpdateChart(e,t,a))}function subUpdateChart(e,t,a){var n;dynamicFunction(t,a,e)&&(void 0===e.firstPass?(e.firstPass=1,n=resizeGraph(e,a),a.responsive?(resizeCtx(e,n.newWidth,n.newHeight,a),e.prevWidth=n.newWidth,e.prevHeight=n.newHeight):(e.prevWidth=0,e.prevHeight=0),e.runanimationcompletefunction=!0,redrawGraph(e,t,a)):0==e.firstPass?(e.firstPass=1,n=resizeGraph(e,a),a.responsive?(resizeCtx(e,n.newWidth,n.newHeight,a),e.prevWidth=n.newWidth,e.prevHeight=n.newHeight):(e.prevWidth=0,e.prevHeight=0),redrawGraph(e,t,a)):1==e.firstPass||2==e.firstPass?e.firstPass=2:3==e.firstPass||4==e.firstPass?e.firstPass=4:5==e.firstPass?(e.firstPass=1,redrawGraph(e,t,a)):6==e.firstPass?(n=resizeGraph(e,a)).newWidth!=e.prevWidth||n.newHeight!=e.prevHeight?(e.firstPass=3,e.clearRect(0,0,e.canvas.width,e.canvas.height),a.responsive?(resizeCtx(e,n.newWidth,n.newHeight,a),e.prevWidth=n.newWidth,e.prevHeight=n.newHeight):(e.prevWidth=0,e.prevHeight=0),redrawGraph(e,t,a)):e.firstPass=5:7==e.firstPass&&(n=resizeGraph(e,a),e.firstPass=3,e.clearRect(0,0,e.canvas.width,e.canvas.height),a.responsive?(resizeCtx(e,n.newWidth,n.newHeight,a),e.prevWidth=n.newWidth,e.prevHeight=n.newHeight):(e.prevWidth=0,e.prevHeight=0),redrawGraph(e,t,a)))}function redrawGraph(e,t,a){var n=new Chart(e);switch(e.tpchart){case"Bar":n.Bar(t,a);break;case"Pie":n.Pie(t,a);break;case"Doughnut":n.Doughnut(t,a);break;case"Radar":n.Radar(t,a);break;case"PolarArea":n.PolarArea(t,a);break;case"HorizontalBar":n.HorizontalBar(t,a);break;case"StackedBar":n.StackedBar(t,a);break;case"HorizontalStackedBar":n.HorizontalStackedBar(t,a);break;case"Line":n.Line(t,a)}}function checkBrowser(){return this.ver=navigator.appVersion,this.dom=document.getElementById?1:0,this.ie5=-1<this.ver.indexOf("MSIE 5")&&this.dom?1:0,this.ie4=document.all&&!this.dom?1:0,this.ns5=this.dom&&5<=parseInt(this.ver)?1:0,this.ns4=document.layers&&!this.dom?1:0,this.bw=this.ie5||this.ie4||this.ns4||this.ns5,this}function cursorInit(){scrolled=bw.ns4||bw.ns5?"window.pageYOffset":"document.body.scrollTop",bw.ns4&&document.captureEvents(Event.MOUSEMOVE)}function makeCursorObj(obj,nest){return createCursorDiv(),nest=nest?"document."+nest+".":"",this.css=bw.dom?document.getElementById(obj).style:bw.ie4?document.all[obj].style:bw.ns4?eval(nest+"document.layers."+obj):0,this.moveIt=b_moveIt,cursorInit(),this}function b_moveIt(e,t){this.x=e,this.y=t,this.css.left=this.x+"px",this.css.top=this.y+"px"}function isIE(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("msie")&&parseInt(e.split("msie")[1])}function mergeChartConfig(e,t){var a={};for(var n in e)a[n]=e[n];for(var i in t)a[i]=t[i];return a}function sleep(e){var t=new Date;for(t.setTime(t.getTime()+e);(new Date).getTime()<t.getTime(););}function saveCanvas(e,t,a){cvSave=e.getImageData(0,0,e.canvas.width,e.canvas.height);var n,i=mergeChartConfig(a,{savePng:!1,annotateDisplay:!1,animation:!1,dynamicDisplay:!1});if(i.clearRect=!1,redrawGraph(e,t,i),"NewWindow"==a.savePngOutput&&(n=e.canvas.toDataURL(),e.putImageData(cvSave,0,0),window.open(n,"_blank")),"CurrentWindow"==a.savePngOutput&&(n=e.canvas.toDataURL(),e.putImageData(cvSave,0,0),window.location.href=n),"Save"==a.savePngOutput){n=e.canvas.toDataURL();var l=document.createElement("a");l.href=n,l.download=a.savePngName+".png",document.body.appendChild(l),l.click(),document.body.removeChild(l)}}bw=new checkBrowser,fromLeft=10,fromTop=10,"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var dynamicDisplay=new Array,dynamicDisplayList=new Array;function dynamicFunction(e,t,a){if(isIE()<9&&0!=isIE())return!0;if(t.dynamicDisplay){if(""==a.canvas.id){var n=(new Date).getTime();a.canvas.id="Canvas_"+n}if(void 0===dynamicDisplay[a.canvas.id]?(dynamicDisplayList[dynamicDisplayList.length]=a.canvas.id,dynamicDisplay[a.canvas.id]=[a,!1,!1,e,t,a.canvas],dynamicDisplay[a.canvas.id][1]=isScrolledIntoView(a.canvas),window.onscroll=scrollFunction):0==dynamicDisplay[a.canvas.id][2]&&(dynamicDisplay[a.canvas.id][1]=isScrolledIntoView(a.canvas)),0==dynamicDisplay[a.canvas.id][1]&&0==dynamicDisplay[a.canvas.id][2])return!1;dynamicDisplay[a.canvas.id][2]=!0}return!0}function isScrolledIntoView(e){var t=0,a=0;for(elem=e;elem;)t+=elem.offsetLeft-elem.scrollLeft+elem.clientLeft,a+=elem.offsetTop-elem.scrollTop+elem.clientTop,elem=elem.offsetParent;return t+e.width/2>=window.pageXOffset&&t+e.width/2<=window.pageXOffset+window.innerWidth&&a+e.height/2>=window.pageYOffset&&a+e.height/2<=window.pageYOffset+window.innerHeight}function scrollFunction(){for(var e=0;e<dynamicDisplayList.length;e++)isScrolledIntoView(dynamicDisplay[dynamicDisplayList[e]][5])&&0==dynamicDisplay[dynamicDisplayList[e]][2]&&(dynamicDisplay[dynamicDisplayList[e]][1]=!0,redrawGraph(dynamicDisplay[dynamicDisplayList[e]][0],dynamicDisplay[dynamicDisplayList[e]][3],dynamicDisplay[dynamicDisplayList[e]][4]))}var jsGraphAnnotate=new Array;function clearAnnotate(e){jsGraphAnnotate[e]=[]}function getMousePos(e,t){var a=e.getBoundingClientRect();return{x:t.clientX-a.left,y:t.clientY-a.top}}function doMouseAction(config,ctx,event,data,action,funct){var onData=!1,textMsr;if("annotate"==action){var annotateDIV=document.getElementById("divCursor"),show=!1;annotateDIV.className=config.annotateClassName?config.annotateClassName:"",annotateDIV.style.border=config.annotateClassName?"":config.annotateBorder,annotateDIV.style.padding=config.annotateClassName?"":config.annotatePadding,annotateDIV.style.borderRadius=config.annotateClassName?"":config.annotateBorderRadius,annotateDIV.style.backgroundColor=config.annotateClassName?"":config.annotateBackgroundColor,annotateDIV.style.color=config.annotateClassName?"":config.annotateFontColor,annotateDIV.style.fontFamily=config.annotateClassName?"":config.annotateFontFamily,annotateDIV.style.fontSize=config.annotateClassName?"":Math.ceil(ctx.chartTextScale*config.annotateFontSize).toString()+"pt",annotateDIV.style.fontStyle=config.annotateClassName?"":config.annotateFontStyle,annotateDIV.style.zIndex=999,ctx.save(),ctx.font=annotateDIV.style.fontStyle+" "+annotateDIV.style.fontSize+" "+annotateDIV.style.fontFamily;var rect=ctx.canvas.getBoundingClientRect()}"annotate"==action&&(show=!1,annotateDIV.style.display=show?"":"none"),canvas_pos=getMousePos(ctx.canvas,event);for(var i=0;i<jsGraphAnnotate[ctx.ChartNewId].length;i++){if("ARC"==jsGraphAnnotate[ctx.ChartNewId][i][0])myStatData=jsGraphAnnotate[ctx.ChartNewId][i][3][jsGraphAnnotate[ctx.ChartNewId][i][1]],distance=Math.sqrt((canvas_pos.x-myStatData.midPosX)*(canvas_pos.x-myStatData.midPosX)+(canvas_pos.y-myStatData.midPosY)*(canvas_pos.y-myStatData.midPosY)),distance>myStatData.int_radius&&distance<myStatData.radiusOffset&&(angle=(Math.acos((canvas_pos.x-myStatData.midPosX)/distance)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),canvas_pos.y<myStatData.midPosY&&(angle=-angle),angle=((angle+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),myStatData.startAngle=((myStatData.startAngle+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),myStatData.endAngle=((myStatData.endAngle+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),myStatData.endAngle<myStatData.startAngle&&(myStatData.endAngle+=2*Math.PI),(angle>myStatData.startAngle&&angle<myStatData.endAngle||angle>myStatData.startAngle-2*Math.PI&&angle<myStatData.endAngle-2*Math.PI||angle>myStatData.startAngle+2*Math.PI&&angle<myStatData.endAngle+2*Math.PI)&&(myStatData.graphPosX=canvas_pos.x,myStatData.graphPosY=canvas_pos.y,onData=!0,"annotate"==action?(dispString=tmplbis(setOptionValue(1,"ANNOTATELABEL",ctx,data,jsGraphAnnotate[ctx.ChartNewId][i][3],void 0,config.annotateLabel,jsGraphAnnotate[ctx.ChartNewId][i][1],-1,{otherVal:!0}),myStatData,config),textMsr=ctx.measureTextMultiLine(dispString),ctx.restore(),annotateDIV.innerHTML=dispString,show=!0):funct(event,ctx,config,data,myStatData),"annotate"==action&&(x=bw.ns4||bw.ns5?event.pageX:event.x,y=bw.ns4||bw.ns5?event.pageY:event.y,(bw.ie4||bw.ie5)&&(y+=eval(scrolled)),config.annotateRelocate&&x+fromLeft+textMsr.textWidth>window.innerWidth-rect.left-10?oCursor.moveIt(x+fromLeft-textMsr.textWidth,y+fromTop):oCursor.moveIt(x+fromLeft,y+fromTop))));else if("RECT"==jsGraphAnnotate[ctx.ChartNewId][i][0])myStatData=jsGraphAnnotate[ctx.ChartNewId][i][3][jsGraphAnnotate[ctx.ChartNewId][i][1]][jsGraphAnnotate[ctx.ChartNewId][i][2]],canvas_pos.x>Math.min(myStatData.xPosLeft,myStatData.xPosRight)&&canvas_pos.x<Math.max(myStatData.xPosLeft,myStatData.xPosRight)&&canvas_pos.y<Math.max(myStatData.yPosBottom,myStatData.yPosTop)&&canvas_pos.y>Math.min(myStatData.yPosBottom,myStatData.yPosTop)&&(myStatData.graphPosX=canvas_pos.x,myStatData.graphPosY=canvas_pos.y,onData=!0,"annotate"==action?(dispString=tmplbis(setOptionValue(1,"ANNOTATELABEL",ctx,data,jsGraphAnnotate[ctx.ChartNewId][i][3],void 0,config.annotateLabel,jsGraphAnnotate[ctx.ChartNewId][i][1],jsGraphAnnotate[ctx.ChartNewId][i][2],{otherVal:!0}),myStatData,config),textMsr=ctx.measureTextMultiLine(dispString),ctx.restore(),annotateDIV.innerHTML=dispString,show=!0):funct(event,ctx,config,data,myStatData),"annotate"==action&&(x=bw.ns4||bw.ns5?event.pageX:event.x,y=bw.ns4||bw.ns5?event.pageY:event.y,(bw.ie4||bw.ie5)&&(y+=eval(scrolled)),config.annotateRelocate&&x+fromLeft+textMsr.textWidth>window.innerWidth-rect.left-10?oCursor.moveIt(x+fromLeft-textMsr.textWidth,y+fromTop):oCursor.moveIt(x+fromLeft,y+fromTop)));else if("POINT"==jsGraphAnnotate[ctx.ChartNewId][i][0]){var distance;if(myStatData=jsGraphAnnotate[ctx.ChartNewId][i][3][jsGraphAnnotate[ctx.ChartNewId][i][1]][jsGraphAnnotate[ctx.ChartNewId][i][2]],config.detectAnnotateOnFullLine)if(canvas_pos.x<Math.min(myStatData.annotateStartPosX,myStatData.annotateEndPosX)-Math.ceil(ctx.chartSpaceScale*config.pointHitDetectionRadius)||canvas_pos.x>Math.max(myStatData.annotateStartPosX,myStatData.annotateEndPosX)+Math.ceil(ctx.chartSpaceScale*config.pointHitDetectionRadius)||canvas_pos.y<Math.min(myStatData.annotateStartPosY,myStatData.annotateEndPosY)-Math.ceil(ctx.chartSpaceScale*config.pointHitDetectionRadius)||canvas_pos.y>Math.max(myStatData.annotateStartPosY,myStatData.annotateEndPosY)+Math.ceil(ctx.chartSpaceScale*config.pointHitDetectionRadius))distance=Math.ceil(ctx.chartSpaceScale*config.pointHitDetectionRadius)+1;else if(void 0===myStatData.D1A)distance=Math.abs(canvas_pos.x-myStatData.posX);else if(void 0===myStatData.D2A)distance=Math.abs(canvas_pos.y-myStatData.posY);else{var D2B=-myStatData.D2A*canvas_pos.x+canvas_pos.y,g=-(myStatData.D1B-D2B)/(myStatData.D1A-myStatData.D2A),h=myStatData.D2A*g+D2B;distance=Math.sqrt((canvas_pos.x-g)*(canvas_pos.x-g)+(canvas_pos.y-h)*(canvas_pos.y-h))}else distance=Math.sqrt((canvas_pos.x-myStatData.posX)*(canvas_pos.x-myStatData.posX)+(canvas_pos.y-myStatData.posY)*(canvas_pos.y-myStatData.posY));distance<Math.ceil(ctx.chartSpaceScale*config.pointHitDetectionRadius)&&(myStatData.graphPosX=canvas_pos.x,myStatData.graphPosY=canvas_pos.y,onData=!0,"annotate"==action?(dispString=tmplbis(setOptionValue(1,"ANNOTATELABEL",ctx,data,jsGraphAnnotate[ctx.ChartNewId][i][3],void 0,config.annotateLabel,jsGraphAnnotate[ctx.ChartNewId][i][1],jsGraphAnnotate[ctx.ChartNewId][i][2],{otherVal:!0}),myStatData,config),textMsr=ctx.measureTextMultiLine(dispString),ctx.restore(),annotateDIV.innerHTML=dispString,show=!0):funct(event,ctx,config,data,myStatData),"annotate"==action&&(x=bw.ns4||bw.ns5?event.pageX:event.x,y=bw.ns4||bw.ns5?event.pageY:event.y,(bw.ie4||bw.ie5)&&(y+=eval(scrolled)),config.annotateRelocate&&x+fromLeft+textMsr.textWidth>window.innerWidth-rect.left-10?oCursor.moveIt(x+fromLeft-textMsr.textWidth,y+fromTop):oCursor.moveIt(x+fromLeft,y+fromTop)))}"annotate"==action&&(annotateDIV.style.display=show?"":"none")}0==onData&&"annotate"!=action&&funct(event,ctx,config,data,null)}function animationCorrection(e,t,a,n,i,l){var o=e,r=0;if(-1!=i){o<1&&n<a.animationStartWithDataset-1&&a.animationStartWithDataset-1!=-1&&(o=1),o<1&&i<a.animationStartWithData-1&&a.animationStartWithData-1!=-1&&(o=1);var s=1,c=e;if(o<1&&a.animationByDataset){s=o=0;var u=a.animationStartWithDataset-1;a.animationStartWithDataset-1==-1&&(u=0);var h=a.animationSteps/(t.datasets.length-u);if(e>=(n-u+1)*h/a.animationSteps)o=1;else if(e>=(n-u)*h/a.animationSteps){var d=e-(n-u)*h/a.animationSteps;a.animationLeftToRight?c=d*(t.datasets.length-u):o=d*(t.datasets.length-u),s=1}}if(1==s&&o<1&&a.animationLeftToRight){o=0;var p=a.animationStartWithData-1;a.animationStartWithData-1==-1&&(p=0);var g=a.animationSteps/(t.datasets[n].data.length-p-1+l);c>=(i-p)*g/a.animationSteps&&c<=(i+(o=1)-p)*g/a.animationSteps&&(r=(t.datasets[n].data.length-p-1)*(c-(i-p)*g/a.animationSteps))}}else o<1&&n<a.animationStartWithData-1&&(o=1);return{mainVal:o,subVal:r,animVal:o+r}}function drawLegend(e,t,a,n,i){1==a.legendBorders&&(n.save(),n.setLineDash(lineStyleFn(a.legendBordersStyle)),n.beginPath(),n.lineWidth=Math.ceil(n.chartLineScale*a.legendBordersWidth),n.strokeStyle=a.legendBordersColors,n.moveTo(e.xLegendBorderPos,e.yLegendBorderPos),n.lineTo(e.xLegendBorderPos,e.yLegendBorderPos+e.legendBorderHeight),n.lineTo(e.xLegendBorderPos+e.legendBorderWidth,e.yLegendBorderPos+e.legendBorderHeight),n.lineTo(e.xLegendBorderPos+e.legendBorderWidth,e.yLegendBorderPos),n.lineTo(e.xLegendBorderPos,e.yLegendBorderPos),n.stroke(),n.closePath(),n.setLineDash([]),n.fillStyle="rgba(0,0,0,0)",n.fillStyle=a.legendFillColor,n.fill(),n.restore()),nbcols=e.nbLegendCols-1,ypos=e.yFirstLegendTextPos-(Math.ceil(n.chartTextScale*a.legendFontSize)+Math.ceil(n.chartSpaceScale*a.legendSpaceBetweenTextVertical)),xpos=0,e.drawLegendOnData?fromi=t.datasets.length:fromi=t.length;for(var l=fromi-1;0<=l;l--)if(orderi=l,e.reverseLegend&&(e.drawLegendOnData?orderi=t.datasets.length-l-1:orderi=t.length-l-1),e.drawLegendOnData?tpof=typeof t.datasets[orderi].title:tpof=typeof t[orderi].title,"string"==tpof&&(e.drawLegendOnData?lgtxt=fmtChartJS(a,t.datasets[orderi].title,a.fmtLegend).trim():lgtxt=fmtChartJS(a,t[orderi].title,a.fmtLegend).trim(),""!=lgtxt)){nbcols++,nbcols==e.nbLegendCols?(nbcols=0,xpos=e.xFirstLegendTextPos,ypos+=Math.ceil(n.chartTextScale*a.legendFontSize)+Math.ceil(n.chartSpaceScale*a.legendSpaceBetweenTextVertical)):xpos+=e.widestLegend+Math.ceil(n.chartSpaceScale*a.legendSpaceBetweenTextHorizontal),n.save(),n.beginPath();var o=e.legendBox;if("Bar"==n.tpchart&&("Line"!=t.datasets[orderi].type||a.datasetFill||(o=!1)),o)n.lineWidth=Math.ceil(n.chartLineScale*a.datasetStrokeWidth),n.beginPath(),e.drawLegendOnData?(n.strokeStyle=setOptionValue(1,"LEGENDSTROKECOLOR",n,t,void 0,t.datasets[orderi].strokeColor,a.defaultFillColor,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(n.chartTextScale*a.legendBlockSize),yPosTop:ypos-Math.ceil(n.chartTextScale*a.legendFontSize)}),n.setLineDash(lineStyleFn(setOptionValue(1,"LEGENDLINEDASH",n,t,void 0,t.datasets[orderi].datasetStrokeStyle,a.datasetStrokeStyle,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(n.chartTextScale*a.legendBlockSize),yPosTop:ypos-Math.ceil(n.chartTextScale*a.legendFontSize)})))):(n.strokeStyle=setOptionValue(1,"LEGENDSTROKECOLOR",n,t,void 0,t[orderi].strokeColor,a.defaultFillColor,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(n.chartTextScale*a.legendBlockSize),yPosTop:ypos-Math.ceil(n.chartTextScale*a.legendFontSize)}),n.setLineDash(lineStyleFn(setOptionValue(1,"LEGENDSEGMENTTROKESTYLE",n,t,void 0,t[orderi].segmentStrokeStyle,a.segmentStrokeStyle,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(n.chartTextScale*a.legendBlockSize),yPosTop:ypos-Math.ceil(n.chartTextScale*a.legendFontSize)})))),n.moveTo(xpos,ypos),n.lineTo(xpos+Math.ceil(n.chartTextScale*a.legendBlockSize),ypos),n.lineTo(xpos+Math.ceil(n.chartTextScale*a.legendBlockSize),ypos-Math.ceil(n.chartTextScale*a.legendFontSize)),n.lineTo(xpos,ypos-Math.ceil(n.chartTextScale*a.legendFontSize)),n.lineTo(xpos,ypos),n.stroke(),n.closePath(),e.drawLegendOnData?n.fillStyle=setOptionValue(1,"LEGENDFILLCOLOR",n,t,void 0,t.datasets[orderi].fillColor,a.defaultFillColor,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(n.chartTextScale*a.legendBlockSize),yPosTop:ypos-Math.ceil(n.chartTextScale*a.legendFontSize)}):n.fillStyle=setOptionValue(1,"LEGENDFILLCOLOR",n,t,void 0,t[orderi].color,a.defaultFillColor,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(n.chartTextScale*a.legendBlockSize),yPosTop:ypos-Math.ceil(n.chartTextScale*a.legendFontSize)}),n.fill();else{if(n.lineWidth=a.legendColorIndicatorStrokeWidth?a.legendColorIndicatorStrokeWidth:Math.ceil(n.chartLineScale*a.datasetStrokeWidth),a.legendColorIndicatorStrokeWidth&&a.legendColorIndicatorStrokeWidth>Math.ceil(n.chartTextScale*a.legendFontSize)&&(n.lineWidth=Math.ceil(n.chartTextScale*a.legendFontSize)),e.drawLegendOnData?(n.strokeStyle=setOptionValue(1,"LEGENDSTROKECOLOR",n,t,void 0,t.datasets[orderi].strokeColor,a.defaultFillColor,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(n.chartTextScale*a.legendBlockSize),yPosTop:ypos-Math.ceil(n.chartTextScale*a.legendFontSize)}),n.setLineDash(lineStyleFn(setOptionValue(1,"LEGENDLINEDASH",n,t,void 0,t.datasets[orderi].datasetStrokeStyle,a.datasetStrokeStyle,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(n.chartTextScale*a.legendBlockSize),yPosTop:ypos-Math.ceil(n.chartTextScale*a.legendFontSize)})))):(n.strokeStyle=setOptionValue(1,"LEGENDSTROKECOLOR",n,t,void 0,t[orderi].strokeColor,a.defaultFillColor,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(n.chartTextScale*a.legendBlockSize),yPosTop:ypos-Math.ceil(n.chartTextScale*a.legendFontSize)}),n.setLineDash(lineStyleFn(setOptionValue(1,"LEGENDSEGMENTTROKESTYLE",n,t,void 0,t[orderi].segmentStrokeStyle,a.segmentStrokeStyle,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(n.chartTextScale*a.legendBlockSize),yPosTop:ypos-Math.ceil(n.chartTextScale*a.legendFontSize)})))),n.moveTo(xpos+2,ypos-Math.ceil(n.chartTextScale*a.legendFontSize)/2),n.lineTo(xpos+2+Math.ceil(n.chartTextScale*a.legendBlockSize),ypos-Math.ceil(n.chartTextScale*a.legendFontSize)/2),n.stroke(),n.fill(),a.pointDot){n.beginPath(),n.fillStyle=setOptionValue(1,"LEGENDMARKERFILLCOLOR",n,t,void 0,t.datasets[orderi].pointColor,a.defaultStrokeColor,orderi,-1,{nullvalue:!0}),n.strokeStyle=setOptionValue(1,"LEGENDMARKERSTROKESTYLE",n,t,void 0,t.datasets[orderi].pointStrokeColor,a.defaultStrokeColor,orderi,-1,{nullvalue:!0}),n.lineWidth=setOptionValue(n.chartLineScale,"LEGENDMARKERLINEWIDTH",n,t,void 0,t.datasets[orderi].pointDotStrokeWidth,a.pointDotStrokeWidth,orderi,-1,{nullvalue:!0});var r=setOptionValue(1,"LEGENDMARKERSHAPE",n,t,void 0,t.datasets[orderi].markerShape,a.markerShape,orderi,-1,{nullvalue:!0}),s=setOptionValue(n.chartSpaceScale,"LEGENDMARKERRADIUS",n,t,void 0,t.datasets[orderi].pointDotRadius,a.pointDotRadius,orderi,-1,{nullvalue:!0}),c=setOptionValue(1,"LEGENDMARKERSTROKESTYLE",n,t,void 0,t.datasets[orderi].pointDotStrokeStyle,a.pointDotStrokeStyle,orderi,-1,{nullvalue:!0});drawMarker(n,xpos+2+Math.ceil(n.chartTextScale*a.legendBlockSize)/2,ypos-Math.ceil(n.chartTextScale*a.legendFontSize)/2,r,s,c)}n.fill()}n.restore(),n.save(),n.beginPath(),n.font=a.legendFontStyle+" "+Math.ceil(n.chartTextScale*a.legendFontSize).toString()+"px "+a.legendFontFamily,n.fillStyle=setOptionValue(1,"LEGENDFONTCOLOR",n,t,void 0,void 0,a.legendFontColor,orderi,-1,{nullvalue:!0}),n.textAlign="left",n.textBaseline="bottom",n.translate(xpos+Math.ceil(n.chartTextScale*a.legendBlockSize)+Math.ceil(n.chartSpaceScale*a.legendSpaceBetweenBoxAndText),ypos),n.fillText(lgtxt,0,0),n.restore()}}function drawMarker(e,t,a,n,i,l){switch(e.setLineDash(lineStyleFn(l)),n){case"square":e.rect(t-i,a-i,2*i,2*i),e.stroke(),e.fill(),e.setLineDash([]);break;case"triangle":pointA_x=0,pointA_y=2/3*i,e.moveTo(t,a-pointA_y),e.lineTo(t+pointA_y*Math.sin(4/3),a+pointA_y*Math.cos(4/3)),e.lineTo(t-pointA_y*Math.sin(4/3),a+pointA_y*Math.cos(4/3)),e.lineTo(t,a-pointA_y),e.stroke(),e.fill(),e.setLineDash([]);break;case"diamond":e.moveTo(t,a+i),e.lineTo(t+i,a),e.lineTo(t,a-i),e.lineTo(t-i,a),e.lineTo(t,a+i),e.stroke(),e.fill(),e.setLineDash([]);break;case"plus":e.moveTo(t,a-i),e.lineTo(t,a+i),e.moveTo(t-i,a),e.lineTo(t+i,a),e.stroke(),e.setLineDash([]);break;case"cross":e.moveTo(t-i,a-i),e.lineTo(t+i,a+i),e.moveTo(t-i,a+i),e.lineTo(t+i,a-i),e.stroke(),e.setLineDash([]);break;case"circle":default:e.arc(t,a,i,0,2*Math.PI*1,!0),e.stroke(),e.fill(),e.setLineDash([])}}function initPassVariableData_part1(e,t,a){var n,i,l,o,r,s,c,u,h,d,p,g,f,S,m,y,v;switch(a.tpchart){case"Pie":case"Doughnut":case"PolarArea":var A,x,V;l=[],x=((-t.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),V=((t.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),startAngle=x,c=0,notemptyval=0;var P=-1,R=-1,T=-1;for(o=-Number.MAX_VALUE,r=Number.MAX_VALUE,n=0;n<e.length;n++)"PolarArea"!=a.tpchart&&1*e[n].value<0||void 0!==e[n].value&&(-1==P&&(P=n),o=Math.max(o,1*e[n].value),r=Math.min(r,1*e[n].value),notemptyval++,c+=1*e[n].value,R=n);var M=-1;for(n=s=0;n<e.length;n++)d="string"==typeof e[n].title?e[n].title.trim():"",void 0!==e[n].value&&("PolarArea"==a.tpchart||0<=1*e[n].value)?((A="PolarArea"==a.tpchart?0<notemptyval?2*Math.PI/notemptyval:0:1*e[n].value/c*(2*Math.PI))>=2*Math.PI&&(A=2*Math.PI-.001),s+=1*e[n].value,l[n]={config:t,v1:fmtChartJS(t,d,t.fmtV1),v2:fmtChartJS(t,1*e[n].value,t.fmtV2),v3:fmtChartJS(t,s,t.fmtV3),v4:fmtChartJS(t,c,t.fmtV4),v5:fmtChartJS(t,A,t.fmtV5),v6:roundToWithThousands(t,fmtChartJS(t,100*e[n].value/c,t.fmtV6),t.roundPct),v7:0,v8:0,v9:0,v10:0,v11:fmtChartJS(t,x-A,t.fmtV11),v12:fmtChartJS(t,x,t.fmtV12),v13:fmtChartJS(t,n,t.fmtV13),lgtxt:d,datavalue:1*e[n].value,cumvalue:s,totvalue:c,segmentAngle:A,firstAngle:startAngle,pctvalue:100*e[n].value/c,startAngle:x,realStartAngle:V,endAngle:x+A,maxvalue:o,minvalue:r,i:n,firstNotMissing:P,lastNotMissing:R,prevNotMissing:T,prevMissing:M,nextNotMissing:-1,radiusOffset:0,midPosX:0,midPosY:0,int_radius:0,ext_radius:0,data:e},x+=A,V-=A,-1!=T&&(l[T].nextNotMissing=n),T=n):(l[n]={v1:d,maxvalue:o,minvalue:r,i:n,firstNotMissing:P,lastNotMissing:R,prevNotMissing:T},M=n);break;case"Bar":case"Line":case"HorizontalBar":case"StackedBar":case"HorizontalStackedBar":case"Radar":var D;for(l=[],(o=[])[0]=[],o[1]=[],(r=[])[0]=[],r[1]=[],(s=[])[0]=[],s[1]=[],(c=[])[0]=[],c[1]=[],(u=[])[0]=[],u[1]=[],(h=[])[0]=[],h[1]=[],f=[],S=[],m=[],y=[],(g=[])[0]=[],g[1]=[],n=v=0;n<e.datasets.length;n++){if(void 0!==e.datasets[n].xPos&&"Line"==tpdraw(a,e.datasets[n]))for(i=e.datasets[n].data.length;i<e.datasets[n].xPos.length;i++)e.datasets[n].data.push(void 0);else for(i=e.datasets[n].data.length;i<e.labels.length;i++)e.datasets[n].data.push(void 0);for(D=2==e.datasets[n].axis?0:1,l[n]=[],u[0][n]=-Number.MAX_VALUE,u[1][n]=-Number.MAX_VALUE,h[0][n]=Number.MAX_VALUE,h[1][n]=Number.MAX_VALUE,f[n]=-1,S[n]=-1,i=0;i<e.datasets[n].data.length;i++)void 0===m[i]&&(m[i]=-1,y[i]=-1,o[c[0][i]=0][i]=-Number.MAX_VALUE,r[0][i]=Number.MAX_VALUE,c[1][i]=0,o[1][i]=-Number.MAX_VALUE,r[1][i]=Number.MAX_VALUE),void 0!==e.datasets[n].data[i]&&(v+=1*e.datasets[n].data[i],-1==f[n]&&(f[n]=i),-1==m[S[n]=i]&&(m[i]=n),y[i]=n,c[D][i]+=1*e.datasets[n].data[i],o[D][i]=Math.max(o[D][i],1*e.datasets[n].data[i]),r[D][i]=Math.min(r[D][i],1*e.datasets[n].data[i]),u[D][n]=Math.max(u[D][n],1*e.datasets[n].data[i]),h[D][n]=Math.min(h[D][n],1*e.datasets[n].data[i]))}for(n=0;n<e.datasets.length;n++){D=2==e.datasets[n].axis?0:1,d="string"==typeof e.datasets[n].title?e.datasets[n].title.trim():"";var b=-1,L=-1;for(i=0;i<e.datasets[n].data.length;i++)if(void 0===s[0][i]&&(g[s[0][i]=0][i]=-1,s[1][i]=0,g[1][i]=-1),p="",void 0!==e.datasets[n].xPos&&void 0!==e.datasets[n].xPos[i]&&(p=e.datasets[n].xPos[i]),""==p&&void 0!==e.labels[i]&&(p=e.labels[i]),"string"==typeof p&&(p=p.trim()),void 0!==e.datasets[n].data[i]){switch(s[D][i]+=1*e.datasets[n].data[i],tpdraw(a,e.datasets[n])){case"Bar":case"StackedBar":case"HorizontalBar":case"HorizontalStackedBar":l[n][i]={config:t,v1:fmtChartJS(t,d,t.fmtV1),v2:fmtChartJS(t,p,t.fmtV2),v3:fmtChartJS(t,1*e.datasets[n].data[i],t.fmtV3),v4:fmtChartJS(t,s[D][i],t.fmtV4),v5:fmtChartJS(t,c[D][i],t.fmtV5),v6:roundToWithThousands(t,fmtChartJS(t,100*e.datasets[n].data[i]/c[D][i],t.fmtV6),t.roundPct),v6T:roundToWithThousands(t,fmtChartJS(t,100*e.datasets[n].data[i]/v,t.fmtV6T),t.roundPct),v11:fmtChartJS(t,n,t.fmtV11),v12:fmtChartJS(t,i,t.fmtV12),lgtxt:d,lgtxt2:p,datavalue:1*e.datasets[n].data[i],cumvalue:s[D][i],totvalue:c[D][i],pctvalue:100*e.datasets[n].data[i]/c[D][i],pctvalueT:100*e.datasets[n].data[i]/v,maxvalue:o[D][i],minvalue:r[D][i],lmaxvalue:u[D][n],lminvalue:h[D][n],grandtotal:v,firstNotMissing:m[i],lastNotMissing:y[i],prevNotMissing:b,prevMissing:L,nextNotMissing:-1,j:i,i:n,data:e},1*e.datasets[n].data[i]!=0||"HorizontalStackedBar"!=tpdraw(a,e.datasets[n])&&"StackedBar"!=tpdraw(a,e.datasets[n])||(l[n][i].v3="");break;case"Line":case"Radar":l[n][i]={config:t,v1:fmtChartJS(t,d,t.fmtV1),v2:fmtChartJS(t,p,t.fmtV2),v3:fmtChartJS(t,1*e.datasets[n].data[i],t.fmtV3),v5:fmtChartJS(t,1*e.datasets[n].data[i],t.fmtV5),v6:fmtChartJS(t,o[D][i],t.fmtV6),v7:fmtChartJS(t,c[D][i],t.fmtV7),v8:roundToWithThousands(t,fmtChartJS(t,100*e.datasets[n].data[i]/c[D][i],t.fmtV8),t.roundPct),v8T:roundToWithThousands(t,fmtChartJS(t,100*e.datasets[n].data[i]/v,t.fmtV8T),t.roundPct),v11:fmtChartJS(t,n,t.fmtV11),v12:fmtChartJS(t,i,t.fmtV12),lgtxt:d,lgtxt2:p,datavalue:1*e.datasets[n].data[i],diffnext:1*e.datasets[n].data[i],pctvalue:100*e.datasets[n].data[i]/c[D][i],pctvalueT:100*e.datasets[n].data[i]/v,totvalue:c[D][i],cumvalue:s[D][i],maxvalue:o[D][i],minvalue:r[D][i],lmaxvalue:u[D][n],lminvalue:h[D][n],grandtotal:v,firstNotMissing:f[n],lastNotMissing:S[n],prevNotMissing:b,prevMissing:L,nextNotMissing:-1,j:i,i:n,data:e},0<=g[D][i]?(l[n][i].v4=fmtChartJS(t,-1!=g[D][i]?1*e.datasets[n].data[i]-l[g[D][i]][i].datavalue:1*e.datasets[n].data[i],t.fmtV4),l[n][i].diffprev=-1!=g[D][i]?1*e.datasets[n].data[i]-l[g[D][i]][i].datavalue:1*e.datasets[n].data[i],l[g[D][i]][i].diffnext=e.datasets[g[D][i]].data[i]-e.datasets[n].data[i],l[g[D][i]][i].v5=l[g[D][i]][i].diffnext):l[n][i].v4=1*e.datasets[n].data[i],g[D][i]=n}if(void 0!==e.datasets[n].data[i]){if(-1!=b)for(k=b;k<i;k++)l[n][k].nextNotMissing=i;b=i}}else switch(L=i,tpdraw(a,e.datasets[n])){case"Bar":case"StackedBar":case"HorizontalBar":case"HorizontalStackedBar":l[n][i]={v1:d,lmaxvalue:u[D][n],lminvalue:h[D][n],firstNotMissing:m[i],lastNotMissing:y[i],prevNotMissing:b,prevMissing:L,grandtotal:v};break;case"Line":case"Radar":l[n][i]={v1:d,lmaxvalue:u[D][n],lminvalue:h[D][n],firstNotMissing:f[n],lastNotMissing:S[n],prevNotMissing:b,prevMissing:L,grandtotal:v}}}}return l}function initPassVariableData_part2(e,t,h,a,n){var i,l,o=0;switch(a.tpchart){case"Pie":case"Doughnut":case"PolarArea":for(i=0;i<t.length;i++)e[i].v7=fmtChartJS(h,n.midPosX,h.fmtV7),e[i].v8=fmtChartJS(h,n.midPosY,h.fmtV8),e[i].v9=fmtChartJS(h,n.int_radius,h.fmtV9),e[i].v10=fmtChartJS(h,n.ext_radius,h.fmtV10),"PolarArea"==a.tpchart?(e[i].radiusOffset=u(h.logarithmic,1*t[i].value,n.calculatedScale,n.scaleHop),e[i].v10=fmtChartJS(h,e[i].radiusOffset,h.fmtV10)):(e[i].v10=fmtChartJS(h,n.ext_radius,h.fmtV10),e[i].radiusOffset=n.ext_radius),e[i].midPosX=n.midPosX,e[i].midPosY=n.midPosY,e[i].int_radius=n.int_radius,e[i].ext_radius=n.ext_radius;break;case"Radar":case"Line":case"Bar":case"StackedBar":case"HorizontalBar":case"HorizontalStackedBar":var r=new Array(t.datasets.length),s=new Array(t.datasets.length);for(i=0;i<t.datasets.length;i++)switch(tpdraw(a,t.datasets[i])){case"Line":for(l=0;l<t.datasets[i].data.length;l++)e[i][l].xAxisPosY=n.xAxisPosY,e[i][l].yAxisPosX=n.yAxisPosX,e[i][l].valueHop=n.valueHop,e[i][l].nbValueHop=n.nbValueHop,2==t.datasets[i].axis?(e[i][l].scaleHop=n.scaleHop2,e[i][l].zeroY=n.zeroY2,e[i][l].calculatedScale=n.calculatedScale2,e[i][l].logarithmic=n.logarithmic2):(e[i][l].scaleHop=n.scaleHop,e[i][l].zeroY=n.zeroY,e[i][l].calculatedScale=n.calculatedScale,e[i][l].logarithmic=n.logarithmic),e[i][l].xPos=d(i,l,t,n.yAxisPosX,n.valueHop,n.nbValueHop),e[i][l].yAxisPos=n.xAxisPosY-e[i][l].zeroY,"Bar"==a.tpchart&&(e[i][l].xPos+=n.valueHop/2,e[i][l].yAxisPosX+=n.valueHop/2),0==l?(e[i][l].lmaxvalue_offset=u(e[i][l].logarithmic,e[i][l].lmaxvalue,e[i][l].calculatedScale,e[i][l].scaleHop)-e[i][l].zeroY,e[i][l].lminvalue_offset=u(e[i][l].logarithmic,e[i][l].lminvalue,e[i][l].calculatedScale,e[i][l].scaleHop)-e[i][l].zeroY):(e[i][l].lmaxvalue_offset=e[i][0].lmaxvalue_offset,e[i][l].lminvalue_offset=e[i][0].lminvalue_offset),void 0!==t.datasets[i].data[l]&&(e[i][l].yPosOffset=u(e[i][l].logarithmic,t.datasets[i].data[l],e[i][l].calculatedScale,e[i][l].scaleHop)-e[i][l].zeroY,e[i][l].posY=e[i][l].yAxisPos-e[i][l].yPosOffset),e[i][l].posX=e[i][l].xPos,e[i][l].v9=e[i][l].xPos,e[i][l].v10=e[i][l].posY,e[i][l].annotateStartPosX=e[i][l].xPos,e[i][l].annotateEndPosX=e[i][l].xPos,e[i][l].annotateStartPosY=n.xAxisPosY,e[i][l].annotateEndPosY=n.xAxisPosY-n.msr.availableHeight,e[i][l].D1A=void 0,e[i][l].D1B=void 0;break;case"Radar":var c=2*Math.PI/t.datasets[0].data.length;for(l=0;l<t.datasets[i].data.length;l++)e[i][l].midPosX=n.midPosX,e[i][l].midPosY=n.midPosY,e[i][l].int_radius=0,e[i][l].ext_radius=n.maxSize,e[i][l].radiusOffset=n.maxSize,e[i][l].calculated_offset=u(h.logarithmic,t.datasets[i].data[l],n.calculatedScale,n.scaleHop),e[i][l].offsetX=Math.cos(h.startAngle*Math.PI/180-l*c)*e[i][l].calculated_offset,e[i][l].offsetY=Math.sin(h.startAngle*Math.PI/180-l*c)*e[i][l].calculated_offset,e[i][l].v9=e[i][l].midPosX+e[i][l].offsetX,e[i][l].v10=e[i][l].midPosY-e[i][l].offsetY,e[i][l].posX=e[i][l].midPosX+e[i][l].offsetX,e[i][l].posY=e[i][l].midPosY-e[i][l].offsetY,e[i][l].calculated_offset_max=0==l?u(h.logarithmic,e[i][l].lmaxvalue,n.calculatedScale,n.scaleHop):e[0][l].calculated_offset_max,e[i][l].annotateStartPosX=n.midPosX,e[i][l].annotateEndPosX=n.midPosX+Math.cos(h.startAngle*Math.PI/180-l*c)*n.maxSize,e[i][l].annotateStartPosY=n.midPosY,e[i][l].annotateEndPosY=n.midPosY-Math.sin(h.startAngle*Math.PI/180-l*c)*n.maxSize,Math.abs(e[i][l].annotateStartPosX-e[i][l].annotateEndPosX)<h.zeroValue?(e[i][l].D1A=void 0,e[i][l].D1B=void 0,e[i][l].D2A=0):(e[i][l].D1A=(e[i][l].annotateStartPosY-e[i][l].annotateEndPosY)/(e[i][l].annotateStartPosX-e[i][l].annotateEndPosX),e[i][l].D1B=-e[i][l].D1A*e[i][l].annotateStartPosX+e[i][l].annotateStartPosY,Math.abs(e[i][l].D1A)>=h.zeroValue?e[i][l].D2A=-1/e[i][l].D1A:e[i][l].D2A=void 0);break;case"Bar":for(l=0;l<t.datasets[i].data.length;l++)e[i][l].xPosLeft=n.yAxisPosX+Math.ceil(a.chartSpaceScale*h.barValueSpacing)+n.valueHop*l+n.barWidth*o+Math.ceil(a.chartSpaceScale*h.barDatasetSpacing)*o+Math.ceil(a.chartLineScale*h.barStrokeWidth)*o,e[i][l].xPosRight=e[i][l].xPosLeft+n.barWidth,e[i][l].yPosBottom=n.xAxisPosY-n.zeroY,e[i][l].barHeight=u(h.logarithmic,1*t.datasets[i].data[l],n.calculatedScale,n.scaleHop)-n.zeroY,2==t.datasets[i].axis?(e[i][l].yPosBottom=n.xAxisPosY-n.zeroY2,e[i][l].barHeight=u(h.logarithmic2,1*t.datasets[i].data[l],n.calculatedScale2,n.scaleHop2)-n.zeroY2):(e[i][l].yPosBottom=n.xAxisPosY-n.zeroY,e[i][l].barHeight=u(h.logarithmic,1*t.datasets[i].data[l],n.calculatedScale,n.scaleHop)-n.zeroY),e[i][l].yPosTop=e[i][l].yPosBottom-e[i][l].barHeight+Math.ceil(a.chartLineScale*h.barStrokeWidth)/2,e[i][l].v7=e[i][l].xPosLeft,e[i][l].v8=e[i][l].yPosBottom,e[i][l].v9=e[i][l].xPosRight,e[i][l].v10=e[i][l].yPosTop;o++;break;case"StackedBar":for(l=0;l<t.datasets[i].data.length;l++)void 0===r[l]&&(r[l]=0,s[l]=0,zeroY=u(h.logarithmic,0,n.calculatedScale,n.scaleHop)),void 0!==t.datasets[i].data[l]&&(e[i][l].xPosLeft=n.yAxisPosX+Math.ceil(a.chartSpaceScale*h.barValueSpacing)+n.valueHop*l,1*t.datasets[i].data[l]<0?(e[i][l].botval=s[l],e[i][l].topval=s[l]+1*t.datasets[i].data[l],s[l]=s[l]+1*t.datasets[i].data[l]):(e[i][l].botval=r[l],e[i][l].topval=r[l]+1*t.datasets[i].data[l],r[l]=r[l]+1*t.datasets[i].data[l]),e[i][l].xPosRight=e[i][l].xPosLeft+n.barWidth,e[i][l].botOffset=u(h.logarithmic,e[i][l].botval,n.calculatedScale,n.scaleHop),e[i][l].topOffset=u(h.logarithmic,e[i][l].topval,n.calculatedScale,n.scaleHop),e[i][l].yPosBottom=n.xAxisPosY-e[i][l].botOffset,e[i][l].yPosTop=n.xAxisPosY-e[i][l].topOffset,0<Math.ceil(a.chartSpaceScale*h.spaceBetweenBar)&&(1*t.datasets[i].data[l]<0?(e[i][l].yPosBottom+=Math.ceil(a.chartSpaceScale*h.spaceBetweenBar),s[l]==1*t.datasets[i].data[l]&&(e[i][l].yPosBottom-=Math.ceil(a.chartSpaceScale*h.spaceBetweenBar)/2),e[i][l].yPosTop<e[i][l].yPosBottom&&(e[i][l].yPosBottom=e[i][l].yPosTop)):0<1*t.datasets[i].data[l]&&(e[i][l].yPosBottom-=Math.ceil(a.chartSpaceScale*h.spaceBetweenBar),r[l]==1*t.datasets[i].data[l]&&(e[i][l].yPosBottom+=Math.ceil(a.chartSpaceScale*h.spaceBetweenBar)/2),e[i][l].yPosTop>e[i][l].yPosBottom&&(e[i][l].yPosBottom=e[i][l].yPosTop))),e[i][l].v7=e[i][l].xPosLeft,e[i][l].v8=e[i][l].yPosBottom,e[i][l].v9=e[i][l].xPosRight,e[i][l].v10=e[i][l].yPosTop);break;case"HorizontalBar":for(l=0;l<t.datasets[i].data.length;l++)e[i][l].xPosLeft=n.yAxisPosX+n.zeroY,e[i][l].yPosTop=n.xAxisPosY+Math.ceil(a.chartSpaceScale*h.barValueSpacing)-n.scaleHop*(l+1)+n.barWidth*i+Math.ceil(a.chartSpaceScale*h.barDatasetSpacing)*i+Math.ceil(a.chartLineScale*h.barStrokeWidth)*i,e[i][l].yPosBottom=e[i][l].yPosTop+n.barWidth,e[i][l].barWidth=u(h.logarithmic,1*t.datasets[i].data[l],n.calculatedScale,n.valueHop)-n.zeroY,e[i][l].xPosRight=e[i][l].xPosLeft+e[i][l].barWidth,e[i][l].v7=e[i][l].xPosLeft,e[i][l].v8=e[i][l].yPosBottom,e[i][l].v9=e[i][l].xPosRight,e[i][l].v10=e[i][l].yPosTop;break;case"HorizontalStackedBar":for(l=0;l<t.datasets[i].data.length;l++)0==i&&(r[l]=0,s[l]=0),void 0!==t.datasets[i].data[l]&&(e[i][l].xPosLeft=n.yAxisPosX+Math.ceil(a.chartSpaceScale*h.barValueSpacing)+n.valueHop*l,1*t.datasets[i].data[l]<0?(e[i][l].leftval=s[l],e[i][l].rightval=s[l]+1*t.datasets[i].data[l],s[l]=s[l]+1*t.datasets[i].data[l]):(e[i][l].leftval=r[l],e[i][l].rightval=r[l]+1*t.datasets[i].data[l],r[l]=r[l]+1*t.datasets[i].data[l]),e[i][l].rightOffset=p(e[i][l].rightval,n.calculatedScale,n.valueHop),e[i][l].leftOffset=p(e[i][l].leftval,n.calculatedScale,n.valueHop),e[i][l].xPosRight=n.yAxisPosX+e[i][l].rightOffset,e[i][l].xPosLeft=n.yAxisPosX+e[i][l].leftOffset,e[i][l].yPosTop=n.xAxisPosY+Math.ceil(a.chartSpaceScale*h.barValueSpacing)-n.scaleHop*(l+1),e[i][l].yPosBottom=e[i][l].yPosTop+n.barWidth,0<Math.ceil(a.chartSpaceScale*h.spaceBetweenBar)&&(1*t.datasets[i].data[l]<0?(e[i][l].xPosLeft-=Math.ceil(a.chartSpaceScale*h.spaceBetweenBar),s[l]==1*t.datasets[i].data[l]&&(e[i][l].xPosLeft+=Math.ceil(a.chartSpaceScale*h.spaceBetweenBar)/2),e[i][l].xPosLeft<e[i][l].xPosRight&&(e[i][l].xPosLeft=e[i][l].xPosRight)):0<1*t.datasets[i].data[l]&&(e[i][l].xPosLeft+=Math.ceil(a.chartSpaceScale*h.spaceBetweenBar),r[l]==1*t.datasets[i].data[l]&&(e[i][l].xPosLeft-=Math.ceil(a.chartSpaceScale*h.spaceBetweenBar)/2),e[i][l].xPosLeft>e[i][l].xPosRight&&(e[i][l].xPosLeft=e[i][l].xPosRight))),e[i][l].v7=e[i][l].xPosLeft,e[i][l].v8=e[i][l].yPosBottom,e[i][l].v9=e[i][l].xPosRight,e[i][l].v10=e[i][l].yPosTop)}}function d(e,t,a,n,i,l){if("object"==typeof a.datasets[e].xPos&&void 0!==a.datasets[e].xPos[Math.floor(t+h.zeroValue)]){var o=i*l,r=void 0!==a.xBegin?a.xBegin:1*a.labels[0],s=void 0!==a.xEnd?a.xEnd:1*a.labels[a.labels.length-1];if(s<=r&&(s=r+100),1*a.datasets[e].xPos[Math.floor(t+h.zeroValue)]>=r&&a.datasets[e].xPos[Math.floor(t+h.zeroValue)]<=s){var c=n+o*((1*a.datasets[e].xPos[Math.floor(t+h.zeroValue)]-r)/(s-r)),u=c;return Math.abs(t-Math.floor(t+h.zeroValue))>h.zeroValue&&(u=d(e,Math.ceil(t-h.zeroValue),a)),c+(t-Math.floor(t+h.zeroValue))*(u-c)}}return n+i*t}function u(e,t,a,n){if(e)return g(f(t)*n-f(a.graphMin)*n,void 0,0);var i=a.steps*a.stepValue,l=g((t-a.graphMin)/i,1,0);return n*a.steps*l}function p(e,t,a){var n=t.steps*t.stepValue,i=g((e-t.graphMin)/n,1,0);return a*t.steps*i}function g(e,t,a){return isNumber(t)&&t<e?t:isNumber(a)&&e<a?a:e}function f(e){return Math.log(e)/Math.LN10}}function isBooleanOptionTrue(e,t){var a;if("undefined"==typeof optionvar){if("function"==typeof t)return!0;if("object"==typeof t){for(a=0;a<t.length;a++)if(t[a])return!0;return!1}return t}if("function"==typeof optionvar)return!0;if("object"==typeof optionvar){for(a=0;a<optionvar.length;a++)if(optionvar[a])return!0;return!1}return optionvar}function setOptionValue(e,t,a,n,i,l,o,r,s,c){var u;return void 0===l?"function"==typeof o?o(t,a,n,i,r,s,c):(u="object"==typeof o?-1==s?o[Math.min(o.length-1,Math.max(0,r))]:o[Math.min(o.length-1,Math.max(0,s))]:o,1!=e&&(u=Math.ceil(u*e)),u):(u="function"==typeof l?l(t,a,n,i,r,s,c):"object"==typeof l?-1==s?l[Math.min(l.length-1,Math.max(0,r))]:l[Math.min(l.length-1,Math.max(0,s))]:l,1!=e&&(u=Math.ceil(u*e)),u)}function tpdraw(e,t){switch(e.tpchart){case"Bar":"Line"==t.type?tp="Line":tp=e.tpchart;break;default:tp=e.tpchart}return tp}function setTextBordersAndBackground(e,t,a,n,i,l,o,r,s,c,u,h,d){var p,g,f,S,m;if("string"!=typeof t){var y=t.toString();p=a*(y.split("\n").length||1),g=e.measureText(y).width}else p=a*(t.split("\n").length||1),g=e.measureText(t).width;"center"==e.textAlign?(f=-g/2,S=g/2):"left"==e.textAlign?(f=0,S=g):"right"==e.textAlign&&(f=-g,S=0),"top"==e.textBaseline?(m=0,ybottom=p):"center"==e.textBaseline||"middle"==e.textBaseline?(m=-p/2,ybottom=p/2):"bottom"==e.textBaseline&&(m=-p,ybottom=0),e.save(),e.beginPath(),e.translate(n,i),"none"!=h&&(e.save(),e.fillStyle=h,e.fillRect(f-s,ybottom+c,S-f+2*s,m-ybottom-2*c),e.stroke(),e.restore(),e.fillStyle="black"),l&&(e.save(),e.lineWidth=r,e.strokeStyle=o,e.fillStyle=o,e.setLineDash(lineStyleFn(u)),e.rect(f-r/2-s,m-r/2-c,S-f+r+2*s,ybottom-m+r+2*c),e.stroke(),e.setLineDash([]),e.restore()),e.restore()}window.Chart=function(context){var chart=this,animationOptions={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0==e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1==e?1:1*(1-Math.pow(2,-10*e/1))},easeInOutExpo:function(e){return 0==e?0:1==e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return 1<=e?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,a=0,n=1;return 0==e?0:1==(e/=1)?1:(a||(a=.3),n<Math.abs(1)?(n=1,t=a/4):t=a/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/a))},easeOutElastic:function(e){var t=1.70158,a=0,n=1;return 0==e?0:1==(e/=1)?1:(a||(a=.3),n<Math.abs(1)?(n=1,t=a/4):t=a/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/a)+1)},easeInOutElastic:function(e){var t=1.70158,a=0,n=1;return 0==e?0:2==(e/=.5)?1:(a||(a=.3*1.5*1),n<Math.abs(1)?(n=1,t=a/4):t=a/(2*Math.PI)*Math.asin(1/n),e<1?n*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/a)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/a)*.5+1)},easeInBack:function(e){return 1*(e/=1)*e*(2.70158*e-1.70158)},easeOutBack:function(e){return 1*((e=e/1-1)*e*(2.70158*e+1.70158)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-animationOptions.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e*1:e<2/2.75?1*(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return e<.5?.5*animationOptions.easeInBounce(2*e):.5*animationOptions.easeOutBounce(2*e-1)+.5}},width=context.canvas.width,height=context.canvas.height;window.devicePixelRatio&&(context.canvas.style.width=width+"px",context.canvas.style.height=height+"px",context.canvas.height=height*window.devicePixelRatio,context.canvas.width=width*window.devicePixelRatio,context.scale(window.devicePixelRatio,window.devicePixelRatio)),this.PolarArea=function(e,t){chart.PolarArea.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,scaleOverlay:!0,scaleOverride:!1,scaleOverride2:!1,scaleGridLinesStep:1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleLineStyle:"solid",scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeStyle:"solid",segmentStrokeWidth:2,animation:!0,animationByData:"ByArc",animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90},chart.PolarArea.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.PolarArea.defaults),chart.PolarArea.defaults=mergeChartConfig(chart.PolarArea.defaults,charJSPersonalDefaultOptions),chart.PolarArea.defaults=mergeChartConfig(chart.PolarArea.defaults,charJSPersonalDefaultOptionsPolarArea);var a=t?mergeChartConfig(chart.PolarArea.defaults,t):chart.PolarArea.defaults;return new PolarArea(e,a,context)},this.Radar=function(e,t){chart.Radar.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,yAxisMinimumInterval:"none",scaleGridLinesStep:1,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!1,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineStyle:"solid",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointDotStrokeStyle:"solid",datasetFill:!0,datasetStrokeWidth:2,datasetStrokeStyle:"solid",animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3%>",pointHitDetectionRadius:10,startAngle:90},chart.Radar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Radar.defaults),chart.Radar.defaults=mergeChartConfig(chart.Radar.defaults,charJSPersonalDefaultOptions),chart.Radar.defaults=mergeChartConfig(chart.Radar.defaults,charJSPersonalDefaultOptionsRadar);var a=t?mergeChartConfig(chart.Radar.defaults,t):chart.Radar.defaults;return new Radar(e,a,context)},this.Pie=function(e,t){chart.Pie.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,inGraphDataMinimumAngle:0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeStyle:"solid",segmentStrokeWidth:2,animation:!0,animationByData:!1,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90,radiusScale:1},chart.Pie.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Pie.defaults),chart.Pie.defaults=mergeChartConfig(chart.Pie.defaults,charJSPersonalDefaultOptions),chart.Pie.defaults=mergeChartConfig(chart.Pie.defaults,charJSPersonalDefaultOptionsPie);var a=t?mergeChartConfig(chart.Pie.defaults,t):chart.Pie.defaults;return new Pie(e,a,context)},this.Doughnut=function(e,t){chart.Doughnut.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,inGraphDataMinimumAngle:0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeStyle:"solid",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationByData:!1,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90,radiusScale:1},chart.Doughnut.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Doughnut.defaults),chart.Doughnut.defaults=mergeChartConfig(chart.Doughnut.defaults,charJSPersonalDefaultOptions),chart.Doughnut.defaults=mergeChartConfig(chart.Doughnut.defaults,charJSPersonalDefaultOptionsDoughnut);var a=t?mergeChartConfig(chart.Doughnut.defaults,t):chart.Doughnut.defaults;return new Doughnut(e,a,context)},this.Line=function(e,t){chart.Line.defaults={inGraphDataShow:!1,inGraphDataPaddingX:3,inGraphDataPaddingY:3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"left",inGraphDataVAlign:"bottom",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",drawXScaleLine:[{position:"bottom"}],scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleSteps2:null,scaleStepWidth2:null,scaleStartValue2:null,scaleLabel2:"<%=value%>",scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineStyle:"solid",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",logarithmic:!1,logarithmic2:!1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeStyle:"solid",pointDotStrokeWidth:2,datasetStrokeStyle:"solid",datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",extrapolateMissingData:!0,onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3%>",pointHitDetectionRadius:10},chart.Line.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Line.defaults),chart.Line.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.Line.defaults),chart.Line.defaults=mergeChartConfig(chart.Line.defaults,charJSPersonalDefaultOptions),chart.Line.defaults=mergeChartConfig(chart.Line.defaults,charJSPersonalDefaultOptionsLine);var a=t?mergeChartConfig(chart.Line.defaults,t):chart.Line.defaults;return new Line(e,a,context)},this.StackedBar=function(e,t){chart.StackedBar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:0,inGraphDataPaddingY:-3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"center",inGraphDataVAlign:"top",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:2,inGraphDataYPosition:3,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineStyle:"solid",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,pointDot:!0,pointDotRadius:4,pointDotStrokeStyle:"solid",pointDotStrokeWidth:2,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,spaceBetweenBar:0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>",pointHitDetectionRadius:10},chart.StackedBar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.StackedBar.defaults),chart.StackedBar.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.StackedBar.defaults),chart.StackedBar.defaults=mergeChartConfig(chart.StackedBar.defaults,charJSPersonalDefaultOptions),chart.StackedBar.defaults=mergeChartConfig(chart.StackedBar.defaults,charJSPersonalDefaultOptionsStackedBar);var a=t?mergeChartConfig(chart.StackedBar.defaults,t):chart.StackedBar.defaults;return new StackedBar(e,a,context)},this.HorizontalStackedBar=function(e,t){chart.HorizontalStackedBar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:-3,inGraphDataPaddingY:0,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"right",inGraphDataVAlign:"middle",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:3,inGraphDataYPosition:2,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineStyle:"solid",scaleGridLineWidth:1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,showYAxisMin:!0,rotateLabels:"smart",barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,spaceBetweenBar:0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>",reverseOrder:!1},chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.HorizontalStackedBar.defaults),chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.HorizontalStackedBar.defaults),chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.HorizontalStackedBar.defaults,charJSPersonalDefaultOptions),chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.HorizontalStackedBar.defaults,charJSPersonalDefaultOptionsHorizontalStackedBar);var a=t?mergeChartConfig(chart.HorizontalStackedBar.defaults,t):chart.HorizontalStackedBar.defaults;return new HorizontalStackedBar(e,a,context)},this.Bar=function(e,t){chart.Bar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:0,inGraphDataPaddingY:3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"center",inGraphDataVAlign:"bottom",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:2,inGraphDataYPosition:3,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleSteps2:null,scaleStepWidth2:null,scaleStartValue2:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleLabel2:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleGridLineStyle:"solid",showYAxisMin:!0,rotateLabels:"smart",logarithmic:!1,logarithmic2:!1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,barBorderRadius:0,pointDot:!0,pointDotRadius:4,pointDotStrokeStyle:"solid",pointDotStrokeWidth:2,extrapolateMissingData:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,bezierCurve:!0,bezierCurveTension:.4,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>",pointHitDetectionRadius:10},chart.Bar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Bar.defaults),chart.Bar.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.Bar.defaults),chart.Bar.defaults=mergeChartConfig(chart.Bar.defaults,charJSPersonalDefaultOptions),chart.Bar.defaults=mergeChartConfig(chart.Bar.defaults,charJSPersonalDefaultOptionsBar);var a=t?mergeChartConfig(chart.Bar.defaults,t):chart.Bar.defaults;return new Bar(e,a,context)},this.HorizontalBar=function(e,t){chart.HorizontalBar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:3,inGraphDataPaddingY:0,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"left",inGraphDataVAlign:"middle",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:3,inGraphDataYPosition:2,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineStyle:"solid",scaleGridLineWidth:1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,showYAxisMin:!0,rotateLabels:"smart",barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,barBorderRadius:0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>",reverseOrder:!1},chart.HorizontalBar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.HorizontalBar.defaults),chart.HorizontalBar.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.HorizontalBar.defaults),chart.HorizontalBar.defaults=mergeChartConfig(chart.HorizontalBar.defaults,charJSPersonalDefaultOptions),chart.HorizontalBar.defaults=mergeChartConfig(chart.HorizontalBar.defaults,charJSPersonalDefaultOptionsHorizontalBar);var a=t?mergeChartConfig(chart.HorizontalBar.defaults,t):chart.HorizontalBar.defaults;return new HorizontalBar(e,a,context)},chart.defaults={},chart.defaults.commonOptions={chartTextScale:1,chartLineScale:1,chartSpaceScale:1,multiGraph:!1,clearRect:!0,dynamicDisplay:!1,graphSpaceBefore:5,graphSpaceAfter:5,canvasBorders:!1,canvasBackgroundColor:"none",canvasBordersWidth:3,canvasBordersStyle:"solid",canvasBordersColor:"black",zeroValue:1e-10,graphTitle:"",graphTitleFontFamily:"'Arial'",graphTitleFontSize:24,graphTitleFontStyle:"bold",graphTitleFontColor:"#666",graphTitleSpaceBefore:5,graphTitleSpaceAfter:5,graphTitleBorders:!1,graphTitleBordersColor:"black",graphTitleBordersXSpace:3,graphTitleBordersYSpace:3,graphTitleBordersWidth:1,graphTitleBordersStyle:"solid",graphTitleBackgroundColor:"none",graphSubTitle:"",graphSubTitleFontFamily:"'Arial'",graphSubTitleFontSize:18,graphSubTitleFontStyle:"normal",graphSubTitleFontColor:"#666",graphSubTitleSpaceBefore:5,graphSubTitleSpaceAfter:5,graphSubTitleBorders:!1,graphSubTitleBordersColor:"black",graphSubTitleBordersXSpace:3,graphSubTitleBordersYSpace:3,graphSubTitleBordersWidth:1,graphSubTitleBordersStyle:"solid",graphSubTitleBackgroundColor:"none",footNote:"",footNoteFontFamily:"'Arial'",footNoteFontSize:8,footNoteFontStyle:"bold",footNoteFontColor:"#666",footNoteSpaceBefore:5,footNoteSpaceAfter:5,footNoteBorders:!1,footNoteBordersColor:"black",footNoteBordersXSpace:3,footNoteBordersYSpace:3,footNoteBordersWidth:1,footNoteBordersStyle:"solid",footNoteBackgroundColor:"none",legend:!1,showSingleLegend:!1,maxLegendCols:999,legendPosY:4,legendPosX:-2,legendFontFamily:"'Arial'",legendFontSize:12,legendFontStyle:"normal",legendFontColor:"#666",legendBlockSize:15,legendBorders:!0,legendBordersStyle:"solid",legendBordersWidth:1,legendBordersColors:"#666",legendBordersSpaceBefore:5,legendBordersSpaceAfter:5,legendBordersSpaceLeft:5,legendBordersSpaceRight:5,legendSpaceBeforeText:5,legendSpaceAfterText:5,legendSpaceLeftText:5,legendSpaceRightText:5,legendSpaceBetweenTextVertical:5,legendSpaceBetweenTextHorizontal:5,legendSpaceBetweenBoxAndText:5,legendFillColor:"rgba(0,0,0,0)",legendXPadding:0,legendYPadding:0,inGraphDataBorders:!1,inGraphDataBordersColor:"black",inGraphDataBordersXSpace:3,inGraphDataBordersYSpace:3,inGraphDataBordersWidth:1,inGraphDataBordersStyle:"solid",inGraphDataBackgroundColor:"none",annotateDisplay:!1,annotateRelocate:!1,savePng:!1,savePngOutput:"NewWindow",savePngFunction:"mousedown right",savePngBackgroundColor:"WHITE",annotateFunction:"mousemove",annotateFontFamily:"'Arial'",annotateBorder:"none",annotateBorderRadius:"2px",annotateBackgroundColor:"rgba(0,0,0,0.8)",annotateFontSize:12,annotateFontColor:"white",annotateFontStyle:"normal",annotatePadding:"3px",annotateClassName:"",crossText:[""],crossTextIter:["all"],crossTextOverlay:[!0],crossTextFontFamily:["'Arial'"],crossTextFontSize:[12],crossTextFontStyle:["normal"],crossTextFontColor:["rgba(220,220,220,1)"],crossTextRelativePosX:[2],crossTextRelativePosY:[2],crossTextBaseline:["middle"],crossTextAlign:["center"],crossTextPosX:[0],crossTextPosY:[0],crossTextAngle:[0],crossTextFunction:null,crossTextBorders:[!1],crossTextBordersColor:["black"],crossTextBordersXSpace:[3],crossTextBordersYSpace:[3],crossTextBordersWidth:[1],crossTextBordersStyle:["solid"],crossTextBackgroundColor:["none"],crossImage:[void 0],crossImageIter:["all"],crossImageOverlay:[!0],crossImageRelativePosX:[2],crossImageRelativePosY:[2],crossImageBaseline:["middle"],crossImageAlign:["center"],crossImagePosX:[0],crossImagePosY:[0],crossImageAngle:[0],spaceTop:0,spaceBottom:0,spaceRight:0,spaceLeft:0,decimalSeparator:".",thousandSeparator:"",roundNumber:"none",roundPct:-1,templatesOpenTag:"<%=",templatesCloseTag:"%>",fmtV1:"none",fmtV2:"none",fmtV3:"none",fmtV4:"none",fmtV5:"none",fmtV6:"none",fmtV6T:"none",fmtV7:"none",fmtV8:"none",fmtV8T:"none",fmtV9:"none",fmtV10:"none",fmtV11:"none",fmtV12:"none",fmtV13:"none",fmtXLabel:"none",fmtYLabel:"none",fmtYLabel2:"none",fmtLegend:"none",animationStartValue:0,animationStopValue:1,animationCount:1,animationPauseTime:5,animationBackward:!1,animationStartWithDataset:1,animationStartWithData:1,animationLeftToRight:!1,animationByDataset:!1,defaultStrokeColor:"rgba(220,220,220,1)",defaultFillColor:"rgba(220,220,220,0.5)",defaultLineWidth:2,graphMaximized:!1,mouseDownRight:null,mouseDownLeft:null,mouseDownMiddle:null,mouseMove:null,mouseOut:null,mouseWheel:null,savePngName:"canvas",responsive:!1,responsiveMinWidth:0,responsiveMinHeight:0,responsiveMaxWidth:9999999,responsiveMaxHeight:9999999,maintainAspectRatio:!0,responsiveScaleContent:!1,responsiveWindowInitialWidth:!1,pointMarker:"circle"},chart.defaults.xyAxisCommonOptions={yAxisMinimumInterval:"none",yAxisMinimumInterval2:"none",yScaleLabelsMinimumWidth:0,xScaleLabelsMinimumWidth:0,yAxisLeft:!0,yAxisRight:!1,xAxisBottom:!0,xAxisTop:!1,xAxisSpaceBetweenLabels:5,fullWidthGraph:!1,yAxisLabel:"",yAxisLabel2:"",yAxisFontFamily:"'Arial'",yAxisFontSize:16,yAxisFontStyle:"normal",yAxisFontColor:"#666",yAxisLabelSpaceRight:5,yAxisLabelSpaceLeft:5,yAxisSpaceRight:5,yAxisSpaceLeft:5,yAxisLabelBorders:!1,yAxisLabelBordersColor:"black",yAxisLabelBordersXSpace:3,yAxisLabelBordersYSpace:3,yAxisLabelBordersWidth:1,yAxisLabelBordersStyle:"solid",yAxisLabelBackgroundColor:"none",xAxisLabel:"",xAxisFontFamily:"'Arial'",xAxisFontSize:16,xAxisFontStyle:"normal",xAxisFontColor:"#666",xAxisLabelSpaceBefore:5,xAxisLabelSpaceAfter:5,xAxisSpaceBefore:5,xAxisSpaceAfter:5,xAxisLabelBorders:!1,xAxisLabelBordersColor:"black",xAxisLabelBordersXSpace:3,xAxisLabelBordersYSpace:3,xAxisLabelBordersWidth:1,xAxisLabelBordersStyle:"solid",xAxisLabelBackgroundColor:"none",yAxisUnit:"",yAxisUnit2:"",yAxisUnitFontFamily:"'Arial'",yAxisUnitFontSize:8,yAxisUnitFontStyle:"normal",yAxisUnitFontColor:"#666",yAxisUnitSpaceBefore:5,yAxisUnitSpaceAfter:5,yAxisUnitBorders:!1,yAxisUnitBordersColor:"black",yAxisUnitBordersXSpace:3,yAxisUnitBordersYSpace:3,yAxisUnitBordersWidth:1,yAxisUnitBordersStyle:"solid",yAxisUnitBackgroundColor:"none"};var clear=function(e){e.clearRect(0,0,width,height)};function init_and_start(e,t,a){if(void 0===e.initialWidth&&(e.initialWidth=e.canvas.width),void 0===e.chartTextScale&&(e.chartTextScale=a.chartTextScale),void 0===e.chartLineScale&&(e.chartLineScale=a.chartLineScale),void 0===e.chartSpaceScale&&(e.chartSpaceScale=a.chartSpaceScale),void 0===e.ChartNewId){e.runanimationcompletefunction=!0;var n=(new Date).getTime();e.ChartNewId=e.tpchart+"_"+n,e._eventListeners={}}if(!dynamicFunction(t,a,e))return a.responsive&&void 0===e.firstPass&&(a.multiGraph||addResponsiveChart(e.ChartNewId,e,t,a)),!1;if(a.responsive&&void 0===e.firstPass){if(!a.multiGraph)return addResponsiveChart(e.ChartNewId,e,t,a),subUpdateChart(e,t,a),!1;e.firstPass=1}return void 0===jsGraphAnnotate[e.ChartNewId]?jsGraphAnnotate[e.ChartNewId]=new Array:a.multiGraph||clearAnnotate(e.ChartNewId),defMouse(e,t,a),setRect(e,a),!0}var PolarArea=function(l,o,r){var s,c,e,t,u,h,d;if(r.tpchart="PolarArea",init_and_start(r,l,o)){var p=initPassVariableData_part1(l,o,r);if(e=function(){for(var e=-Number.MAX_VALUE,t=Number.MAX_VALUE,a=0;a<l.length;a++)void 0!==l[a].value&&(1*l[a].value>e&&(e=1*l[a].value),1*l[a].value<t&&(t=1*l[a].value));e<t&&(t=e=0);Math.abs(e-t)<o.zeroValue&&(Math.abs(e)<o.zeroValue&&(e=.9),0<e?(e*=1.1,t*=.9):(e*=.9,t*=1.1));"function"==typeof o.graphMin?t=setOptionValue(1,"GRAPHMIN",r,l,p,void 0,o.graphMin,-1,-1,{nullValue:!0}):isNaN(o.graphMin)||(t=o.graphMin);"function"==typeof o.graphMax?e=setOptionValue(1,"GRAPHMAX",r,l,p,void 0,o.graphMax,-1,-1,{nullValue:!0}):isNaN(o.graphMax)||(e=o.graphMax);var n=Math.floor(NaN),i=Math.floor(NaN);return{maxValue:e,minValue:t,maxSteps:n,minSteps:i}}(),o.logarithmic=!1,o.logarithmic2=!1,t=o.scaleShowLabels?o.scaleLabel:"",o.scaleOverride){var a=setOptionValue(1,"SCALESTARTVALUE",r,l,p,void 0,o.scaleStartValue,-1,-1,{nullValue:!0}),n=setOptionValue(1,"SCALESTEPS",r,l,p,void 0,o.scaleSteps,-1,-1,{nullValue:!0}),i=setOptionValue(1,"SCALESTEPWIDTH",r,l,p,void 0,o.scaleStepWidth,-1,-1,{nullValue:!0});populateLabels(1,o,t,(c={steps:n,stepValue:i,graphMin:a,graphMax:a+n*i,labels:[]}).labels,c.steps,a,c.graphMax,i),u=setMeasures(l,o,r,height,width,c.labels,null,!0,!1,!1,!1,!0,"PolarArea")}else c=calculateScale(1,o,e.maxSteps,e.minSteps,e.maxValue,e.minValue,t),u=setMeasures(l,o,r,height,width,c.labels,null,!0,!1,!1,!1,!0,"PolarArea");h=u.leftNotUsableSize+u.availableWidth/2,d=u.topNotUsableSize+u.availableHeight/2,0<(s=Math.floor((Min([u.availableHeight,u.availableWidth])/2-5)/c.steps))?(initPassVariableData_part2(p,l,o,r,{midPosX:h,midPosY:d,int_radius:0,ext_radius:s*c.steps,calculatedScale:c,scaleHop:s}),animationLoop(o,function(){for(var e=0;e<c.steps;e++)if(o.scaleShowLine&&(e+1)%o.scaleGridLinesStep==0&&(r.beginPath(),r.arc(h,d,s*(e+1),0,2*Math.PI,!0),r.strokeStyle=o.scaleLineColor,r.lineWidth=Math.ceil(r.chartLineScale*o.scaleLineWidth),r.setLineDash(lineStyleFn(o.scaleLineStyle)),r.stroke(),r.setLineDash([])),o.scaleShowLabels){r.textAlign="center",r.font=o.scaleFontStyle+" "+Math.ceil(r.chartTextScale*o.scaleFontSize).toString()+"px "+o.scaleFontFamily;var t=c.labels[e+1];if(o.scaleShowLabelBackdrop){var a=r.measureTextMultiLine(t,Math.ceil(r.chartTextScale*o.scaleFontSize));r.fillStyle=o.scaleBackdropColor,r.beginPath(),r.rect(Math.round(h-a/2-Math.ceil(r.chartSpaceScale*o.scaleBackdropPaddingX)),Math.round(d-s*(e+1)-.5*Math.ceil(r.chartTextScale*o.scaleFontSize)-Math.ceil(r.chartSpaceScale*o.scaleBackdropPaddingY)),Math.round(a+2*Math.ceil(r.chartSpaceScale*o.scaleBackdropPaddingX)),Math.round(Math.ceil(r.chartTextScale*o.scaleFontSize)+2*Math.ceil(r.chartSpaceScale*o.scaleBackdropPaddingY))),r.fill()}r.textBaseline="middle",r.fillStyle=o.scaleFontColor,r.fillTextMultiLine(t,h,d-s*(e+1),r.textBaseline,Math.ceil(r.chartTextScale*o.scaleFontSize),!0)}},function(e){for(var t=0;t<l.length;t++){var a=1,n=1;if(o.animation&&(o.animateScale&&(a=e),o.animateRotate&&(n=e)),correctedRotateAnimation=animationCorrection(n,l,o,t,-1,0).mainVal,void 0!==l[t].value){if(r.beginPath(),"ByArc"==o.animationByData)endAngle=p[t].startAngle+correctedRotateAnimation*p[t].segmentAngle,r.arc(h,d,a*p[t].radiusOffset,p[t].startAngle,endAngle,!1);else if(o.animationByData){if(!(p[t].startAngle-p[t].firstAngle<2*correctedRotateAnimation*Math.PI))continue;endAngle=p[t].endAngle,p[t].endAngle-p[t].firstAngle>2*correctedRotateAnimation*Math.PI&&(endAngle=p[t].firstAngle+2*correctedRotateAnimation*Math.PI),r.arc(h,d,a*p[t].radiusOffset,p[t].startAngle,endAngle,!1)}else r.arc(h,d,a*p[t].radiusOffset,p[t].firstAngle+correctedRotateAnimation*(p[t].startAngle-p[t].firstAngle),p[t].firstAngle+correctedRotateAnimation*(p[t].endAngle-p[t].firstAngle));r.lineTo(h,d),r.closePath(),r.fillStyle=setOptionValue(1,"COLOR",r,l,p,l[t].color,o.defaultFillColor,t,-1,{animationDecimal:e,scaleAnimation:a}),r.fill(),o.segmentShowStroke&&(r.strokeStyle=o.segmentStrokeColor,r.lineWidth=Math.ceil(r.chartLineScale*o.segmentStrokeWidth),r.setLineDash(lineStyleFn(setOptionValue(1,"SEGMENTSTROKESTYLE",r,l,p,l[t].segmentStrokeStyle,o.segmentStrokeStyle,t,-1,{animationDecimal:e,scaleAnimation:a}))),r.stroke(),r.setLineDash([]))}}if(e>=o.animationStopValue)for(t=0;t<l.length;t++)if(void 0!==l[t].value&&(setOptionValue(1,"ANNOTATEDISPLAY",r,l,p,void 0,o.annotateDisplay,t,-1,{nullValue:!0})&&(jsGraphAnnotate[r.ChartNewId][jsGraphAnnotate[r.ChartNewId].length]=["ARC",t,-1,p]),setOptionValue(1,"INGRAPHDATASHOW",r,l,p,void 0,o.inGraphDataShow,t,-1,{nullValue:!0}))){1==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",r,l,p,void 0,o.inGraphDataAnglePosition,t,-1,{nullValue:!0})?posAngle=p[t].realStartAngle+setOptionValue(1,"INGRAPHDATAPADDINANGLE",r,l,p,void 0,o.inGraphDataPaddingAngle,t,-1,{nullValue:!0})*(Math.PI/180):2==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",r,l,p,void 0,o.inGraphDataAnglePosition,t,-1,{nullValue:!0})?posAngle=(2*p[t].realStartAngle-p[t].segmentAngle)/2+setOptionValue(1,"INGRAPHDATAPADDINANGLE",r,l,p,void 0,o.inGraphDataPaddingAngle,t,-1,{nullValue:!0})*(Math.PI/180):3==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",r,l,p,void 0,o.inGraphDataAnglePosition,t,-1,{nullValue:!0})&&(posAngle=p[t].realStartAngle-p[t].segmentAngle+setOptionValue(1,"INGRAPHDATAPADDINANGLE",r,l,p,void 0,o.inGraphDataPaddingAngle,t,-1,{nullValue:!0})*(Math.PI/180)),1==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",r,l,p,void 0,o.inGraphDataRadiusPosition,t,-1,{nullValue:!0})?labelRadius=0+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",r,l,p,void 0,o.inGraphDataPaddingRadius,t,-1,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",r,l,p,void 0,o.inGraphDataRadiusPosition,t,-1,{nullValue:!0})?labelRadius=p[t].radiusOffset/2+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",r,l,p,void 0,o.inGraphDataPaddingRadius,t,-1,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",r,l,p,void 0,o.inGraphDataRadiusPosition,t,-1,{nullValue:!0})?labelRadius=p[t].radiusOffset+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",r,l,p,void 0,o.inGraphDataPaddingRadius,t,-1,{nullValue:!0}):4==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",r,l,p,void 0,o.inGraphDataRadiusPosition,t,-1,{nullValue:!0})&&(labelRadius=s*c.steps+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",r,l,p,void 0,o.inGraphDataPaddingRadius,t,-1,{nullValue:!0})),r.save(),"off-center"==setOptionValue(1,"INGRAPHDATAALIGN",r,l,p,void 0,o.inGraphDataAlign,t,-1,{nullValue:!0})?"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",r,l,p,void 0,o.inGraphDataRotate,t,-1,{nullValue:!0})||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?r.textAlign="left":r.textAlign="right":"to-center"==setOptionValue(1,"INGRAPHDATAALIGN",r,l,p,void 0,o.inGraphDataAlign,t,-1,{nullValue:!0})?"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",r,l,p,void 0,o.inGraphDataRotate,t,-1,{nullValue:!0})||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?r.textAlign="right":r.textAlign="left":r.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",r,l,p,void 0,o.inGraphDataAlign,t,-1,{nullValue:!0}),"off-center"==setOptionValue(1,"INGRAPHDATAVALIGN",r,l,p,void 0,o.inGraphDataVAlign,t,-1,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?r.textBaseline="top":r.textBaseline="bottom":"to-center"==setOptionValue(1,"INGRAPHDATAVALIGN",r,l,p,void 0,o.inGraphDataVAlign,t,-1,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?r.textBaseline="bottom":r.textBaseline="top":r.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",r,l,p,void 0,o.inGraphDataVAlign,t,-1,{nullValue:!0}),r.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",r,l,p,void 0,o.inGraphDataFontStyle,t,-1,{nullValue:!0})+" "+setOptionValue(r.chartTextScale,"INGRAPHDATAFONTSIZE",r,l,p,void 0,o.inGraphDataFontSize,t,-1,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",r,l,p,void 0,o.inGraphDataFontFamily,t,-1,{nullValue:!0}),r.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",r,l,p,void 0,o.inGraphDataFontColor,t,-1,{nullValue:!0});var i=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",r,l,p,void 0,o.inGraphDataTmpl,t,-1,{nullValue:!0}),p[t],o);r.translate(h+labelRadius*Math.cos(posAngle),d-labelRadius*Math.sin(posAngle)),"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",r,l,p,void 0,o.inGraphDataRotate,t,-1,{nullValue:!0})?r.rotate(2*Math.PI-posAngle):"inRadiusAxisRotateLabels"==setOptionValue(1,"INGRAPHDATAROTATE",r,l,p,void 0,o.inGraphDataRotate,t,-1,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?r.rotate(3*Math.PI-posAngle):r.rotate(2*Math.PI-posAngle):r.rotate(setOptionValue(1,"INGRAPHDATAROTATE",r,l,p,void 0,o.inGraphDataRotate,t,-1,{nullValue:!0})*(Math.PI/180)),setTextBordersAndBackground(r,i,setOptionValue(r.chartTextScale,"INGRAPHDATAFONTSIZE",r,l,p,void 0,o.inGraphDataFontSize,t,-1,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",r,l,p,void 0,o.inGraphDataBorders,t,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",r,l,p,void 0,o.inGraphDataBordersColor,t,-1,{nullValue:!0}),setOptionValue(r.chartLineScale,"INGRAPHDATABORDERSWIDTH",r,l,p,void 0,o.inGraphDataBordersWidth,t,-1,{nullValue:!0}),setOptionValue(r.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",r,l,p,void 0,o.inGraphDataBordersXSpace,t,-1,{nullValue:!0}),setOptionValue(r.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",r,l,p,void 0,o.inGraphDataBordersYSpace,t,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",r,l,p,void 0,o.inGraphDataBordersStyle,t,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",r,l,p,void 0,o.inGraphDataBackgroundColor,t,-1,{nullValue:!0}),"INGRAPHDATA"),r.fillTextMultiLine(i,0,0,r.textBaseline,setOptionValue(r.chartTextScale,"INGRAPHDATAFONTSIZE",r,l,p,void 0,o.inGraphDataFontSize,t,-1,{nullValue:!0}),!0),r.restore()}u.legendMsr.dispLegend&&drawLegend(u.legendMsr,l,o,r,"PolarArea")},r,u.clrx,u.clry,u.clrwidth,u.clrheight,h,d,h-(Min([u.availableHeight,u.availableWidth])/2-5),d+(Min([u.availableHeight,u.availableWidth])/2-5),l)):testRedraw(r,l,o)}},Radar=function(d,p,g){var h,c,u,f,e,t,S,m,y;if(g.tpchart="Radar",init_and_start(g,d,p)){var v=initPassVariableData_part1(d,p,g);if(e=function(){for(var e=-Number.MAX_VALUE,t=Number.MAX_VALUE,a=0;a<d.datasets.length;a++)for(var n=0;n<d.datasets[a].data.length;n++)void 0!==d.datasets[a].data[n]&&(1*d.datasets[a].data[n]>e&&(e=1*d.datasets[a].data[n]),1*d.datasets[a].data[n]<t&&(t=1*d.datasets[a].data[n]));e<t&&(t=e=0);Math.abs(e-t)<p.zeroValue&&(Math.abs(e)<p.zeroValue&&(t=-(e=.9)),0<e?(e*=1.1,t*=.9):(e*=.9,t*=1.1));"function"==typeof p.graphMin?t=setOptionValue(1,"GRAPHMIN",g,d,v,void 0,p.graphMin,-1,-1,{nullValue:!0}):isNaN(p.graphMin)||(t=p.graphMin);"function"==typeof p.graphMax?e=setOptionValue(1,"GRAPHMAX",g,d,v,void 0,p.graphMax,-1,-1,{nullValue:!0}):isNaN(p.graphMax)||(e=p.graphMax);var i=Math.floor(void 0/(.66*f)),l=Math.floor(void 0/f*.5);return{maxValue:e,minValue:t,maxSteps:i,minSteps:l}}(),p.logarithmic=!1,p.logarithmic2=!1,d.labels||(d.labels=[]),t=p.scaleShowLabels?p.scaleLabel:"",p.scaleOverride){var a=setOptionValue(1,"SCALESTARTVALUE",g,d,v,void 0,p.scaleStartValue,-1,-1,{nullValue:!0}),n=setOptionValue(1,"SCALESTEPS",g,d,v,void 0,p.scaleSteps,-1,-1,{nullValue:!0}),i=setOptionValue(1,"SCALESTEPWIDTH",g,d,v,void 0,p.scaleStepWidth,-1,-1,{nullValue:!0});populateLabels(1,p,t,(u={steps:n,stepValue:i,graphMin:a,graphMax:a+n*i,labels:[]}).labels,u.steps,a,u.graphMax,i),S=setMeasures(d,p,g,height,width,u.labels,null,!0,!1,!1,!0,p.datasetFill,"Radar")}else u=calculateScale(1,p,e.maxSteps,e.minSteps,e.maxValue,e.minValue,t),S=setMeasures(d,p,g,height,width,u.labels,null,!0,!1,!1,!0,p.datasetFill,"Radar");!function(){var e,t,a,n,i,l,o,r,s,c=2*Math.PI/d.datasets[0].data.length,u=p.startAngle*Math.PI/180;if(g.font=p.pointLabelFontStyle+" "+Math.ceil(g.chartTextScale*p.pointLabelFontSize).toString()+"px "+p.pointLabelFontFamily,p.graphMaximized)for(n=S.availableWidth/2,a=S.availableWidth/2,l=40,r=0;r<d.labels.length;r++)s=g.measureTextMultiLine(d.labels[r],Math.ceil(g.chartTextScale*p.scaleFontSize)).textWidth+g.measureTextMultiLine(d.labels[r],Math.ceil(g.chartTextScale*p.scaleFontSize)).textHeight,t=(S.availableWidth-s)/(1+Math.abs(Math.cos(u))),u<Math.PI/2&&u>-Math.PI/2||u>3*Math.PI/2?t<n&&(n=t):0!=Math.cos(u)&&t<a&&(a=t),u-=c;else n=S.availableWidth/2,a=S.availableWidth/2,l=1;for(o=0,m=n+S.rightNotUsableSize,e=n,i=0;i<l;++i,e+=(S.availableWidth-a-n)/l){for(h=Max([e,S.availableWidth-e]),u=p.startAngle*Math.PI/180,t=S.available,r=0;r<d.labels.length;r++)s=g.measureTextMultiLine(d.labels[r],Math.ceil(g.chartTextScale*p.scaleFontSize)).textWidth+g.measureTextMultiLine(d.labels[r],Math.ceil(g.chartTextScale*p.scaleFontSize)).textHeight,u<Math.PI/2&&u>-Math.PI/2||u>3*Math.PI/2?t=(S.availableWidth-e-s)/Math.abs(Math.cos(u)):Math.cos(0!=u)&&(t=(e-s)/Math.abs(Math.cos(u))),t<h&&(h=t),Math.sin(u)*S.availableHeight/2>S.availableHeight/2-2*Math.ceil(g.chartTextScale*p.scaleFontSize)&&(t=Math.sin(u)*S.availableHeight/2-1.5*Math.ceil(g.chartTextScale*p.scaleFontSize))<h&&(h=t),u-=c;o<h&&(o=h,m=e+S.rightNotUsableSize)}h=o-Math.ceil(g.chartTextScale*p.scaleFontSize)/2,f=Default(f,5)}(),y=S.topNotUsableSize+S.availableHeight/2,c=h/u.steps,initPassVariableData_part2(v,d,p,g,{midPosX:m,midPosY:y,calculatedScale:u,scaleHop:c,maxSize:h}),animationLoop(p,function(){var e=2*Math.PI/d.datasets[0].data.length;if(g.save(),g.translate(m,y),g.rotate((90-p.startAngle)*Math.PI/180),p.angleShowLineOut){g.strokeStyle=p.angleLineColor,g.lineWidth=Math.ceil(g.chartLineScale*p.angleLineWidth);for(var t=0;t<d.datasets[0].data.length;t++)g.rotate(e),g.beginPath(),g.moveTo(0,0),g.lineTo(0,-h),g.setLineDash(lineStyleFn(setOptionValue(1,"ANGLELINESTYLE",g,d,v,void 0,p.angleLineStyle,t,-1,{nullValue:!0}))),g.stroke(),g.setLineDash([])}for(var a=0;a<u.steps;a++)if(g.beginPath(),p.scaleShowLine&&(a+1)%p.scaleGridLinesStep==0){g.strokeStyle=p.scaleLineColor,g.lineWidth=Math.ceil(g.chartLineScale*p.scaleLineWidth),g.moveTo(0,-c*(a+1));for(var n=0;n<d.datasets[0].data.length;n++)g.rotate(e),g.lineTo(0,-c*(a+1));g.closePath(),g.setLineDash(lineStyleFn(p.scaleLineStyle)),g.stroke(),g.setLineDash([])}if(g.rotate(-(90-p.startAngle)*Math.PI/180),p.scaleShowLabels)for(a=0;a<u.steps;a++){if(g.textAlign="center",g.font=p.scaleFontStyle+" "+Math.ceil(g.chartTextScale*p.scaleFontSize).toString()+"px "+p.scaleFontFamily,g.textBaseline="middle",p.scaleShowLabelBackdrop){var i=g.measureTextMultiLine(u.labels[a+1],Math.ceil(g.chartTextScale*p.scaleFontSize)).textWidth;g.fillStyle=p.scaleBackdropColor,g.beginPath(),g.rect(Math.round(Math.cos(p.startAngle*Math.PI/180)*(c*(a+1))-i/2-Math.ceil(g.chartSpaceScale*p.scaleBackdropPaddingX)),Math.round(-Math.sin(p.startAngle*Math.PI/180)*c*(a+1)-.5*Math.ceil(g.chartTextScale*p.scaleFontSize)-Math.ceil(g.chartSpaceScale*p.scaleBackdropPaddingY)),Math.round(i+2*Math.ceil(g.chartSpaceScale*p.scaleBackdropPaddingX)),Math.round(Math.ceil(g.chartTextScale*p.scaleFontSize)+2*Math.ceil(g.chartSpaceScale*p.scaleBackdropPaddingY))),g.fill()}g.fillStyle=p.scaleFontColor,g.fillTextMultiLine(u.labels[a+1],Math.cos(p.startAngle*Math.PI/180)*(c*(a+1)),-Math.sin(p.startAngle*Math.PI/180)*c*(a+1),g.textBaseline,Math.ceil(g.chartTextScale*p.scaleFontSize),!0)}for(var l=0;l<d.labels.length;l++){g.font=p.pointLabelFontStyle+" "+Math.ceil(g.chartTextScale*p.pointLabelFontSize).toString()+"px "+p.pointLabelFontFamily,g.fillStyle=p.pointLabelFontColor;for(var o=Math.sin((90-p.startAngle)*Math.PI/180+e*l)*(h+Math.ceil(g.chartTextScale*p.pointLabelFontSize)),r=Math.cos((90-p.startAngle)*Math.PI/180+e*l)*(h+Math.ceil(g.chartTextScale*p.pointLabelFontSize)),s=(90-p.startAngle)*Math.PI/180+e*l;s<0;)s+=2*Math.PI;for(;s>2*Math.PI;)s-=2*Math.PI;s==Math.PI||0==s?g.textAlign="center":s>Math.PI?g.textAlign="right":g.textAlign="left",g.textBaseline="middle",g.fillTextMultiLine(d.labels[l],o,-r,g.textBaseline,Math.ceil(g.chartTextScale*p.pointLabelFontSize),!0)}g.restore()},function(e){var t=2*Math.PI/d.datasets[0].data.length;g.save();for(var a=0;a<d.datasets.length;a++){for(var n=-1,i=0;i<d.datasets[a].data.length;i++){var l=animationCorrection(e,d,p,a,i,1).animVal;1<l&&(l-=1),void 0!==d.datasets[a].data[i]&&(-1==n?(g.beginPath(),g.moveTo(m+l*v[a][i].offsetX,y-l*v[a][i].offsetY),n=i):g.lineTo(m+l*v[a][i].offsetX,y-l*v[a][i].offsetY))}if(g.closePath(),p.datasetFill?g.fillStyle=setOptionValue(1,"COLOR",g,d,v,d.datasets[a].fillColor,p.defaultFillColor,a,-1,{animationValue:l,midPosX:v[a][0].midPosX,midPosY:v[a][0].midPosY,ext_radius:(p.animationLeftToRight?1:l)*v[a][0].calculated_offset_max}):g.fillStyle="rgba(0,0,0,0)",g.strokeStyle=setOptionValue(1,"STROKECOLOR",g,d,v,d.datasets[a].strokeColor,p.defaultStrokeColor,a,-1,{nullvalue:null}),g.lineWidth=Math.ceil(g.chartLineScale*p.datasetStrokeWidth),g.fill(),g.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",g,d,v,d.datasets[a].datasetStrokeStyle,p.datasetStrokeStyle,a,i,{nullvalue:null}))),g.stroke(),g.setLineDash([]),p.pointDot&&(!p.animationLeftToRight||p.animationLeftToRight&&1<=e)){g.beginPath(),g.fillStyle=setOptionValue(1,"MARKERFILLCOLOR",g,d,v,d.datasets[a].pointColor,p.defaultStrokeColor,a,-1,{nullvalue:!0}),g.strokeStyle=setOptionValue(1,"MARKERSTROKESTYLE",g,d,v,d.datasets[a].pointStrokeColor,p.defaultStrokeColor,a,-1,{nullvalue:!0}),g.lineWidth=setOptionValue(g.chartLineScale,"MARKERLINEWIDTH",g,d,v,d.datasets[a].pointDotStrokeWidth,p.pointDotStrokeWidth,a,-1,{nullvalue:!0});for(var o=0;o<d.datasets[a].data.length;o++)if(void 0!==d.datasets[a].data[o]){g.beginPath();var r=setOptionValue(1,"MARKERSHAPE",g,d,v,d.datasets[a].markerShape,p.markerShape,a,i,{nullvalue:!0}),s=setOptionValue(g.chartSpaceScale,"MARKERRADIUS",g,d,v,d.datasets[a].pointDotRadius,p.pointDotRadius,a,i,{nullvalue:!0}),c=setOptionValue(1,"MARKERSTROKESTYLE",g,d,v,d.datasets[a].pointDotStrokeStyle,p.pointDotStrokeStyle,a,i,{nullvalue:!0});drawMarker(g,m+l*v[a][o].offsetX,y-l*v[a][o].offsetY,r,s,c)}}}if(g.restore(),e>=p.animationStopValue)for(a=0;a<d.datasets.length;a++)for(i=0;i<d.datasets[a].data.length;i++)if(void 0!==d.datasets[a].data[i]&&(setOptionValue(1,"ANNOTATEDISPLAY",g,d,v,void 0,p.annotateDisplay,a,i,{nullValue:!0})&&(jsGraphAnnotate[g.ChartNewId][jsGraphAnnotate[g.ChartNewId].length]=["POINT",a,i,v]),setOptionValue(1,"INGRAPHDATASHOW",g,d,v,void 0,p.inGraphDataShow,a,i,{nullValue:!0}))){var u;g.save(),g.beginPath(),g.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",g,d,v,void 0,p.inGraphDataAlign,a,-1,{nullValue:!0}),g.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",g,d,v,void 0,p.inGraphDataVAlign,a,-1,{nullValue:!0}),"off-center"==setOptionValue(1,"INGRAPHDATAALIGN",g,d,v,void 0,p.inGraphDataAlign,a,-1,{nullValue:!0})?"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",g,d,v,void 0,p.inGraphDataRotate,a,-1,{nullValue:!0})||(p.startAngle*Math.PI/180-i*t+4*Math.PI)%(2*Math.PI)>3*Math.PI/2||(p.startAngle*Math.PI/180-i*t+4*Math.PI)%(2*Math.PI)<=Math.PI/2?g.textAlign="left":g.textAlign="right":"to-center"==setOptionValue(1,"INGRAPHDATAALIGN",g,d,v,void 0,p.inGraphDataAlign,a,-1,{nullValue:!0})?"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",g,d,v,void 0,p.inGraphDataRotate,a,-1,{nullValue:!0})||(p.startAngle*Math.PI/180-i*t+4*Math.PI)%(2*Math.PI)>3*Math.PI/2||(p.startAngle*Math.PI/180-i*t+4*Math.PI)%(2*Math.PI)<Math.PI/2?g.textAlign="right":g.textAlign="left":g.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",g,d,v,void 0,p.inGraphDataAlign,a,-1,{nullValue:!0}),"off-center"==setOptionValue(1,"INGRAPHDATAVALIGN",g,d,v,void 0,p.inGraphDataVAlign,a,-1,{nullValue:!0})?(p.startAngle*Math.PI/180-i*t+4*Math.PI)%(2*Math.PI)>Math.PI?g.textBaseline="bottom":g.textBaseline="top":"to-center"==setOptionValue(1,"INGRAPHDATAVALIGN",g,d,v,void 0,p.inGraphDataVAlign,a,-1,{nullValue:!0})?(p.startAngle*Math.PI/180-i*t+4*Math.PI)%(2*Math.PI)>Math.PI?g.textBaseline="top":g.textBaseline="bottom":g.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",g,d,v,void 0,p.inGraphDataVAlign,a,-1,{nullValue:!0}),g.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",g,d,v,void 0,p.inGraphDataFontStyle,a,-1,{nullValue:!0})+" "+setOptionValue(g.chartTextScale,"INGRAPHDATAFONTSIZE",g,d,v,void 0,p.inGraphDataFontSize,a,-1,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",g,d,v,void 0,p.inGraphDataFontFamily,a,-1,{nullValue:!0}),g.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",g,d,v,void 0,p.inGraphDataFontColor,a,-1,{nullValue:!0}),1==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",g,d,v,void 0,p.inGraphDataRadiusPosition,a,-1,{nullValue:!0})?u=0+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",g,d,v,void 0,p.inGraphDataPaddingRadius,a,-1,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",g,d,v,void 0,p.inGraphDataRadiusPosition,a,-1,{nullValue:!0})?u=v[a][i].calculated_offset/2+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",g,d,v,void 0,p.inGraphDataPaddingRadius,a,-1,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",g,d,v,void 0,p.inGraphDataRadiusPosition,a,-1,{nullValue:!0})&&(u=v[a][i].calculated_offset+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",g,d,v,void 0,p.inGraphDataPaddingRadius,a,-1,{nullValue:!0})),0<v[a][i].calculated_offset?g.translate(m+v[a][i].offsetX*(u/v[a][i].calculated_offset),y-v[a][i].offsetY*(u/v[a][i].calculated_offset)):g.translate(m,y),"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",g,d,v,void 0,p.inGraphDataRotate,a,-1,{nullValue:!0})?g.rotate(i*t):"inRadiusAxisRotateLabels"==setOptionValue(1,"INGRAPHDATAROTATE",g,d,v,void 0,p.inGraphDataRotate,a,-1,{nullValue:!0})?(i*t+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(i*t+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?g.rotate(3*Math.PI+i*t):g.rotate(2*Math.PI+i*t):g.rotate(setOptionValue(1,"INGRAPHDATAROTATE",g,d,v,void 0,p.inGraphDataRotate,a,-1,{nullValue:!0})*(Math.PI/180));var h=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",g,d,v,void 0,p.inGraphDataTmpl,a,-1,{nullValue:!0}),v[a][i],p);setTextBordersAndBackground(g,h,setOptionValue(g.chartTextScale,"INGRAPHDATAFONTSIZE",g,d,v,void 0,p.inGraphDataFontSize,a,-1,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",g,d,v,void 0,p.inGraphDataBorders,a,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",g,d,v,void 0,p.inGraphDataBordersColor,a,-1,{nullValue:!0}),setOptionValue(g.chartLineScale,"INGRAPHDATABORDERSWIDTH",g,d,v,void 0,p.inGraphDataBordersWidth,a,-1,{nullValue:!0}),setOptionValue(g.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",g,d,v,void 0,p.inGraphDataBordersXSpace,a,-1,{nullValue:!0}),setOptionValue(g.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",g,d,v,void 0,p.inGraphDataBordersYSpace,a,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",g,d,v,void 0,p.inGraphDataBordersStyle,a,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",g,d,v,void 0,p.inGraphDataBackgroundColor,a,-1,{nullValue:!0}),"INGRAPHDATA"),g.fillTextMultiLine(h,0,0,g.textBaseline,setOptionValue(g.chartTextScale,"INGRAPHDATAFONTSIZE",g,d,v,void 0,p.inGraphDataFontSize,a,-1,{nullValue:!0}),!0),g.restore()}S.legendMsr.dispLegend&&drawLegend(S.legendMsr,d,p,g,"Radar")},g,S.clrx,S.clry,S.clrwidth,S.clrheight,m,y,m-h,y+h,d)}},Pie=function(l,o,r){var s,c,u,h;if(r.tpchart="Pie",init_and_start(r,l,o)){var d=initPassVariableData_part1(l,o,r);o.logarithmic=!1,o.logarithmic2=!1,s=setMeasures(l,o,r,height,width,"none",null,!0,!1,!1,!1,!0,"Pie"),function(){if(c=s.leftNotUsableSize+s.availableWidth/2,u=s.topNotUsableSize+s.availableHeight/2,h=Min([s.availableHeight/2,s.availableWidth/2])-5,isBooleanOptionTrue(void 0,o.inGraphDataShow)&&3==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",r,l,d,void 0,o.inGraphDataRadiusPosition,0,-1,{nullValue:!0})&&"off-center"==setOptionValue(1,"INGRAPHDATAALIGN",r,l,d,void 0,o.inGraphDataAlign,0,-1,{nullValue:!0})&&0==setOptionValue(1,"INGRAPHDATAROTATE",r,l,d,void 0,o.inGraphDataRotate,0,-1,{nullValue:!0})){h=Min([s.availableHeight/2,s.availableWidth/2])-setOptionValue(r.chartTextScale,"INGRAPHDATAFONTSIZE",r,l,d,void 0,o.inGraphDataFontSize,0,-1,{nullValue:!0})-setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",r,l,d,void 0,o.inGraphDataPaddingRadius,0,-1,{nullValue:!0})-5;for(var e=((o.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),t=0;t<l.length;t++)if(void 0!==l[t].value&&0<=1*l[t].value){r.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",r,l,d,void 0,o.inGraphDataFontStyle,t,-1,{nullValue:!0})+" "+setOptionValue(r.chartTextScale,"INGRAPHDATAFONTSIZE",r,l,d,void 0,o.inGraphDataFontSize,0,-1,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",r,l,d,void 0,o.inGraphDataFontFamily,t,-1,{nullValue:!0}),1==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",r,l,d,void 0,o.inGraphDataAnglePosition,t,-1,{nullValue:!0})?posAngle=e+setOptionValue(1,"INGRAPHDATAPADDINANGLE",r,l,d,void 0,o.inGraphDataPaddingAngle,t,-1,{nullValue:!0})*(Math.PI/180):2==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",r,l,d,void 0,o.inGraphDataAnglePosition,t,-1,{nullValue:!0})?posAngle=e-d[t].segmentAngle/2+setOptionValue(1,"INGRAPHDATAPADDINANGLE",r,l,d,void 0,o.inGraphDataPaddingAngle,t,-1,{nullValue:!0})*(Math.PI/180):3==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",r,l,d,void 0,o.inGraphDataAnglePosition,t,-1,{nullValue:!0})&&(posAngle=e-d[t].segmentAngle+setOptionValue(1,"INGRAPHDATAPADDINANGLE",r,l,d,void 0,o.inGraphDataPaddingAngle,t,-1,{nullValue:!0})*(Math.PI/180)),e-=d[t].segmentAngle;var a=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",r,l,d,void 0,o.inGraphDataTmpl,t,-1,{nullValue:!0}),d[t],o),n=r.measureText(a).width,i=Math.abs((s.availableWidth/2-n)/Math.cos(posAngle))-setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",r,l,d,void 0,o.inGraphDataPaddingRadius,t,-1,{nullValue:!0})-5;i<h&&(h=i)}}h*=o.radiusScale}(),0<h?(initPassVariableData_part2(d,l,o,r,{midPosX:c,midPosY:u,int_radius:0,ext_radius:h}),animationLoop(o,null,function(e){for(var t=0;t<l.length;t++){var a=1,n=1;if(o.animation&&(o.animateScale&&(a=e),o.animateRotate&&(n=e)),correctedRotateAnimation=animationCorrection(n,l,o,t,-1,0).mainVal,void 0!==l[t].value&&0<=1*l[t].value){if(r.beginPath(),"ByArc"==o.animationByData)endAngle=d[t].startAngle+correctedRotateAnimation*d[t].segmentAngle,r.arc(c,u,a*h,d[t].startAngle,endAngle);else if(o.animationByData){if(!(d[t].startAngle-d[t].firstAngle<2*correctedRotateAnimation*Math.PI))continue;endAngle=d[t].endAngle,d[t].endAngle-d[t].firstAngle>2*correctedRotateAnimation*Math.PI&&(endAngle=d[t].firstAngle+2*correctedRotateAnimation*Math.PI),r.arc(c,u,a*h,d[t].startAngle,endAngle)}else r.arc(c,u,a*h,d[t].firstAngle+correctedRotateAnimation*(d[t].startAngle-d[t].firstAngle),d[t].firstAngle+correctedRotateAnimation*(d[t].endAngle-d[t].firstAngle));r.lineTo(c,u),r.closePath(),r.fillStyle=setOptionValue(1,"COLOR",r,l,d,l[t].color,o.defaultFillColor,t,-1,{animationDecimal:e,scaleAnimation:a}),r.fill(),o.segmentShowStroke&&(r.lineWidth=Math.ceil(r.chartLineScale*o.segmentStrokeWidth),r.strokeStyle=o.segmentStrokeColor,r.setLineDash(lineStyleFn(setOptionValue(1,"SEGMENTSTROKESTYLE",r,l,d,l[t].segmentStrokeStyle,o.segmentStrokeStyle,t,-1,{animationDecimal:e,scaleAnimation:a}))),r.stroke(),r.setLineDash([]))}}if(e>=o.animationStopValue)for(t=0;t<l.length;t++)if(!(void 0===l[t].value||1*l[t].value<0)&&(setOptionValue(1,"ANNOTATEDISPLAY",r,l,d,void 0,o.annotateDisplay,t,-1,{nullValue:!0})&&(jsGraphAnnotate[r.ChartNewId][jsGraphAnnotate[r.ChartNewId].length]=["ARC",t,-1,d]),setOptionValue(1,"INGRAPHDATASHOW",r,l,d,void 0,o.inGraphDataShow,t,-1,{nullValue:!0})&&d[t].segmentAngle>=Math.PI/180*setOptionValue(1,"INGRAPHDATAMINIMUMANGLE",r,l,d,void 0,o.inGraphDataMinimumAngle,t,-1,{nullValue:!0}))){1==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",r,l,d,void 0,o.inGraphDataAnglePosition,t,-1,{nullValue:!0})?posAngle=d[t].realStartAngle+setOptionValue(1,"INGRAPHDATAPADDINANGLE",r,l,d,void 0,o.inGraphDataPaddingAngle,t,-1,{nullValue:!0})*(Math.PI/180):2==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",r,l,d,void 0,o.inGraphDataAnglePosition,t,-1,{nullValue:!0})?posAngle=d[t].realStartAngle-d[t].segmentAngle/2+setOptionValue(1,"INGRAPHDATAPADDINANGLE",r,l,d,void 0,o.inGraphDataPaddingAngle,t,-1,{nullValue:!0})*(Math.PI/180):3==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",r,l,d,void 0,o.inGraphDataAnglePosition,t,-1,{nullValue:!0})&&(posAngle=d[t].realStartAngle-d[t].segmentAngle+setOptionValue(1,"INGRAPHDATAPADDINANGLE",r,l,d,void 0,o.inGraphDataPaddingAngle,t,-1,{nullValue:!0})*(Math.PI/180)),1==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",r,l,d,void 0,o.inGraphDataRadiusPosition,t,-1,{nullValue:!0})?labelRadius=0+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",r,l,d,void 0,o.inGraphDataPaddingRadius,t,-1,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",r,l,d,void 0,o.inGraphDataRadiusPosition,t,-1,{nullValue:!0})?labelRadius=h/2+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",r,l,d,void 0,o.inGraphDataPaddingRadius,t,-1,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",r,l,d,void 0,o.inGraphDataRadiusPosition,t,-1,{nullValue:!0})&&(labelRadius=h+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",r,l,d,void 0,o.inGraphDataPaddingRadius,t,-1,{nullValue:!0})),r.save(),"off-center"==setOptionValue(1,"INGRAPHDATAALIGN",r,l,d,void 0,o.inGraphDataAlign,t,-1,{nullValue:!0})?"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",r,l,d,void 0,o.inGraphDataRotate,t,-1,{nullValue:!0})||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?r.textAlign="left":r.textAlign="right":"to-center"==setOptionValue(1,"INGRAPHDATAALIGN",r,l,d,void 0,o.inGraphDataAlign,t,-1,{nullValue:!0})?"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",r,l,d,void 0,o.inGraphDataRotate,t,-1,{nullValue:!0})||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?r.textAlign="right":r.textAlign="left":r.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",r,l,d,void 0,o.inGraphDataAlign,t,-1,{nullValue:!0}),"off-center"==setOptionValue(1,"INGRAPHDATAVALIGN",r,l,d,void 0,o.inGraphDataVAlign,t,-1,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?r.textBaseline="top":r.textBaseline="bottom":"to-center"==setOptionValue(1,"INGRAPHDATAVALIGN",r,l,d,void 0,o.inGraphDataVAlign,t,-1,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?r.textBaseline="bottom":r.textBaseline="top":r.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",r,l,d,void 0,o.inGraphDataVAlign,t,-1,{nullValue:!0}),r.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",r,l,d,void 0,o.inGraphDataFontStyle,t,-1,{nullValue:!0})+" "+setOptionValue(r.chartTextScale,"INGRAPHDATAFONTSIZE",r,l,d,void 0,o.inGraphDataFontSize,t,-1,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",r,l,d,void 0,o.inGraphDataFontFamily,t,-1,{nullValue:!0}),r.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",r,l,d,void 0,o.inGraphDataFontColor,t,-1,{nullValue:!0});var i=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",r,l,d,void 0,o.inGraphDataTmpl,t,-1,{nullValue:!0}),d[t],o);r.translate(c+labelRadius*Math.cos(posAngle),u-labelRadius*Math.sin(posAngle)),"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",r,l,d,void 0,o.inGraphDataRotate,t,-1,{nullValue:!0})?r.rotate(2*Math.PI-posAngle):"inRadiusAxisRotateLabels"==setOptionValue(1,"INGRAPHDATAROTATE",r,l,d,void 0,o.inGraphDataRotate,t,-1,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?r.rotate(3*Math.PI-posAngle):r.rotate(2*Math.PI-posAngle):r.rotate(setOptionValue(1,"INGRAPHDATAROTATE",r,l,d,void 0,o.inGraphDataRotate,t,-1,{nullValue:!0})*(Math.PI/180)),setTextBordersAndBackground(r,i,setOptionValue(r.chartTextScale,"INGRAPHDATAFONTSIZE",r,l,d,void 0,o.inGraphDataFontSize,t,-1,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",r,l,d,void 0,o.inGraphDataBorders,t,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",r,l,d,void 0,o.inGraphDataBordersColor,t,-1,{nullValue:!0}),setOptionValue(r.chartLineScale,"INGRAPHDATABORDERSWIDTH",r,l,d,void 0,o.inGraphDataBordersWidth,t,-1,{nullValue:!0}),setOptionValue(r.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",r,l,d,void 0,o.inGraphDataBordersXSpace,t,-1,{nullValue:!0}),setOptionValue(r.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",r,l,d,void 0,o.inGraphDataBordersYSpace,t,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",r,l,d,void 0,o.inGraphDataBordersStyle,t,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",r,l,d,void 0,o.inGraphDataBackgroundColor,t,-1,{nullValue:!0}),"INGRAPHDATA"),r.fillTextMultiLine(i,0,0,r.textBaseline,setOptionValue(r.chartTextScale,"INGRAPHDATAFONTSIZE",r,l,d,void 0,o.inGraphDataFontSize,t,-1,{nullValue:!0}),!0),r.restore()}s.legendMsr.dispLegend&&drawLegend(s.legendMsr,l,o,r,"Pie")},r,s.clrx,s.clry,s.clrwidth,s.clrheight,c,u,c-h,u+h,l)):testRedraw(r,l,o)}},Doughnut=function(o,r,s){var c,u,h,d;if(s.tpchart="Doughnut",init_and_start(s,o,r)){var p=initPassVariableData_part1(o,r,s);r.startAngle,Math.PI,Math.PI,Math.PI,Math.PI,Math.PI;r.logarithmic=!1,r.logarithmic2=!1,c=setMeasures(o,r,s,height,width,"none",null,!0,!1,!1,!1,!0,"Doughnut"),function(){if(u=c.leftNotUsableSize+c.availableWidth/2,h=c.topNotUsableSize+c.availableHeight/2,d=Min([c.availableHeight/2,c.availableWidth/2])-5,isBooleanOptionTrue(void 0,r.inGraphDataShow)&&3==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",s,o,p,void 0,r.inGraphDataRadiusPosition,0,-1,{nullValue:!0})&&"off-center"==setOptionValue(1,"INGRAPHDATAALIGN",s,o,p,void 0,r.inGraphDataAlign,0,-1,{nullValue:!0})&&0==setOptionValue(1,"INGRAPHDATAROTATE",s,o,p,void 0,r.inGraphDataRotate,0,-1,{nullValue:!0})){d=Min([c.availableHeight/2,c.availableWidth/2])-setOptionValue(s.chartTextScale,"INGRAPHDATAFONTSIZE",s,o,p,void 0,r.inGraphDataFontSize,0,-1,{nullValue:!0})-setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",s,o,p,void 0,r.inGraphDataPaddingRadius,0,-1,{nullValue:!0})-5;for(var e,t=((r.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),a=0;a<o.length;a++)if(void 0!==o[a].value&&0<=1*o[a].value){s.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",s,o,p,void 0,r.inGraphDataFontStyle,a,-1,{nullValue:!0})+" "+setOptionValue(s.chartTextScale,"INGRAPHDATAFONTSIZE",s,o,p,void 0,r.inGraphDataFontSize,a,-1,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",s,o,p,void 0,r.inGraphDataFontFamily,a,-1,{nullValue:!0}),1==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",s,o,p,void 0,r.inGraphDataAnglePosition,a,-1,{nullValue:!0})?e=t+setOptionValue(1,"INGRAPHDATAPADDINANGLE",s,o,p,void 0,r.inGraphDataPaddingAngle,a,-1,{nullValue:!0})*(Math.PI/180):2==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",s,o,p,void 0,r.inGraphDataAnglePosition,a,-1,{nullValue:!0})?e=t-p[a].segmentAngle/2+setOptionValue(1,"INGRAPHDATAPADDINANGLE",s,o,p,void 0,r.inGraphDataPaddingAngle,a,-1,{nullValue:!0})*(Math.PI/180):3==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",s,o,p,void 0,r.inGraphDataAnglePosition,a,-1,{nullValue:!0})&&(e=t-p[a].segmentAngle+setOptionValue(1,"INGRAPHDATAPADDINANGLE",s,o,p,void 0,r.inGraphDataPaddingAngle,a,-1,{nullValue:!0})*(Math.PI/180)),t-=p[a].segmentAngle;var n=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",s,o,p,void 0,r.inGraphDataTmpl,a,-1,{nullValue:!0}),p[a],r),i=s.measureText(n).width,l=Math.abs((c.availableWidth/2-i)/Math.cos(e))-setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",s,o,p,void 0,r.inGraphDataPaddingRadius,a,-1,{nullValue:!0})-5;l<d&&(d=l)}}d*=r.radiusScale}();var l=d*(r.percentageInnerCutout/100);0<d?(initPassVariableData_part2(p,o,r,s,{midPosX:u,midPosY:h,int_radius:l,ext_radius:d}),animationLoop(r,null,function(e){r.startAngle,Math.PI,Math.PI,Math.PI,Math.PI,Math.PI;for(var t=0;t<o.length;t++){var a=1,n=1;if(r.animation&&(r.animateScale&&(a=e),r.animateRotate&&(n=e)),correctedRotateAnimation=animationCorrection(n,o,r,t,-1,0).mainVal,void 0!==o[t].value&&0<=1*o[t].value){if(s.beginPath(),"ByArc"==r.animationByData)endAngle=p[t].startAngle+correctedRotateAnimation*p[t].segmentAngle,s.arc(u,h,a*d,p[t].startAngle,endAngle,!1),s.arc(u,h,a*l,endAngle,p[t].startAngle,!0);else if(r.animationByData){if(!(p[t].startAngle-p[t].firstAngle<2*correctedRotateAnimation*Math.PI))continue;endAngle=p[t].endAngle,p[t].endAngle-p[t].firstAngle>2*correctedRotateAnimation*Math.PI&&(endAngle=p[t].firstAngle+2*correctedRotateAnimation*Math.PI),s.arc(u,h,a*d,p[t].startAngle,endAngle,!1),s.arc(u,h,a*l,endAngle,p[t].startAngle,!0)}else s.arc(u,h,a*d,p[t].firstAngle+correctedRotateAnimation*(p[t].startAngle-p[t].firstAngle),p[t].firstAngle+correctedRotateAnimation*(p[t].endAngle-p[t].firstAngle),!1),s.arc(u,h,a*l,p[t].firstAngle+correctedRotateAnimation*(p[t].endAngle-p[t].firstAngle),p[t].firstAngle+correctedRotateAnimation*(p[t].startAngle-p[t].firstAngle),!0);s.closePath(),s.fillStyle=setOptionValue(1,"COLOR",s,o,p,o[t].color,r.defaultFillColor,t,-1,{animationDecimal:e,scaleAnimation:a}),s.fill(),r.segmentShowStroke&&(s.lineWidth=Math.ceil(s.chartLineScale*r.segmentStrokeWidth),s.strokeStyle=r.segmentStrokeColor,s.setLineDash(lineStyleFn(setOptionValue(1,"SEGMENTSTROKESTYLE",s,o,p,o[t].segmentStrokeStyle,r.segmentStrokeStyle,t,-1,{animationDecimal:e,scaleAnimation:a}))),s.stroke(),s.setLineDash([]))}}if(e>=r.animationStopValue)for(t=0;t<o.length;t++)if(!(void 0===o[t].value||1*o[t].value<0)&&(setOptionValue(1,"ANNOTATEDISPLAY",s,o,p,void 0,r.annotateDisplay,t,-1,{nullValue:!0})&&(jsGraphAnnotate[s.ChartNewId][jsGraphAnnotate[s.ChartNewId].length]=["ARC",t,-1,p]),setOptionValue(1,"INGRAPHDATASHOW",s,o,p,void 0,r.inGraphDataShow,t,-1,{nullValue:!0})&&p[t].segmentAngle>=Math.PI/180*setOptionValue(1,"INGRAPHDATAMINIMUMANGLE",s,o,p,void 0,r.inGraphDataMinimumAngle,t,-1,{nullValue:!0}))){1==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",s,o,p,void 0,r.inGraphDataAnglePosition,t,-1,{nullValue:!0})?posAngle=p[t].realStartAngle+setOptionValue(1,"INGRAPHDATAPADDINANGLE",s,o,p,void 0,r.inGraphDataPaddingAngle,t,-1,{nullValue:!0})*(Math.PI/180):2==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",s,o,p,void 0,r.inGraphDataAnglePosition,t,-1,{nullValue:!0})?posAngle=p[t].realStartAngle-p[t].segmentAngle/2+setOptionValue(1,"INGRAPHDATAPADDINANGLE",s,o,p,void 0,r.inGraphDataPaddingAngle,t,-1,{nullValue:!0})*(Math.PI/180):3==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",s,o,p,void 0,r.inGraphDataAnglePosition,t,-1,{nullValue:!0})&&(posAngle=p[t].realStartAngle-p[t].segmentAngle+setOptionValue(1,"INGRAPHDATAPADDINANGLE",s,o,p,void 0,r.inGraphDataPaddingAngle,t,-1,{nullValue:!0})*(Math.PI/180)),1==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",s,o,p,void 0,r.inGraphDataRadiusPosition,t,-1,{nullValue:!0})?labelRadius=l+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",s,o,p,void 0,r.inGraphDataPaddingRadius,t,-1,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",s,o,p,void 0,r.inGraphDataRadiusPosition,t,-1,{nullValue:!0})?labelRadius=l+(d-l)/2+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",s,o,p,void 0,r.inGraphDataPaddingRadius,t,-1,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",s,o,p,void 0,r.inGraphDataRadiusPosition,t,-1,{nullValue:!0})&&(labelRadius=d+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",s,o,p,void 0,r.inGraphDataPaddingRadius,t,-1,{nullValue:!0})),s.save(),"off-center"==setOptionValue(1,"INGRAPHDATAALIGN",s,o,p,void 0,r.inGraphDataAlign,t,-1,{nullValue:!0})?"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",s,o,p,void 0,r.inGraphDataRotate,t,-1,{nullValue:!0})||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?s.textAlign="left":s.textAlign="right":"to-center"==setOptionValue(1,"INGRAPHDATAALIGN",s,o,p,void 0,r.inGraphDataAlign,t,-1,{nullValue:!0})?"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",s,o,p,void 0,r.inGraphDataRotate,t,-1,{nullValue:!0})||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?s.textAlign="right":s.textAlign="left":s.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",s,o,p,void 0,r.inGraphDataAlign,t,-1,{nullValue:!0}),"off-center"==setOptionValue(1,"INGRAPHDATAVALIGN",s,o,p,void 0,r.inGraphDataVAlign,t,-1,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?s.textBaseline="top":s.textBaseline="bottom":"to-center"==setOptionValue(1,"INGRAPHDATAVALIGN",s,o,p,void 0,r.inGraphDataVAlign,t,-1,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?s.textBaseline="bottom":s.textBaseline="top":s.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",s,o,p,void 0,r.inGraphDataVAlign,t,-1,{nullValue:!0}),s.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",s,o,p,void 0,r.inGraphDataFontStyle,t,-1,{nullValue:!0})+" "+setOptionValue(s.chartTextScale,"INGRAPHDATAFONTSIZE",s,o,p,void 0,r.inGraphDataFontSize,t,-1,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",s,o,p,void 0,r.inGraphDataFontFamily,t,-1,{nullValue:!0}),s.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",s,o,p,void 0,r.inGraphDataFontColor,t,-1,{nullValue:!0});var i=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",s,o,p,void 0,r.inGraphDataTmpl,t,-1,{nullValue:!0}),p[t],r);s.translate(u+labelRadius*Math.cos(posAngle),h-labelRadius*Math.sin(posAngle)),"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",s,o,p,void 0,r.inGraphDataRotate,t,-1,{nullValue:!0})?s.rotate(2*Math.PI-posAngle):"inRadiusAxisRotateLabels"==setOptionValue(1,"INGRAPHDATAROTATE",s,o,p,void 0,r.inGraphDataRotate,t,-1,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?s.rotate(3*Math.PI-posAngle):s.rotate(2*Math.PI-posAngle):s.rotate(setOptionValue(1,"INGRAPHDATAROTATE",s,o,p,void 0,r.inGraphDataRotate,t,-1,{nullValue:!0})*(Math.PI/180)),setTextBordersAndBackground(s,i,setOptionValue(s.chartTextScale,"INGRAPHDATAFONTSIZE",s,o,p,void 0,r.inGraphDataFontSize,t,-1,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",s,o,p,void 0,r.inGraphDataBorders,t,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",s,o,p,void 0,r.inGraphDataBordersColor,t,-1,{nullValue:!0}),setOptionValue(s.chartLineScale,"INGRAPHDATABORDERSWIDTH",s,o,p,void 0,r.inGraphDataBordersWidth,t,-1,{nullValue:!0}),setOptionValue(s.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",s,o,p,void 0,r.inGraphDataBordersXSpace,t,-1,{nullValue:!0}),setOptionValue(s.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",s,o,p,void 0,r.inGraphDataBordersYSpace,t,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",s,o,p,void 0,r.inGraphDataBordersStyle,t,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",s,o,p,void 0,r.inGraphDataBackgroundColor,t,-1,{nullValue:!0}),"INGRAPHDATA"),s.fillTextMultiLine(i,0,0,s.textBaseline,setOptionValue(s.chartTextScale,"INGRAPHDATAFONTSIZE",s,o,p,void 0,r.inGraphDataFontSize,t,-1,{nullValue:!0}),!0),s.restore()}c.legendMsr.dispLegend&&drawLegend(c.legendMsr,o,r,s,"Doughnut")},s,c.clrx,c.clry,c.clrwidth,c.clrheight,u,h,u-d,h+d,o)):testRedraw(s,o,r)}},Line=function(data,config,ctx){var maxSize,scaleHop,scaleHop2,calculatedScale,calculatedScale2,labelHeight,scaleHeight,valueBounds,labelTemplateString,labelTemplateString2,valueHop,widestXLabel,xAxisLength,yAxisPosX,xAxisPosY,rotateLabels=0,msr,zeroY=0,zeroY2=0;if(ctx.tpchart="Line",init_and_start(ctx,data,config)){for(var mxlgt=0,i=0;i<data.datasets.length;i++)mxlgt=Max([mxlgt,data.datasets[i].data.length]);if(1==mxlgt){for("string"==typeof data.labels[0]&&(data.labels=["",data.labels[0],""]),i=0;i<data.datasets.length;i++)data.datasets[i].data[0],data.datasets[i].data=[void 0,data.datasets[i].data[0],void 0];mxlgt=3}var statData=initPassVariableData_part1(data,config,ctx);for(i=0;i<data.datasets.length;i++)statData[i][0].tpchart="Line";msr=setMeasures(data,config,ctx,height,width,"nihil",[""],!1,!1,!0,!0,config.datasetFill,"Line"),valueBounds=getValueBounds(),!1!==config.logarithmic&&valueBounds.minValue<=0&&(config.logarithmic=!1),!1!==config.logarithmic2&&valueBounds.minValue2<=0&&(config.logarithmic2=!1);var OrderOfMagnitude=calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(valueBounds.maxValue)+1))-calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(valueBounds.minValue)));("fuzzy"==config.logarithmic&&OrderOfMagnitude<4||config.scaleOverride)&&(config.logarithmic=!1);var OrderOfMagnitude2=calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(valueBounds.maxValue2)+1))-calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(valueBounds.minValue2)));if(("fuzzy"==config.logarithmic2&&OrderOfMagnitude2<4||config.scaleOverride2)&&(config.logarithmic2=!1),labelTemplateString=config.scaleShowLabels?config.scaleLabel:"",labelTemplateString2=config.scaleShowLabels2?config.scaleLabel2:"",config.scaleOverride){var scaleStartValue=setOptionValue(1,"SCALESTARTVALUE",ctx,data,statData,void 0,config.scaleStartValue,-1,-1,{nullValue:!0}),scaleSteps=setOptionValue(1,"SCALESTEPS",ctx,data,statData,void 0,config.scaleSteps,-1,-1,{nullValue:!0}),scaleStepWidth=setOptionValue(1,"SCALESTEPWIDTH",ctx,data,statData,void 0,config.scaleStepWidth,-1,-1,{nullValue:!0});calculatedScale={steps:scaleSteps,stepValue:scaleStepWidth,graphMin:scaleStartValue,graphMax:scaleStartValue+scaleSteps*scaleStepWidth,labels:[]},populateLabels(1,config,labelTemplateString,calculatedScale.labels,calculatedScale.steps,scaleStartValue,calculatedScale.graphMax,scaleStepWidth)}else 0<valueBounds.maxSteps&&0<valueBounds.minSteps&&(calculatedScale=calculateScale(1,config,valueBounds.maxSteps,valueBounds.minSteps,valueBounds.maxValue,valueBounds.minValue,labelTemplateString));if(valueBounds.dbAxis)if(config.scaleOverride2){var scaleStartValue2=setOptionValue(1,"SCALESTARTVALUE2",ctx,data,statData,void 0,config.scaleStartValue2,-1,-1,{nullValue:!0}),scaleSteps2=setOptionValue(1,"SCALESTEPS2",ctx,data,statData,void 0,config.scaleSteps2,-1,-1,{nullValue:!0}),scaleStepWidth2=setOptionValue(1,"SCALESTEPWIDTH2",ctx,data,statData,void 0,config.scaleStepWidth2,-1,-1,{nullValue:!0});calculatedScale2={steps:scaleSteps2,stepValue:scaleStepWidth2,graphMin:scaleStartValue2,graphMax:scaleStartValue2+scaleSteps2*scaleStepWidth2,labels:[]},populateLabels(2,config,labelTemplateString2,calculatedScale2.labels,calculatedScale2.steps,scaleStartValue2,calculatedScale2.graphMax,scaleStepWidth2)}else 0<valueBounds.maxSteps&&0<valueBounds.minSteps&&(calculatedScale2=calculateScale(2,config,valueBounds.maxSteps,valueBounds.minSteps,valueBounds.maxValue2,valueBounds.minValue2,labelTemplateString));else calculatedScale2={steps:0,stepValue:0,graphMin:0,graphMax:0,labels:null};if(0<valueBounds.maxSteps&&0<valueBounds.minSteps){msr=setMeasures(data,config,ctx,height,width,calculatedScale.labels,calculatedScale2.labels,!1,!1,!0,!0,config.datasetFill,"Line");var prevHeight=msr.availableHeight;msr.availableHeight=msr.availableHeight-Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)-Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop),msr.availableWidth=msr.availableWidth-Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft)-Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight),scaleHop=Math.floor(msr.availableHeight/calculatedScale.steps),scaleHop2=Math.floor(msr.availableHeight/calculatedScale2.steps),valueHop=Math.floor(msr.availableWidth/(data.labels.length-1)),(0==valueHop||config.fullWidthGraph)&&(valueHop=msr.availableWidth/(data.labels.length-1)),msr.clrwidth=msr.clrwidth-(msr.availableWidth-(data.labels.length-1)*valueHop),msr.availableWidth=(data.labels.length-1)*valueHop,msr.availableHeight=calculatedScale.steps*scaleHop,msr.xLabelPos+=Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)+Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop)-(prevHeight-msr.availableHeight),msr.clrheight+=Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)+Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop)-(prevHeight-msr.availableHeight),yAxisPosX=msr.leftNotUsableSize+Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft),xAxisPosY=msr.topNotUsableSize+msr.availableHeight+Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop),drawLabels(),valueBounds.minValue<0&&(zeroY=calculateOffset(config.logarithmic,0,calculatedScale,scaleHop)),valueBounds.minValue2<0&&(zeroY2=calculateOffset(config.logarithmic2,0,calculatedScale2,scaleHop2)),initPassVariableData_part2(statData,data,config,ctx,{xAxisPosY:xAxisPosY,yAxisPosX:yAxisPosX,valueHop:valueHop,nbValueHop:data.labels.length-1,scaleHop:scaleHop,zeroY:zeroY,calculatedScale:calculatedScale,logarithmic:config.logarithmic,scaleHop2:scaleHop2,zeroY2:zeroY2,msr:msr,calculatedScale2:calculatedScale2,logarithmic2:config.logarithmic2}),animationLoop(config,drawScale,drawLines,ctx,msr.clrx,msr.clry,msr.clrwidth,msr.clrheight,yAxisPosX+msr.availableWidth/2,xAxisPosY-msr.availableHeight/2,yAxisPosX,xAxisPosY,data)}else testRedraw(ctx,data,config)}function drawLines(e){drawLinesDataset(e,data,config,ctx,statData,{xAxisPosY:xAxisPosY,yAxisPosX:yAxisPosX,valueHop:valueHop,nbValueHop:data.labels.length-1}),1<=e&&"function"==typeof drawMath&&drawMath(ctx,config,data,msr,{xAxisPosY:xAxisPosY,yAxisPosX:yAxisPosX,valueHop:valueHop,scaleHop:scaleHop,zeroY:zeroY,calculatedScale:calculatedScale,calculateOffset:calculateOffset,statData:statData}),msr.legendMsr.dispLegend&&drawLegend(msr.legendMsr,data,config,ctx,"Line")}function drawScale(){if(!1!==config.drawXScaleLine)for(var e=0;e<config.drawXScaleLine.length;e++){var t;switch(ctx.lineWidth=config.drawXScaleLine[e].lineWidth?config.drawXScaleLine[e].lineWidth:Math.ceil(ctx.chartLineScale*config.scaleLineWidth),ctx.strokeStyle=config.drawXScaleLine[e].lineColor?config.drawXScaleLine[e].lineColor:config.scaleLineColor,ctx.beginPath(),config.drawXScaleLine[e].position){case"bottom":t=xAxisPosY;break;case"top":t=xAxisPosY-msr.availableHeight-Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop);break;case"0":case 0:0!=zeroY&&(t=xAxisPosY-zeroY)}ctx.moveTo(yAxisPosX-Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft),t),ctx.lineTo(yAxisPosX+msr.availableWidth+Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight),t),ctx.setLineDash(lineStyleFn(config.scaleLineStyle)),ctx.stroke(),ctx.setLineDash([])}for(var a=0;a<data.labels.length;a++)ctx.beginPath(),ctx.moveTo(yAxisPosX+a*valueHop,xAxisPosY+Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)),ctx.lineWidth=Math.ceil(ctx.chartLineScale*config.scaleGridLineWidth),ctx.strokeStyle=config.scaleGridLineColor,config.scaleShowGridLines&&0<a&&a%config.scaleXGridLinesStep==0?ctx.lineTo(yAxisPosX+a*valueHop,xAxisPosY-msr.availableHeight-Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop)):ctx.lineTo(yAxisPosX+a*valueHop,xAxisPosY),ctx.setLineDash(lineStyleFn(config.scaleGridLineStyle)),ctx.stroke(),ctx.setLineDash([]);ctx.lineWidth=Math.ceil(ctx.chartLineScale*config.scaleLineWidth),ctx.strokeStyle=config.scaleLineColor,ctx.beginPath(),ctx.moveTo(yAxisPosX,xAxisPosY+Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)),ctx.lineTo(yAxisPosX,xAxisPosY-msr.availableHeight-Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop)),ctx.setLineDash(lineStyleFn(config.scaleLineStyle)),ctx.stroke(),ctx.setLineDash([]);for(var n=0;n<calculatedScale.steps;n++)ctx.beginPath(),ctx.moveTo(yAxisPosX-Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft),xAxisPosY-(n+1)*scaleHop),ctx.lineWidth=Math.ceil(ctx.chartLineScale*config.scaleGridLineWidth),ctx.strokeStyle=config.scaleGridLineColor,config.scaleShowGridLines&&(n+1)%config.scaleYGridLinesStep==0?ctx.lineTo(yAxisPosX+msr.availableWidth+Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight),xAxisPosY-(n+1)*scaleHop):ctx.lineTo(yAxisPosX,xAxisPosY-(n+1)*scaleHop),ctx.setLineDash(lineStyleFn(config.scaleGridLineStyle)),ctx.stroke(),ctx.setLineDash([])}function drawLabels(){if(ctx.font=config.scaleFontStyle+" "+Math.ceil(ctx.chartTextScale*config.scaleFontSize).toString()+"px "+config.scaleFontFamily,(config.xAxisTop||config.xAxisBottom)&&(ctx.textBaseline="top",90<msr.rotateLabels?(ctx.save(),ctx.textAlign="left"):0<msr.rotateLabels?(ctx.save(),ctx.textAlign="right"):ctx.textAlign="center",ctx.fillStyle=config.scaleFontColor,config.xAxisBottom))for(var e=0;e<data.labels.length;e++)ctx.save(),0<msr.rotateLabels?(ctx.translate(yAxisPosX+e*valueHop-msr.highestXLabel/2,msr.xLabelPos),ctx.rotate(-msr.rotateLabels*(Math.PI/180)),ctx.fillTextMultiLine(fmtChartJS(config,data.labels[e],config.fmtXLabel),0,0,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0)):ctx.fillTextMultiLine(fmtChartJS(config,data.labels[e],config.fmtXLabel),yAxisPosX+e*valueHop,msr.xLabelPos,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0),ctx.restore();ctx.textAlign="right",ctx.textBaseline="middle";for(var t=config.showYAxisMin?-1:0;t<calculatedScale.steps;t++)config.scaleShowLabels&&(config.yAxisLeft&&(ctx.textAlign="right",ctx.fillTextMultiLine(calculatedScale.labels[t+1],yAxisPosX-(Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft)+Math.ceil(ctx.chartSpaceScale*config.yAxisSpaceRight)),xAxisPosY-(t+1)*scaleHop,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0)),config.yAxisRight&&!valueBounds.dbAxis&&(ctx.textAlign="left",ctx.fillTextMultiLine(calculatedScale.labels[t+1],yAxisPosX+msr.availableWidth+(Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight)+Math.ceil(ctx.chartSpaceScale*config.yAxisSpaceRight)),xAxisPosY-(t+1)*scaleHop,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0)));if(config.yAxisRight&&valueBounds.dbAxis)for(t=config.showYAxisMin?-1:0;t<calculatedScale2.steps;t++)config.scaleShowLabels&&(ctx.textAlign="left",ctx.fillTextMultiLine(calculatedScale2.labels[t+1],yAxisPosX+msr.availableWidth+(Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight)+Math.ceil(ctx.chartSpaceScale*config.yAxisSpaceRight)),xAxisPosY-(t+1)*scaleHop2,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0))}function getValueBounds(){for(var upperValue=-Number.MAX_VALUE,lowerValue=Number.MAX_VALUE,upperValue2=-Number.MAX_VALUE,lowerValue2=Number.MAX_VALUE,secondAxis=!1,firstAxis=!1,i=0;i<data.datasets.length;i++){var mathFctName=data.datasets[i].drawMathDeviation,mathValueHeight=0;if("function"==typeof eval(mathFctName)){var parameter={data:data,datasetNr:i};mathValueHeight=window[mathFctName](parameter)}for(var j=0;j<data.datasets[i].data.length;j++)void 0!==data.datasets[i].data[j]&&(2==data.datasets[i].axis?(secondAxis=!0,1*data.datasets[i].data[j]+mathValueHeight>upperValue2&&(upperValue2=1*data.datasets[i].data[j]+mathValueHeight),1*data.datasets[i].data[j]-mathValueHeight<lowerValue2&&(lowerValue2=1*data.datasets[i].data[j]-mathValueHeight)):(firstAxis=!0,1*data.datasets[i].data[j]+mathValueHeight>upperValue&&(upperValue=1*data.datasets[i].data[j]+mathValueHeight),1*data.datasets[i].data[j]-mathValueHeight<lowerValue&&(lowerValue=1*data.datasets[i].data[j]-mathValueHeight)))}upperValue<lowerValue&&(upperValue=0,lowerValue=0),Math.abs(upperValue-lowerValue)<config.zeroValue&&(Math.abs(upperValue)<config.zeroValue&&(upperValue=.9),0<upperValue?(upperValue*=1.1,lowerValue*=.9):(upperValue*=.9,lowerValue*=1.1)),"function"==typeof config.graphMin?lowerValue=setOptionValue(1,"GRAPHMIN",ctx,data,statData,void 0,config.graphMin,-1,-1,{nullValue:!0}):isNaN(config.graphMin)||(lowerValue=config.graphMin),"function"==typeof config.graphMax?upperValue=setOptionValue(1,"GRAPHMAX",ctx,data,statData,void 0,config.graphMax,-1,-1,{nullValue:!0}):isNaN(config.graphMax)||(upperValue=config.graphMax),secondAxis&&(upperValue2<lowerValue2&&(upperValue2=0,lowerValue2=0),Math.abs(upperValue2-lowerValue2)<config.zeroValue&&(Math.abs(upperValue2)<config.zeroValue&&(upperValue2=.9),0<upperValue2?(upperValue2*=1.1,lowerValue2*=.9):(upperValue2*=.9,lowerValue2*=1.1)),"function"==typeof config.graphMin2?lowerValue2=setOptionValue(1,"GRAPHMIN",ctx,data,statData,void 0,config.graphMin2,-1,-1,{nullValue:!0}):isNaN(config.graphMin2)||(lowerValue2=config.graphMin2),"function"==typeof config.graphMax2?upperValue2=setOptionValue(1,"GRAPHMAX",ctx,data,statData,void 0,config.graphMax2,-1,-1,{nullValue:!0}):isNaN(config.graphMax2)||(upperValue2=config.graphMax2)),!firstAxis&&secondAxis&&(upperValue=upperValue2,lowerValue=lowerValue2),labelHeight=Math.ceil(ctx.chartTextScale*config.scaleFontSize),scaleHeight=msr.availableHeight;var maxSteps=Math.floor(scaleHeight/(.66*labelHeight)),minSteps=Math.floor(scaleHeight/labelHeight*.5);return{maxValue:upperValue,minValue:lowerValue,maxValue2:upperValue2,minValue2:lowerValue2,dbAxis:secondAxis,maxSteps:maxSteps,minSteps:minSteps}}},StackedBar=function(c,u,h){var a,n,d,p,e,t,i,l,o,g,f;if(h.tpchart="StackedBar",init_and_start(h,c,u)){var S=initPassVariableData_part1(c,u,h);if(u.logarithmic=!1,f=setMeasures(c,u,h,height,width,"nihil",[""],!0,!1,!0,!0,!0,"StackedBar"),0<(e=function(){for(var e=-Number.MAX_VALUE,t=Number.MAX_VALUE,a=(new Array(c.datasets.length),new Array(c.datasets.length),0);a<c.datasets.length;a++)for(var n=0;n<c.datasets[a].data.length;n++){var i=a,l=0,o=0;for(void 0!==c.datasets[0].data[n]&&(0<1*c.datasets[0].data[n]?(l+=1*c.datasets[0].data[n],e<l&&(e=l),l<t&&(t=l)):(o+=1*c.datasets[0].data[n],e<o&&(e=o),o<t&&(t=o)));0<i;)void 0!==c.datasets[i].data[n]&&(0<1*c.datasets[i].data[n]?(l+=1*c.datasets[i].data[n],e<l&&(e=l),l<t&&(t=l)):(o+=1*c.datasets[i].data[n],e<o&&(e=o),o<t&&(t=o))),i--}"function"==typeof u.graphMin?t=setOptionValue(1,"GRAPHMIN",h,c,S,void 0,u.graphMin,-1,-1,{nullValue:!0}):isNaN(u.graphMin)||(t=u.graphMin);"function"==typeof u.graphMax?e=setOptionValue(1,"GRAPHMAX",h,c,S,void 0,u.graphMax,-1,-1,{nullValue:!0}):isNaN(u.graphMax)||(e=u.graphMax);e<t&&(t=e=0);Math.abs(e-t)<u.zeroValue&&(Math.abs(e)<u.zeroValue&&(e=.9),0<e?(e*=1.1,t*=.9):(e*=.9,t*=1.1));d=Math.ceil(h.chartTextScale*u.scaleFontSize),p=f.availableHeight;var r=Math.floor(p/(.66*d)),s=Math.floor(p/d*.5);return{maxValue:e,minValue:t,maxSteps:r,minSteps:s}}()).maxSteps&&0<e.minSteps){if(t=u.scaleShowLabels?u.scaleLabel:"",u.scaleOverride){var r=setOptionValue(1,"SCALESTARTVALUE",h,c,S,void 0,u.scaleStartValue,-1,-1,{nullValue:!0}),s=setOptionValue(1,"SCALESTEPS",h,c,S,void 0,u.scaleSteps,-1,-1,{nullValue:!0}),m=setOptionValue(1,"SCALESTEPWIDTH",h,c,S,void 0,u.scaleStepWidth,-1,-1,{nullValue:!0});n={steps:s,stepValue:m,graphMin:r,labels:[]};for(var y=0;y<=n.steps;y++)t&&n.labels.push(tmpl(t,{value:fmtChartJS(u,1*(r+m*y).toFixed(getDecimalPlaces(m)),u.fmtYLabel)},u));f=setMeasures(c,u,h,height,width,n.labels,null,!0,!1,!0,!0,!0,"StackedBar")}else n=calculateScale(1,u,e.maxSteps,e.minSteps,e.maxValue,e.minValue,t),f=setMeasures(c,u,h,height,width,n.labels,null,!0,!1,!0,!0,!0,"StackedBar");var v=f.availableHeight;f.availableHeight=f.availableHeight-Math.ceil(h.chartLineScale*u.scaleTickSizeBottom)-Math.ceil(h.chartLineScale*u.scaleTickSizeTop),f.availableWidth=f.availableWidth-Math.ceil(h.chartLineScale*u.scaleTickSizeLeft)-Math.ceil(h.chartLineScale*u.scaleTickSizeRight),a=Math.floor(f.availableHeight/n.steps),(0==(i=Math.floor(f.availableWidth/c.labels.length))||u.fullWidthGraph)&&(i=f.availableWidth/c.labels.length),f.clrwidth=f.clrwidth-(f.availableWidth-c.labels.length*i),f.availableWidth=c.labels.length*i,f.availableHeight=n.steps*a,f.xLabelPos+=Math.ceil(h.chartLineScale*u.scaleTickSizeBottom)+Math.ceil(h.chartLineScale*u.scaleTickSizeTop)-(v-f.availableHeight),f.clrheight+=Math.ceil(h.chartLineScale*u.scaleTickSizeBottom)+Math.ceil(h.chartLineScale*u.scaleTickSizeTop)-(v-f.availableHeight),l=f.leftNotUsableSize+Math.ceil(h.chartLineScale*u.scaleTickSizeLeft),o=f.topNotUsableSize+f.availableHeight+Math.ceil(h.chartLineScale*u.scaleTickSizeTop),0<=(g=i-2*Math.ceil(h.chartLineScale*u.scaleGridLineWidth)-2*Math.ceil(h.chartSpaceScale*u.barValueSpacing)-Math.ceil(h.chartLineScale*u.barStrokeWidth)/2-1)&&g<=1&&(g=1),g<0&&-1<=g&&(g=-1),function(){if(h.font=u.scaleFontStyle+" "+Math.ceil(h.chartTextScale*u.scaleFontSize).toString()+"px "+u.scaleFontFamily,(u.xAxisTop||u.xAxisBottom)&&(h.textBaseline="top",90<f.rotateLabels?(h.save(),h.textAlign="left"):0<f.rotateLabels?(h.save(),h.textAlign="right"):h.textAlign="center",h.fillStyle=u.scaleFontColor,u.xAxisBottom))for(var e=0;e<c.labels.length;e++)h.save(),0<f.rotateLabels?(h.translate(l+Math.ceil(h.chartSpaceScale*u.barValueSpacing)+e*i+g/2-f.highestXLabel/2,f.xLabelPos),h.rotate(-f.rotateLabels*(Math.PI/180)),h.fillTextMultiLine(fmtChartJS(u,c.labels[e],u.fmtXLabel),0,0,h.textBaseline,Math.ceil(h.chartTextScale*u.scaleFontSize),!0)):h.fillTextMultiLine(fmtChartJS(u,c.labels[e],u.fmtXLabel),l+Math.ceil(h.chartSpaceScale*u.barValueSpacing)+e*i+g/2,f.xLabelPos,h.textBaseline,Math.ceil(h.chartTextScale*u.scaleFontSize),!0),h.restore();h.textAlign="right",h.textBaseline="middle";for(var t=u.showYAxisMin?-1:0;t<n.steps;t++)u.scaleShowLabels&&(u.yAxisLeft&&(h.textAlign="right",h.fillTextMultiLine(n.labels[t+1],l-(Math.ceil(h.chartLineScale*u.scaleTickSizeLeft)+Math.ceil(h.chartSpaceScale*u.yAxisSpaceRight)),o-(t+1)*a,h.textBaseline,Math.ceil(h.chartTextScale*u.scaleFontSize),!0)),u.yAxisRight&&(h.textAlign="left",h.fillTextMultiLine(n.labels[t+1],l+f.availableWidth+(Math.ceil(h.chartLineScale*u.scaleTickSizeRight)+Math.ceil(h.chartSpaceScale*u.yAxisSpaceRight)),o-(t+1)*a,h.textBaseline,Math.ceil(h.chartTextScale*u.scaleFontSize),!0)))}(),initPassVariableData_part2(S,c,u,h,{calculatedScale:n,scaleHop:a,valueHop:i,yAxisPosX:l,xAxisPosY:o,barWidth:g}),animationLoop(u,function(){h.lineWidth=Math.ceil(h.chartLineScale*u.scaleLineWidth),h.strokeStyle=u.scaleLineColor,h.setLineDash(lineStyleFn(u.scaleLineStyle)),h.beginPath(),h.moveTo(l-Math.ceil(h.chartLineScale*u.scaleTickSizeLeft),o),h.lineTo(l+f.availableWidth+Math.ceil(h.chartLineScale*u.scaleTickSizeRight),o),h.stroke(),h.setLineDash([]),h.setLineDash(lineStyleFn(u.scaleGridLineStyle));for(var e=0;e<c.labels.length;e++)h.beginPath(),h.moveTo(l+e*i,o+Math.ceil(h.chartLineScale*u.scaleTickSizeBottom)),h.lineWidth=Math.ceil(h.chartLineScale*u.scaleGridLineWidth),h.strokeStyle=u.scaleGridLineColor,u.scaleShowGridLines&&0<e&&e%u.scaleXGridLinesStep==0?h.lineTo(l+e*i,o-f.availableHeight-Math.ceil(h.chartLineScale*u.scaleTickSizeTop)):h.lineTo(l+e*i,o),h.stroke();h.setLineDash([]),h.lineWidth=Math.ceil(h.chartLineScale*u.scaleLineWidth),h.strokeStyle=u.scaleLineColor,h.setLineDash(lineStyleFn(u.scaleLineStyle)),h.beginPath(),h.moveTo(l,o+Math.ceil(h.chartLineScale*u.scaleTickSizeBottom)),h.lineTo(l,o-f.availableHeight-Math.ceil(h.chartLineScale*u.scaleTickSizeTop)),h.stroke(),h.setLineDash([]),h.setLineDash(lineStyleFn(u.scaleGridLineStyle));for(var t=u.showYAxisMin?-1:0;t<n.steps;t++)h.beginPath(),h.moveTo(l-Math.ceil(h.chartLineScale*u.scaleTickSizeLeft),o-(t+1)*a),h.lineWidth=Math.ceil(h.chartLineScale*u.scaleGridLineWidth),h.strokeStyle=u.scaleGridLineColor,u.scaleShowGridLines&&(t+1)%u.scaleYGridLinesStep==0?h.lineTo(l+f.availableWidth+Math.ceil(h.chartLineScale*u.scaleTickSizeRight),o-(t+1)*a):h.lineTo(l,o-(t+1)*a),h.stroke();h.setLineDash([])},function(e){h.lineWidth=Math.ceil(h.chartLineScale*u.barStrokeWidth);for(var t=0;t<c.datasets.length;t++)for(var a=0;a<c.datasets[t].data.length;a++){var n,i,l=animationCorrection(e,c,u,t,a,1).animVal;if(1<l&&(l-=1),void 0!==c.datasets[t].data[a]&&1*c.datasets[t].data[a]!=0)u.animationByDataset?(n=S[t][a].yPosBottom,i=S[t][a].yPosTop,i=n+l*(i-n)):(n=S[S[t][a].firstNotMissing][a].yPosBottom-l*(S[S[t][a].firstNotMissing][a].yPosBottom-S[t][a].yPosBottom),i=S[S[t][a].firstNotMissing][a].yPosBottom-l*(S[S[t][a].firstNotMissing][a].yPosBottom-S[t][a].yPosTop)),h.fillStyle=setOptionValue(1,"COLOR",h,c,S,c.datasets[t].fillColor,u.defaultFillColor,t,a,{animationValue:l,xPosLeft:S[t][a].xPosLeft,yPosBottom:n,xPosRight:S[t][a].xPosRight,yPosTop:i}),h.strokeStyle=setOptionValue(1,"STROKECOLOR",h,c,S,c.datasets[t].strokeColor,u.defaultStrokeColor,t,a,{nullvalue:null}),0!=l&&n!=i&&(h.beginPath(),h.moveTo(S[t][a].xPosLeft,n),h.lineTo(S[t][a].xPosLeft,i),h.lineTo(S[t][a].xPosRight,i),h.lineTo(S[t][a].xPosRight,n),u.barShowStroke&&(h.setLineDash(lineStyleFn(setOptionValue(1,"STROKESTYLE",h,c,S,c.datasets[t].datasetStrokeStyle,u.datasetStrokeStyle,t,a,{nullvalue:null}))),h.stroke(),h.setLineDash([])),h.closePath(),h.fill())}if(e>=u.animationStopValue){var o=0,r=0;for(t=0;t<c.datasets.length;t++)for(a=0;a<c.datasets[t].data.length;a++)if(void 0!==c.datasets[t].data[a]&&(setOptionValue(1,"ANNOTATEDISPLAY",h,c,S,void 0,u.annotateDisplay,t,a,{nullValue:!0})&&(jsGraphAnnotate[h.ChartNewId][jsGraphAnnotate[h.ChartNewId].length]=["RECT",t,a,S]),setOptionValue(1,"INGRAPHDATASHOW",h,c,S,void 0,u.inGraphDataShow,t,a,{nullValue:!0}))){h.save(),h.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",h,c,S,void 0,u.inGraphDataAlign,t,a,{nullValue:!0}),h.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",h,c,S,void 0,u.inGraphDataVAlign,t,a,{nullValue:!0}),h.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",h,c,S,void 0,u.inGraphDataFontStyle,t,a,{nullValue:!0})+" "+setOptionValue(h.chartTextScale,"INGRAPHDATAFONTSIZE",h,c,S,void 0,u.inGraphDataFontSize,t,a,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",h,c,S,void 0,u.inGraphDataFontFamily,t,a,{nullValue:!0}),h.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",h,c,S,void 0,u.inGraphDataFontColor,t,a,{nullValue:!0});var s=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",h,c,S,void 0,u.inGraphDataTmpl,t,a,{nullValue:!0}),S[t][a],u);h.beginPath(),h.beginPath(),1==setOptionValue(1,"INGRAPHDATAXPOSITION",h,c,S,void(r=o=0),u.inGraphDataXPosition,t,a,{nullValue:!0})?r=S[t][a].xPosLeft+setOptionValue(h.chartSpaceScale,"INGRAPHDATAPADDINGX",h,c,S,void 0,u.inGraphDataPaddingX,t,a,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATAXPOSITION",h,c,S,void 0,u.inGraphDataXPosition,t,a,{nullValue:!0})?r=S[t][a].xPosLeft+g/2+setOptionValue(h.chartSpaceScale,"INGRAPHDATAPADDINGX",h,c,S,void 0,u.inGraphDataPaddingX,t,a,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATAXPOSITION",h,c,S,void 0,u.inGraphDataXPosition,t,a,{nullValue:!0})&&(r=S[t][a].xPosLeft+g+setOptionValue(h.chartSpaceScale,"INGRAPHDATAPADDINGX",h,c,S,void 0,u.inGraphDataPaddingX,t,a,{nullValue:!0})),1==setOptionValue(1,"INGRAPHDATAYPOSITION",h,c,S,void 0,u.inGraphDataYPosition,t,a,{nullValue:!0})?o=S[t][a].yPosBottom-setOptionValue(h.chartSpaceScale,"INGRAPHDATAPADDINGY",h,c,S,void 0,u.inGraphDataPaddingY,t,a,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATAYPOSITION",h,c,S,void 0,u.inGraphDataYPosition,t,a,{nullValue:!0})?o=(S[t][a].yPosTop+S[t][a].yPosBottom)/2-setOptionValue(h.chartSpaceScale,"INGRAPHDATAPADDINGY",h,c,S,void 0,u.inGraphDataPaddingY,t,a,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATAYPOSITION",h,c,S,void 0,u.inGraphDataYPosition,t,a,{nullValue:!0})&&(o=S[t][a].yPosTop-setOptionValue(h.chartSpaceScale,"INGRAPHDATAPADDINGY",h,c,S,void 0,u.inGraphDataPaddingY,t,a,{nullValue:!0})),o>f.topNotUsableSize&&(h.translate(r,o),h.rotate(setOptionValue(1,"INGRAPHDATAROTATE",h,c,S,void 0,u.inGraphDataRotate,t,a,{nullValue:!0})*(Math.PI/180)),setTextBordersAndBackground(h,s,setOptionValue(h.chartTextScale,"INGRAPHDATAFONTSIZE",h,c,S,void 0,u.inGraphDataFontSize,t,a,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",h,c,S,void 0,u.inGraphDataBorders,t,a,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",h,c,S,void 0,u.inGraphDataBordersColor,t,a,{nullValue:!0}),setOptionValue(h.chartLineScale,"INGRAPHDATABORDERSWIDTH",h,c,S,void 0,u.inGraphDataBordersWidth,t,a,{nullValue:!0}),setOptionValue(h.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",h,c,S,void 0,u.inGraphDataBordersXSpace,t,a,{nullValue:!0}),setOptionValue(h.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",h,c,S,void 0,u.inGraphDataBordersYSpace,t,a,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",h,c,S,void 0,u.inGraphDataBordersStyle,t,a,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",h,c,S,void 0,u.inGraphDataBackgroundColor,t,a,{nullValue:!0}),"INGRAPHDATA"),h.fillTextMultiLine(s,0,0,h.textBaseline,setOptionValue(h.chartTextScale,"INGRAPHDATAFONTSIZE",h,c,S,void 0,u.inGraphDataFontSize,t,a,{nullValue:!0}),!0)),h.restore()}}f.legendMsr.dispLegend&&drawLegend(f.legendMsr,c,u,h,"StackedBar")},h,f.clrx,f.clry,f.clrwidth,f.clrheight,l+f.availableWidth/2,o-f.availableHeight/2,l,o,c)}else testRedraw(h,c,u)}};function reverseData(e){e.labels=e.labels.reverse();for(var t=0;t<e.datasets.length;t++)for(var a in e.datasets[t])Array.isArray(e.datasets[t][a])&&(e.datasets[t][a]=e.datasets[t][a].reverse());return e}var HorizontalStackedBar=function(c,u,h){var a,n,d,p,e,t,i,l,o,g,f;if(u.reverseOrder&&void 0===h.reversed&&(h.reversed=!0,c=reverseData(c)),h.tpchart="HorizontalStackedBar",init_and_start(h,c,u)){var r,s,S,m,y,v=initPassVariableData_part1(c,u,h);if(u.logarithmic=!1,f=setMeasures(c,u,h,height,width,"nihil",[""],!0,!0,!0,!0,!0,"HorizontalStackedBar"),0<(e=function(){for(var e=-Number.MAX_VALUE,t=Number.MAX_VALUE,a=(new Array(c.datasets.length),new Array(c.datasets.length),0);a<c.datasets.length;a++)for(var n=0;n<c.datasets[a].data.length;n++){var i=a,l=0,o=0;for(void 0!==c.datasets[0].data[n]&&(0<1*c.datasets[0].data[n]?(l+=1*c.datasets[0].data[n],e<l&&(e=l),l<t&&(t=l)):(o+=1*c.datasets[0].data[n],e<o&&(e=o),o<t&&(t=o)));0<i;)void 0!==c.datasets[i].data[n]&&(0<1*c.datasets[i].data[n]?(l+=1*c.datasets[i].data[n],e<l&&(e=l),l<t&&(t=l)):(o+=1*c.datasets[i].data[n],e<o&&(e=o),o<t&&(t=o))),i--}"function"==typeof u.graphMin?t=setOptionValue(1,"GRAPHMIN",h,c,v,void 0,u.graphMin,-1,-1,{nullValue:!0}):isNaN(u.graphMin)||(t=u.graphMin);"function"==typeof u.graphMax?e=setOptionValue(1,"GRAPHMAX",h,c,v,void 0,u.graphMax,-1,-1,{nullValue:!0}):isNaN(u.graphMax)||(e=u.graphMax);e<t&&(t=e=0);Math.abs(e-t)<u.zeroValue&&(Math.abs(e)<u.zeroValue&&(e=.9),0<e?(e*=1.1,t*=.9):(e*=.9,t*=1.1));d=Math.ceil(h.chartTextScale*u.scaleFontSize),p=f.availableHeight;var r=Math.floor(p/(.66*d)),s=Math.floor(p/d*.5);return{maxValue:e,minValue:t,maxSteps:r,minSteps:s}}()).maxSteps&&0<e.minSteps){if(t=u.scaleShowLabels?u.scaleLabel:"",u.scaleOverride){var A=setOptionValue(1,"SCALESTARTVALUE",h,c,v,void 0,u.scaleStartValue,-1,-1,{nullValue:!0}),x=setOptionValue(1,"SCALESTEPS",h,c,v,void 0,u.scaleSteps,-1,-1,{nullValue:!0}),V=setOptionValue(1,"SCALESTEPWIDTH",h,c,v,void 0,u.scaleStepWidth,-1,-1,{nullValue:!0});n={steps:x,stepValue:V,graphMin:A,labels:[]};for(var P=0;P<=n.steps;P++)t&&n.labels.push(tmpl(t,{value:fmtChartJS(u,1*(A+V*P).toFixed(getDecimalPlaces(V)),u.fmtYLabel)},u));f=setMeasures(c,u,h,height,width,n.labels,null,!0,!0,!0,!0,!0,"HorizontalStackedBar")}else n=calculateScale(1,u,e.maxSteps,e.minSteps,e.maxValue,e.minValue,t),f=setMeasures(c,u,h,height,width,n.labels,null,!0,!0,!0,!0,!0,"HorizontalStackedBar");f.availableHeight=f.availableHeight-Math.ceil(h.chartLineScale*u.scaleTickSizeBottom)-Math.ceil(h.chartLineScale*u.scaleTickSizeTop),f.availableWidth=f.availableWidth-Math.ceil(h.chartLineScale*u.scaleTickSizeLeft)-Math.ceil(h.chartLineScale*u.scaleTickSizeRight),a=Math.floor(f.availableHeight/c.labels.length),(0==(i=Math.floor(f.availableWidth/n.steps))||u.fullWidthGraph)&&(i=f.availableWidth/n.steps),f.clrwidth=f.clrwidth-(f.availableWidth-n.steps*i),f.availableWidth=n.steps*i,f.availableHeight=c.labels.length*a,l=f.leftNotUsableSize+Math.ceil(h.chartLineScale*u.scaleTickSizeLeft),o=f.topNotUsableSize+f.availableHeight+Math.ceil(h.chartLineScale*u.scaleTickSizeTop),0<=(g=a-2*Math.ceil(h.chartLineScale*u.scaleGridLineWidth)-2*Math.ceil(h.chartSpaceScale*u.barValueSpacing)-(Math.ceil(h.chartSpaceScale*u.barDatasetSpacing)*c.datasets.length-1)-Math.ceil(h.chartLineScale*u.barStrokeWidth)/2-1)&&g<=1&&(g=1),g<0&&-1<=g&&(g=-1),function(){if(h.font=u.scaleFontStyle+" "+Math.ceil(h.chartTextScale*u.scaleFontSize).toString()+"px "+u.scaleFontFamily,u.scaleShowLabels&&(u.xAxisTop||u.xAxisBottom)&&(h.textBaseline="top",90<f.rotateLabels?(h.save(),h.textAlign="left"):0<f.rotateLabels?(h.save(),h.textAlign="right"):h.textAlign="center",h.fillStyle=u.scaleFontColor,u.xAxisBottom))for(var e=u.showYAxisMin?-1:0;e<n.steps;e++)h.save(),0<f.rotateLabels?(h.translate(l+(e+1)*i-f.highestXLabel/2,f.xLabelPos),h.rotate(-f.rotateLabels*(Math.PI/180)),h.fillTextMultiLine(n.labels[e+1],0,0,h.textBaseline,Math.ceil(h.chartTextScale*u.scaleFontSize),!0)):h.fillTextMultiLine(n.labels[e+1],l+(e+1)*i,f.xLabelPos,h.textBaseline,Math.ceil(h.chartTextScale*u.scaleFontSize),!0),h.restore();h.textAlign="right",h.textBaseline="middle";for(var t=0;t<c.labels.length;t++)u.yAxisLeft&&(h.textAlign="right",h.fillTextMultiLine(fmtChartJS(u,c.labels[t],u.fmtXLabel),l-(Math.ceil(h.chartLineScale*u.scaleTickSizeLeft)+Math.ceil(h.chartSpaceScale*u.yAxisSpaceRight)),o-(t+1)*a+g/2,h.textBaseline,Math.ceil(h.chartTextScale*u.scaleFontSize),!0)),u.yAxisRight&&(h.textAlign="left",h.fillTextMultiLine(fmtChartJS(u,c.labels[t],u.fmtXLabel),l+f.availableWidth+(Math.ceil(h.chartLineScale*u.scaleTickSizeRight)+Math.ceil(h.chartSpaceScale*u.yAxisSpaceRight)),o-(t+1)*a+g/2,h.textBaseline,Math.ceil(h.chartTextScale*u.scaleFontSize),!0))}(),zeroY=(r=0,S=a,m=(s=n).steps*s.stepValue,y=CapValue((r-s.graphMin)/m,1,0),S*s.steps*y),initPassVariableData_part2(v,c,u,h,{yAxisPosX:l,xAxisPosY:o,barWidth:g,zeroY:zeroY,scaleHop:a,valueHop:i,calculatedScale:n}),animationLoop(u,function(){h.lineWidth=Math.ceil(h.chartLineScale*u.scaleLineWidth),h.strokeStyle=u.scaleLineColor,h.setLineDash(lineStyleFn(u.scaleLineStyle)),h.beginPath(),h.moveTo(l-Math.ceil(h.chartLineScale*u.scaleTickSizeLeft),o),h.lineTo(l+f.availableWidth,o),h.stroke(),h.setLineDash([]),h.setLineDash(lineStyleFn(u.scaleGridLineStyle));for(var e=u.showYAxisMin?-1:0;e<n.steps;e++)0<=e&&(h.beginPath(),h.moveTo(l+e*i,o+Math.ceil(h.chartLineScale*u.scaleTickSizeBottom)),h.lineWidth=Math.ceil(h.chartLineScale*u.scaleGridLineWidth),h.strokeStyle=u.scaleGridLineColor,u.scaleShowGridLines&&0<e&&e%u.scaleXGridLinesStep==0?h.lineTo(l+e*i,o-f.availableHeight-Math.ceil(h.chartLineScale*u.scaleTickSizeTop)):h.lineTo(l+e*i,o),h.stroke()),h.setLineDash([]);h.lineWidth=Math.ceil(h.chartLineScale*u.scaleLineWidth),h.strokeStyle=u.scaleLineColor,h.setLineDash(lineStyleFn(u.scaleLineStyle)),h.beginPath(),h.moveTo(l,o+Math.ceil(h.chartLineScale*u.scaleTickSizeBottom)),h.lineTo(l,o-f.availableHeight-Math.ceil(h.chartLineScale*u.scaleTickSizeTop)),h.stroke(),h.setLineDash([]),h.setLineDash(lineStyleFn(u.scaleGridLineStyle));for(var t=0;t<c.labels.length;t++)h.beginPath(),h.moveTo(l-Math.ceil(h.chartLineScale*u.scaleTickSizeLeft),o-(t+1)*a),h.lineWidth=Math.ceil(h.chartLineScale*u.scaleGridLineWidth),h.strokeStyle=u.scaleGridLineColor,u.scaleShowGridLines&&(t+1)%u.scaleYGridLinesStep==0?h.lineTo(l+f.availableWidth,o-(t+1)*a):h.lineTo(l,o-(t+1)*a),h.stroke();h.setLineDash([])},function(e){h.lineWidth=Math.ceil(h.chartLineScale*u.barStrokeWidth);for(var t=0;t<c.datasets.length;t++)for(var a=0;a<c.datasets[t].data.length;a++){var n,i,l=animationCorrection(e,c,u,t,a,1).animVal;if(1<l&&(l-=1),void 0!==c.datasets[t].data[a]&&1*c.datasets[t].data[a]!=0)u.animationByDataset?(n=v[t][a].xPosLeft,i=v[t][a].xPosRight,i=n+l*(i-n)):(n=v[v[t][a].firstNotMissing][a].xPosLeft+l*(v[t][a].xPosLeft-v[v[t][a].firstNotMissing][a].xPosLeft),i=v[v[t][a].firstNotMissing][a].xPosLeft+l*(v[t][a].xPosRight-v[v[t][a].firstNotMissing][a].xPosLeft)),h.fillStyle=setOptionValue(1,"COLOR",h,c,v,c.datasets[t].fillColor,u.defaultFillColor,t,a,{animationValue:l,xPosLeft:n,yPosBottom:v[t][a].yPosBottom,xPosRight:i,yPosTop:v[t][a].yPosBottom}),h.strokeStyle=setOptionValue(1,"STROKECOLOR",h,c,v,c.datasets[t].strokeColor,u.defaultStrokeColor,t,a,{nullvalue:null}),0!=l&&v[t][a].xPosLeft!=v[t][a].xPosRight&&(h.beginPath(),h.moveTo(n,v[t][a].yPosTop),h.lineTo(i,v[t][a].yPosTop),h.lineTo(i,v[t][a].yPosBottom),h.lineTo(n,v[t][a].yPosBottom),h.lineTo(n,v[t][a].yPosTop),u.barShowStroke&&(h.setLineDash(lineStyleFn(setOptionValue(1,"STROKESTYLE",h,c,v,c.datasets[t].datasetStrokeStyle,u.datasetStrokeStyle,t,a,{nullvalue:null}))),h.stroke(),h.setLineDash([])),h.closePath(),h.fill())}if(e>=u.animationStopValue){var o=0,r=0;for(t=0;t<c.datasets.length;t++)for(a=0;a<c.datasets[t].data.length;a++)if(void 0!==c.datasets[t].data[a]&&(setOptionValue(1,"ANNOTATEDISPLAY",h,c,v,void 0,u.annotateDisplay,t,a,{nullValue:!0})&&(jsGraphAnnotate[h.ChartNewId][jsGraphAnnotate[h.ChartNewId].length]=["RECT",t,a,v]),setOptionValue(1,"INGRAPHDATASHOW",h,c,v,void 0,u.inGraphDataShow,t,a,{nullValue:!0}))){h.save(),h.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",h,c,v,void 0,u.inGraphDataAlign,t,a,{nullValue:!0}),h.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",h,c,v,void 0,u.inGraphDataVAlign,t,a,{nullValue:!0}),h.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",h,c,v,void 0,u.inGraphDataFontStyle,t,a,{nullValue:!0})+" "+setOptionValue(h.chartTextScale,"INGRAPHDATAFONTSIZE",h,c,v,void 0,u.inGraphDataFontSize,t,a,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",h,c,v,void 0,u.inGraphDataFontFamily,t,a,{nullValue:!0}),h.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",h,c,v,void 0,u.inGraphDataFontColor,t,a,{nullValue:!0});var s=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",h,c,v,void 0,u.inGraphDataTmpl,t,a,{nullValue:!0}),v[t][a],u);h.beginPath(),1==setOptionValue(1,"INGRAPHDATAXPOSITION",h,c,v,void(r=o=0),u.inGraphDataXPosition,t,a,{nullValue:!0})?r=v[t][a].xPosLeft+setOptionValue(h.chartSpaceScale,"INGRAPHDATAPADDINGX",h,c,v,void 0,u.inGraphDataPaddingX,t,a,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATAXPOSITION",h,c,v,void 0,u.inGraphDataXPosition,t,a,{nullValue:!0})?r=v[t][a].xPosLeft+(v[t][a].xPosRight-v[t][a].xPosLeft)/2+setOptionValue(h.chartSpaceScale,"INGRAPHDATAPADDINGX",h,c,v,void 0,u.inGraphDataPaddingX,t,a,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATAXPOSITION",h,c,v,void 0,u.inGraphDataXPosition,t,a,{nullValue:!0})&&(r=v[t][a].xPosRight+setOptionValue(h.chartSpaceScale,"INGRAPHDATAPADDINGX",h,c,v,void 0,u.inGraphDataPaddingX,t,a,{nullValue:!0})),1==setOptionValue(1,"INGRAPHDATAYPOSITION",h,c,v,void 0,u.inGraphDataYPosition,t,a,{nullValue:!0})?o=v[t][a].yPosBottom-setOptionValue(h.chartSpaceScale,"INGRAPHDATAPADDINGY",h,c,v,void 0,u.inGraphDataPaddingY,t,a,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATAYPOSITION",h,c,v,void 0,u.inGraphDataYPosition,t,a,{nullValue:!0})?o=v[t][a].yPosBottom-g/2-setOptionValue(h.chartSpaceScale,"INGRAPHDATAPADDINGY",h,c,v,void 0,u.inGraphDataPaddingY,t,a,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATAYPOSITION",h,c,v,void 0,u.inGraphDataYPosition,t,a,{nullValue:!0})&&(o=v[t][a].yPosTop-setOptionValue(h.chartSpaceScale,"INGRAPHDATAPADDINGY",h,c,v,void 0,u.inGraphDataPaddingY,t,a,{nullValue:!0})),h.translate(r,o),h.rotate(setOptionValue(1,"INGRAPHDATAROTATE",h,c,v,void 0,u.inGraphDataRotate,t,a,{nullValue:!0})*(Math.PI/180)),setTextBordersAndBackground(h,s,setOptionValue(h.chartTextScale,"INGRAPHDATAFONTSIZE",h,c,v,void 0,u.inGraphDataFontSize,t,a,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",h,c,v,void 0,u.inGraphDataBorders,t,a,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",h,c,v,void 0,u.inGraphDataBordersColor,t,a,{nullValue:!0}),setOptionValue(h.chartLineScale,"INGRAPHDATABORDERSWIDTH",h,c,v,void 0,u.inGraphDataBordersWidth,t,a,{nullValue:!0}),setOptionValue(h.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",h,c,v,void 0,u.inGraphDataBordersXSpace,t,a,{nullValue:!0}),setOptionValue(h.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",h,c,v,void 0,u.inGraphDataBordersYSpace,t,a,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",h,c,v,void 0,u.inGraphDataBordersStyle,t,a,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",h,c,v,void 0,u.inGraphDataBackgroundColor,t,a,{nullValue:!0}),"INGRAPHDATA"),h.fillTextMultiLine(s,0,0,h.textBaseline,setOptionValue(h.chartTextScale,"INGRAPHDATAFONTSIZE",h,c,v,void 0,u.inGraphDataFontSize,t,a,{nullValue:!0}),!0),h.restore()}}f.legendMsr.dispLegend&&drawLegend(f.legendMsr,c,u,h,"HorizontalStackedBar")},h,f.clrx,f.clry,f.clrwidth,f.clrheight,l+f.availableWidth/2,o-f.availableHeight/2,l,o,c)}else testRedraw(h,c,u)}},Bar=function(data,config,ctx){var maxSize,scaleHop,scaleHop2,calculatedScale,calculatedScale2,labelHeight,scaleHeight,valueBounds,labelTemplateString,labelTemplateString2,valueHop,widestXLabel,xAxisLength,yAxisPosX,xAxisPosY,barWidth,rotateLabels=0,msr;if(ctx.tpchart="Bar",init_and_start(ctx,data,config)){for(var statData=initPassVariableData_part1(data,config,ctx),nrOfBars=data.datasets.length,i=0;i<data.datasets.length;i++)"Line"==data.datasets[i].type?(statData[i][0].tpchart="Line",nrOfBars--):statData[i][0].tpchart="Bar";var bufferDataset,l=0;if(msr=setMeasures(data,config,ctx,height,width,"nihil",[""],!0,!1,!0,!0,!0,"Bar"),valueBounds=getValueBounds(),valueBounds.minValue<=0&&(config.logarithmic=!1),0<valueBounds.maxSteps&&0<valueBounds.minSteps){!1!==config.logarithmic&&valueBounds.minValue<=0&&(config.logarithmic=!1),!1!==config.logarithmic2&&valueBounds.minValue2<=0&&(config.logarithmic2=!1);var OrderOfMagnitude=calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(valueBounds.maxValue)+1))-calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(valueBounds.minValue)));("fuzzy"==config.logarithmic&&OrderOfMagnitude<4||config.scaleOverride)&&(config.logarithmic=!1);var OrderOfMagnitude2=calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(valueBounds.maxValue2)+1))-calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(valueBounds.minValue2)));if(("fuzzy"==config.logarithmic2&&OrderOfMagnitude2<4||config.scaleOverride2)&&(config.logarithmic2=!1),labelTemplateString=config.scaleShowLabels?config.scaleLabel:"",labelTemplateString2=config.scaleShowLabels2?config.scaleLabel2:"",config.scaleOverride){var scaleStartValue=setOptionValue(1,"SCALESTARTVALUE",ctx,data,statData,void 0,config.scaleStartValue,-1,-1,{nullValue:!0}),scaleSteps=setOptionValue(1,"SCALESTEPS",ctx,data,statData,void 0,config.scaleSteps,-1,-1,{nullValue:!0}),scaleStepWidth=setOptionValue(1,"SCALESTEPWIDTH",ctx,data,statData,void 0,config.scaleStepWidth,-1,-1,{nullValue:!0});calculatedScale={steps:scaleSteps,stepValue:scaleStepWidth,graphMin:scaleStartValue,graphMax:scaleStartValue+scaleSteps*scaleStepWidth,labels:[]},populateLabels(1,config,labelTemplateString,calculatedScale.labels,calculatedScale.steps,scaleStartValue,calculatedScale.graphMax,scaleStepWidth)}else calculatedScale=calculateScale(1,config,valueBounds.maxSteps,valueBounds.minSteps,valueBounds.maxValue,valueBounds.minValue,labelTemplateString);if(valueBounds.dbAxis)if(config.scaleOverride2){var scaleStartValue2=setOptionValue(1,"SCALESTARTVALUE2",ctx,data,statData,void 0,config.scaleStartValue2,-1,-1,{nullValue:!0}),scaleSteps2=setOptionValue(1,"SCALESTEPS2",ctx,data,statData,void 0,config.scaleSteps2,-1,-1,{nullValue:!0}),scaleStepWidth2=setOptionValue(1,"SCALESTEPWIDTH2",ctx,data,statData,void 0,config.scaleStepWidth2,-1,-1,{nullValue:!0});calculatedScale2={steps:scaleSteps2,stepValue:scaleStepWidth2,graphMin:scaleStartValue2,graphMax:scaleStartValue2+scaleSteps2*scaleStepWidth2,labels:[]},populateLabels(2,config,labelTemplateString2,calculatedScale2.labels,calculatedScale2.steps,scaleStartValue2,calculatedScale2.graphMax,scaleStepWidth2)}else calculatedScale2=calculateScale(2,config,valueBounds.maxSteps,valueBounds.minSteps,valueBounds.maxValue2,valueBounds.minValue2,labelTemplateString);else calculatedScale2={steps:0,stepValue:0,graphMin:0,graphMax:0,labels:null};msr=setMeasures(data,config,ctx,height,width,calculatedScale.labels,calculatedScale2.labels,!0,!1,!0,!0,!0,"Bar");var prevHeight=msr.availableHeight;msr.availableHeight=msr.availableHeight-Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)-Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop),msr.availableWidth=msr.availableWidth-Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft)-Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight),scaleHop=Math.floor(msr.availableHeight/calculatedScale.steps),scaleHop2=Math.floor(msr.availableHeight/calculatedScale2.steps),valueHop=Math.floor(msr.availableWidth/data.labels.length),(0==valueHop||config.fullWidthGraph)&&(valueHop=msr.availableWidth/data.labels.length),msr.clrwidth=msr.clrwidth-(msr.availableWidth-data.labels.length*valueHop),msr.availableWidth=data.labels.length*valueHop,msr.availableHeight=calculatedScale.steps*scaleHop,msr.xLabelPos+=Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)+Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop)-(prevHeight-msr.availableHeight),msr.clrheight+=Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)+Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop)-(prevHeight-msr.availableHeight),yAxisPosX=msr.leftNotUsableSize+Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft),xAxisPosY=msr.topNotUsableSize+msr.availableHeight+Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop),barWidth=(valueHop-2*Math.ceil(ctx.chartLineScale*config.scaleGridLineWidth)-2*Math.ceil(ctx.chartSpaceScale*config.barValueSpacing)-(Math.ceil(ctx.chartSpaceScale*config.barDatasetSpacing)*nrOfBars-1)-(Math.ceil(ctx.chartLineScale*config.barStrokeWidth)/2*nrOfBars-1))/nrOfBars,0<=barWidth&&barWidth<=1&&(barWidth=1),barWidth<0&&-1<=barWidth&&(barWidth=-1);var zeroY=0,zeroY2=0;valueBounds.minValue<0&&(zeroY=calculateOffset(config.logarithmic,0,calculatedScale,scaleHop)),valueBounds.minValue2<0&&(zeroY2=calculateOffset(config.logarithmic2,0,calculatedScale2,scaleHop2)),initPassVariableData_part2(statData,data,config,ctx,{msr:msr,yAxisPosX:yAxisPosX,xAxisPosY:xAxisPosY,valueHop:valueHop,barWidth:barWidth,zeroY:zeroY,zeroY2:zeroY2,calculatedScale:calculatedScale,calculatedScale2:calculatedScale2,scaleHop:scaleHop,scaleHop2:scaleHop2}),drawLabels(),animationLoop(config,drawScale,drawBars,ctx,msr.clrx,msr.clry,msr.clrwidth,msr.clrheight,yAxisPosX+msr.availableWidth/2,xAxisPosY-msr.availableHeight/2,yAxisPosX,xAxisPosY,data)}else testRedraw(ctx,data,config)}function drawBars(e){ctx.lineWidth=Math.ceil(ctx.chartLineScale*config.barStrokeWidth);for(var t=0;t<data.datasets.length;t++)if("Line"!=data.datasets[t].type)for(var a=0;a<data.datasets[t].data.length;a++)if(void 0!==data.datasets[t].data[a]){var n=animationCorrection(e,data,config,t,a,1).animVal;1<n&&(n-=1);var i=n*statData[t][a].barHeight+Math.ceil(ctx.chartLineScale*config.barStrokeWidth)/2;ctx.fillStyle=setOptionValue(1,"COLOR",ctx,data,statData,data.datasets[t].fillColor,config.defaultFillColor,t,a,{animationValue:n,xPosLeft:statData[t][a].xPosLeft,yPosBottom:statData[t][a].yPosBottom,xPosRight:statData[t][a].xPosLeft+barWidth,yPosTop:statData[t][a].yPosBottom-i}),ctx.strokeStyle=setOptionValue(1,"STROKECOLOR",ctx,data,statData,data.datasets[t].strokeColor,config.defaultStrokeColor,t,a,{nullvalue:null}),roundRect(ctx,statData[t][a].xPosLeft,statData[t][a].yPosBottom,barWidth,i,config.barShowStroke,config.barBorderRadius,t,a)}if(drawLinesDataset(e,data,config,ctx,statData,{xAxisPosY:xAxisPosY,yAxisPosX:yAxisPosX,valueHop:valueHop,nbValueHop:data.labels.length}),e>=config.animationStopValue)for(t=0;t<data.datasets.length;t++)for(a=0;a<data.datasets[t].data.length;a++)if(void 0!==data.datasets[t].data[a]&&"Line"!=data.datasets[t].type&&(setOptionValue(1,"ANNOTATEDISPLAY",ctx,data,statData,void 0,config.annotateDisplay,t,a,{nullValue:!0})&&(jsGraphAnnotate[ctx.ChartNewId][jsGraphAnnotate[ctx.ChartNewId].length]=["RECT",t,a,statData]),setOptionValue(1,"INGRAPHDATASHOW",ctx,data,statData,void 0,config.inGraphDataShow,t,a,{nullValue:!0}))){ctx.save(),ctx.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",ctx,data,statData,void 0,config.inGraphDataAlign,t,a,{nullValue:!0}),ctx.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",ctx,data,statData,void 0,config.inGraphDataVAlign,t,a,{nullValue:!0}),ctx.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",ctx,data,statData,void 0,config.inGraphDataFontStyle,t,a,{nullValue:!0})+" "+setOptionValue(ctx.chartTextScale,"INGRAPHDATAFONTSIZE",ctx,data,statData,void 0,config.inGraphDataFontSize,t,a,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",ctx,data,statData,void 0,config.inGraphDataFontFamily,t,a,{nullValue:!0}),ctx.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",ctx,data,statData,void 0,config.inGraphDataFontColor,t,a,{nullValue:!0}),statData[t][a].yPosBottom,statData[t][a].yPosTop,ctx.beginPath();var l=0,o=0;1==setOptionValue(1,"INGRAPHDATAXPOSITION",ctx,data,statData,void 0,config.inGraphDataXPosition,t,a,{nullValue:!0})?o=statData[t][a].xPosLeft+setOptionValue(ctx.chartSpaceScale,"INGRAPHDATAPADDINGX",ctx,data,statData,void 0,config.inGraphDataPaddingX,t,a,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATAXPOSITION",ctx,data,statData,void 0,config.inGraphDataXPosition,t,a,{nullValue:!0})?o=statData[t][a].xPosLeft+barWidth/2+setOptionValue(ctx.chartSpaceScale,"INGRAPHDATAPADDINGX",ctx,data,statData,void 0,config.inGraphDataPaddingX,t,a,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATAXPOSITION",ctx,data,statData,void 0,config.inGraphDataXPosition,t,a,{nullValue:!0})&&(o=statData[t][a].xPosLeft+barWidth+setOptionValue(ctx.chartSpaceScale,"INGRAPHDATAPADDINGX",ctx,data,statData,void 0,config.inGraphDataPaddingX,t,a,{nullValue:!0})),1==setOptionValue(1,"INGRAPHDATAYPOSITION",ctx,data,statData,void 0,config.inGraphDataYPosition,t,a,{nullValue:!0})?l=statData[t][a].yPosBottom-setOptionValue(ctx.chartSpaceScale,"INGRAPHDATAPADDINGY",ctx,data,statData,void 0,config.inGraphDataPaddingY,t,a,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATAYPOSITION",ctx,data,statData,void 0,config.inGraphDataYPosition,t,a,{nullValue:!0})?l=(statData[t][a].yPosBottom+statData[t][a].yPosTop)/2-setOptionValue(ctx.chartSpaceScale,"INGRAPHDATAPADDINGY",ctx,data,statData,void 0,config.inGraphDataPaddingY,t,a,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATAYPOSITION",ctx,data,statData,void 0,config.inGraphDataYPosition,t,a,{nullValue:!0})&&(l=statData[t][a].yPosTop-setOptionValue(ctx.chartSpaceScale,"INGRAPHDATAPADDINGY",ctx,data,statData,void 0,config.inGraphDataPaddingY,t,a,{nullValue:!0})),ctx.translate(o,l);var r=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",ctx,data,statData,void 0,config.inGraphDataTmpl,t,a,{nullValue:!0}),statData[t][a],config);ctx.rotate(setOptionValue(1,"INGRAPHDATAROTATE",ctx,data,statData,void 0,config.inGraphDataRotate,t,a,{nullValue:!0})*(Math.PI/180)),setTextBordersAndBackground(ctx,r,setOptionValue(ctx.chartTextScale,"INGRAPHDATAFONTSIZE",ctx,data,statData,void 0,config.inGraphDataFontSize,t,a,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",ctx,data,statData,void 0,config.inGraphDataBorders,t,a,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",ctx,data,statData,void 0,config.inGraphDataBordersColor,t,a,{nullValue:!0}),setOptionValue(ctx.chartLineScale,"INGRAPHDATABORDERSWIDTH",ctx,data,statData,void 0,config.inGraphDataBordersWidth,t,a,{nullValue:!0}),setOptionValue(ctx.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",ctx,data,statData,void 0,config.inGraphDataBordersXSpace,t,a,{nullValue:!0}),setOptionValue(ctx.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",ctx,data,statData,void 0,config.inGraphDataBordersYSpace,t,a,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",ctx,data,statData,void 0,config.inGraphDataBordersStyle,t,a,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",ctx,data,statData,void 0,config.inGraphDataBackgroundColor,t,a,{nullValue:!0}),"INGRAPHDATA"),ctx.fillTextMultiLine(r,0,0,ctx.textBaseline,setOptionValue(ctx.chartTextScale,"INGRAPHDATAFONTSIZE",ctx,data,statData,void 0,config.inGraphDataFontSize,t,a,{nullValue:!0}),!0),ctx.restore()}1<=e&&"function"==typeof drawMath&&drawMath(ctx,config,data,msr,{xAxisPosY:xAxisPosY,yAxisPosX:yAxisPosX,valueHop:valueHop,scaleHop:scaleHop,zeroY:zeroY,calculatedScale:calculatedScale,calculateOffset:calculateOffset,barWidth:barWidth}),msr.legendMsr.dispLegend&&drawLegend(msr.legendMsr,data,config,ctx,"Bar")}function roundRect(e,t,a,n,i,l,o,r,s){e.beginPath(),e.setLineDash(lineStyleFn(setOptionValue(1,"STROKESTYLE",e,data,statData,data.datasets[r].datasetStrokeStyle,config.datasetStrokeStyle,r,s,{nullvalue:null}))),e.moveTo(t+o,a),e.lineTo(t+n-o,a),e.quadraticCurveTo(t+n,a,t+n,a),e.lineTo(t+n,a-i+o),e.quadraticCurveTo(t+n,a-i,t+n-o,a-i),e.lineTo(t+o,a-i),e.quadraticCurveTo(t,a-i,t,a-i+o),e.lineTo(t,a),e.quadraticCurveTo(t,a,t+o,a),l&&e.stroke(),e.closePath(),e.fill(),e.setLineDash([])}function drawScale(){ctx.lineWidth=Math.ceil(ctx.chartLineScale*config.scaleLineWidth),ctx.strokeStyle=config.scaleLineColor,ctx.setLineDash(lineStyleFn(config.scaleLineStyle)),ctx.beginPath(),ctx.moveTo(yAxisPosX-Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft),xAxisPosY),ctx.lineTo(yAxisPosX+msr.availableWidth+Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight),xAxisPosY),ctx.stroke(),ctx.setLineDash([]),ctx.setLineDash(lineStyleFn(config.scaleGridLineStyle));for(var e=0;e<data.labels.length;e++)ctx.beginPath(),ctx.moveTo(yAxisPosX+e*valueHop,xAxisPosY+Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)),ctx.lineWidth=Math.ceil(ctx.chartLineScale*config.scaleGridLineWidth),ctx.strokeStyle=config.scaleGridLineColor,config.scaleShowGridLines&&0<e&&e%config.scaleXGridLinesStep==0?ctx.lineTo(yAxisPosX+e*valueHop,xAxisPosY-msr.availableHeight-Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop)):ctx.lineTo(yAxisPosX+e*valueHop,xAxisPosY),ctx.stroke();ctx.setLineDash([]),ctx.lineWidth=Math.ceil(ctx.chartLineScale*config.scaleLineWidth),ctx.strokeStyle=config.scaleLineColor,ctx.setLineDash(lineStyleFn(config.scaleLineStyle)),ctx.beginPath(),ctx.moveTo(yAxisPosX,xAxisPosY+Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)),ctx.lineTo(yAxisPosX,xAxisPosY-msr.availableHeight-Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop)),ctx.stroke(),ctx.setLineDash([]),ctx.setLineDash(lineStyleFn(config.scaleGridLineStyle));for(var t=0;t<calculatedScale.steps;t++)ctx.beginPath(),ctx.moveTo(yAxisPosX-Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft),xAxisPosY-(t+1)*scaleHop),ctx.lineWidth=Math.ceil(ctx.chartLineScale*config.scaleGridLineWidth),ctx.strokeStyle=config.scaleGridLineColor,config.scaleShowGridLines&&(t+1)%config.scaleYGridLinesStep==0?ctx.lineTo(yAxisPosX+msr.availableWidth+Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight),xAxisPosY-(t+1)*scaleHop):ctx.lineTo(yAxisPosX,xAxisPosY-(t+1)*scaleHop),ctx.stroke();ctx.setLineDash([])}function drawLabels(){if(ctx.font=config.scaleFontStyle+" "+Math.ceil(ctx.chartTextScale*config.scaleFontSize).toString()+"px "+config.scaleFontFamily,(config.xAxisTop||config.xAxisBottom)&&(ctx.textBaseline="top",90<msr.rotateLabels?(ctx.save(),ctx.textAlign="left"):0<msr.rotateLabels?(ctx.save(),ctx.textAlign="right"):ctx.textAlign="center",ctx.fillStyle=config.scaleFontColor,config.xAxisBottom))for(var e=0;e<data.labels.length;e++)ctx.save(),0<msr.rotateLabels?(ctx.translate(yAxisPosX+e*valueHop+valueHop/2-msr.highestXLabel/2,msr.xLabelPos),ctx.rotate(-msr.rotateLabels*(Math.PI/180)),ctx.fillTextMultiLine(fmtChartJS(config,data.labels[e],config.fmtXLabel),0,0,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0)):ctx.fillTextMultiLine(fmtChartJS(config,data.labels[e],config.fmtXLabel),yAxisPosX+e*valueHop+valueHop/2,msr.xLabelPos,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0),ctx.restore();ctx.textAlign="right",ctx.textBaseline="middle";for(var t=config.showYAxisMin?-1:0;t<calculatedScale.steps;t++)config.scaleShowLabels&&(config.yAxisLeft&&(ctx.textAlign="right",ctx.fillTextMultiLine(calculatedScale.labels[t+1],yAxisPosX-(Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft)+Math.ceil(ctx.chartSpaceScale*config.yAxisSpaceRight)),xAxisPosY-(t+1)*scaleHop,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0)),config.yAxisRight&&!valueBounds.dbAxis&&(ctx.textAlign="left",ctx.fillTextMultiLine(calculatedScale.labels[t+1],yAxisPosX+msr.availableWidth+(Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight)+Math.ceil(ctx.chartSpaceScale*config.yAxisSpaceRight)),xAxisPosY-(t+1)*scaleHop,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0)));if(config.yAxisRight&&valueBounds.dbAxis)for(t=config.showYAxisMin?-1:0;t<calculatedScale2.steps;t++)config.scaleShowLabels&&(ctx.textAlign="left",ctx.fillTextMultiLine(calculatedScale2.labels[t+1],yAxisPosX+msr.availableWidth+(Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight)+Math.ceil(ctx.chartSpaceScale*config.yAxisSpaceRight)),xAxisPosY-(t+1)*scaleHop2,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0))}function getValueBounds(){for(var upperValue=-Number.MAX_VALUE,lowerValue=Number.MAX_VALUE,upperValue2=-Number.MAX_VALUE,lowerValue2=Number.MAX_VALUE,secondAxis=!1,firstAxis=!1,i=0;i<data.datasets.length;i++){var mathFctName=data.datasets[i].drawMathDeviation,mathValueHeight=0;if("function"==typeof eval(mathFctName)){var parameter={data:data,datasetNr:i};mathValueHeight=window[mathFctName](parameter)}for(var j=0;j<data.datasets[i].data.length;j++)void 0!==data.datasets[i].data[j]&&(2==data.datasets[i].axis?(secondAxis=!0,1*data.datasets[i].data[j]+mathValueHeight>upperValue2&&(upperValue2=1*data.datasets[i].data[j]+mathValueHeight),1*data.datasets[i].data[j]-mathValueHeight<lowerValue2&&(lowerValue2=1*data.datasets[i].data[j]-mathValueHeight)):(firstAxis=!0,1*data.datasets[i].data[j]+mathValueHeight>upperValue&&(upperValue=1*data.datasets[i].data[j]+mathValueHeight),1*data.datasets[i].data[j]-mathValueHeight<lowerValue&&(lowerValue=1*data.datasets[i].data[j]-mathValueHeight)))}upperValue<lowerValue&&(upperValue=0,lowerValue=0),Math.abs(upperValue-lowerValue)<config.zeroValue&&(Math.abs(upperValue)<config.zeroValue&&(upperValue=.9),0<upperValue?(upperValue*=1.1,lowerValue*=.9):(upperValue*=.9,lowerValue*=1.1)),"function"==typeof config.graphMin?lowerValue=setOptionValue(1,"GRAPHMIN",ctx,data,statData,void 0,config.graphMin,-1,-1,{nullValue:!0}):isNaN(config.graphMin)||(lowerValue=config.graphMin),"function"==typeof config.graphMax?upperValue=setOptionValue(1,"GRAPHMAX",ctx,data,statData,void 0,config.graphMax,-1,-1,{nullValue:!0}):isNaN(config.graphMax)||(upperValue=config.graphMax),secondAxis&&(upperValue2<lowerValue2&&(upperValue2=0,lowerValue2=0),Math.abs(upperValue2-lowerValue2)<config.zeroValue&&(Math.abs(upperValue2)<config.zeroValue&&(upperValue2=.9),0<upperValue2?(upperValue2*=1.1,lowerValue2*=.9):(upperValue2*=.9,lowerValue2*=1.1)),"function"==typeof config.graphMin2?lowerValue2=setOptionValue(1,"GRAPHMIN",ctx,data,statData,void 0,config.graphMin2,-1,-1,{nullValue:!0}):isNaN(config.graphMin2)||(lowerValue2=config.graphMin2),"function"==typeof config.graphMax2?upperValue2=setOptionValue(1,"GRAPHMAX",ctx,data,statData,void 0,config.graphMax2,-1,-1,{nullValue:!0}):isNaN(config.graphMax2)||(upperValue2=config.graphMax2)),!firstAxis&&secondAxis&&(upperValue=upperValue2,lowerValue=lowerValue2),labelHeight=Math.ceil(ctx.chartTextScale*config.scaleFontSize),scaleHeight=msr.availableHeight;var maxSteps=Math.floor(scaleHeight/(.66*labelHeight)),minSteps=Math.floor(scaleHeight/labelHeight*.5);return{maxValue:upperValue,minValue:lowerValue,maxValue2:upperValue2,minValue2:lowerValue2,dbAxis:secondAxis,maxSteps:maxSteps,minSteps:minSteps}}},HorizontalBar=function(u,h,s){var a,n,o,r,e,t,i,l,c,d,p;if(s.tpchart="HorizontalBar",init_and_start(s,u,h)){h.reverseOrder&&void 0===s.reversed&&(s.reversed=!0,u=reverseData(u));var g=initPassVariableData_part1(u,h,s);if(p=setMeasures(u,h,s,height,width,"nihil",[""],!0,!0,!0,!0,!0,"StackedBar"),(e=function(){for(var e=-Number.MAX_VALUE,t=Number.MAX_VALUE,a=0;a<u.datasets.length;a++)for(var n=0;n<u.datasets[a].data.length;n++)void 0!==u.datasets[a].data[n]&&(1*u.datasets[a].data[n]>e&&(e=1*u.datasets[a].data[n]),1*u.datasets[a].data[n]<t&&(t=1*u.datasets[a].data[n]));e<t&&(t=e=0);Math.abs(e-t)<h.zeroValue&&(Math.abs(e)<h.zeroValue&&(e=.9),0<e?(e*=1.1,t*=.9):(e*=.9,t*=1.1));"function"==typeof h.graphMin?t=setOptionValue(1,"GRAPHMIN",s,u,g,void 0,h.graphMin,-1,-1,{nullValue:!0}):isNaN(h.graphMin)||(t=h.graphMin);"function"==typeof h.graphMax?e=setOptionValue(1,"GRAPHMAX",s,u,g,void 0,h.graphMax,-1,-1,{nullValue:!0}):isNaN(h.graphMax)||(e=h.graphMax);o=Math.ceil(s.chartTextScale*h.scaleFontSize),r=p.availableHeight;var i=Math.floor(r/(.66*o)),l=Math.floor(r/o*.5);return{maxValue:e,minValue:t,maxSteps:i,minSteps:l}}()).minValue<=0&&(h.logarithmic=!1),0<e.maxSteps&&0<e.minSteps){if(!1!==h.logarithmic&&e.minValue<=0&&(h.logarithmic=!1),t=h.scaleShowLabels?h.scaleLabel:"",h.scaleOverride){var f=setOptionValue(1,"SCALESTARTVALUE",s,u,g,void 0,h.scaleStartValue,-1,-1,{nullValue:!0}),S=setOptionValue(1,"SCALESTEPS",s,u,g,void 0,h.scaleSteps,-1,-1,{nullValue:!0}),m=setOptionValue(1,"SCALESTEPWIDTH",s,u,g,void 0,h.scaleStepWidth,-1,-1,{nullValue:!0});populateLabels(1,h,t,(n={steps:S,stepValue:m,graphMin:f,graphMax:f+S*m,labels:[]}).labels,n.steps,f,n.graphMax,m),p=setMeasures(u,h,s,height,width,n.labels,null,!0,!0,!0,!0,!0,"HorizontalBar")}else n=calculateScale(1,h,e.maxSteps,e.minSteps,e.maxValue,e.minValue,t),p=setMeasures(u,h,s,height,width,n.labels,null,!0,!0,!0,!0,!0,"HorizontalBar");p.availableHeight=p.availableHeight-Math.ceil(s.chartLineScale*h.scaleTickSizeBottom)-Math.ceil(s.chartLineScale*h.scaleTickSizeTop),p.availableWidth=p.availableWidth-Math.ceil(s.chartLineScale*h.scaleTickSizeLeft)-Math.ceil(s.chartLineScale*h.scaleTickSizeRight),a=Math.floor(p.availableHeight/u.labels.length),(0==(i=Math.floor(p.availableWidth/n.steps))||h.fullWidthGraph)&&(i=p.availableWidth/n.steps),p.clrwidth=p.clrwidth-(p.availableWidth-n.steps*i),p.availableWidth=n.steps*i,p.availableHeight=u.labels.length*a,l=p.leftNotUsableSize+Math.ceil(s.chartLineScale*h.scaleTickSizeLeft),c=p.topNotUsableSize+p.availableHeight+Math.ceil(s.chartLineScale*h.scaleTickSizeTop),0<=(d=(a-2*Math.ceil(s.chartLineScale*h.scaleGridLineWidth)-2*Math.ceil(s.chartSpaceScale*h.barValueSpacing)-(Math.ceil(s.chartSpaceScale*h.barDatasetSpacing)*u.datasets.length-1)-(Math.ceil(s.chartLineScale*h.barStrokeWidth)/2*u.datasets.length-1))/u.datasets.length)&&d<=1&&(d=1),d<0&&-1<=d&&(d=-1);var y=0;e.minValue<0&&(y=calculateOffset(h.logarithmic,0,n,i)),function(){if(s.font=h.scaleFontStyle+" "+Math.ceil(s.chartTextScale*h.scaleFontSize).toString()+"px "+h.scaleFontFamily,h.scaleShowLabels&&(h.xAxisTop||h.xAxisBottom)&&(s.textBaseline="top",90<p.rotateLabels?(s.save(),s.textAlign="left"):0<p.rotateLabels?(s.save(),s.textAlign="right"):s.textAlign="center",s.fillStyle=h.scaleFontColor,h.xAxisBottom))for(var e=h.showYAxisMin?-1:0;e<n.steps;e++)s.save(),0<p.rotateLabels?(s.translate(l+(e+1)*i-p.highestXLabel/2,p.xLabelPos),s.rotate(-p.rotateLabels*(Math.PI/180)),s.fillTextMultiLine(n.labels[e+1],0,0,s.textBaseline,Math.ceil(s.chartTextScale*h.scaleFontSize),!0)):s.fillTextMultiLine(n.labels[e+1],l+(e+1)*i,p.xLabelPos,s.textBaseline,Math.ceil(s.chartTextScale*h.scaleFontSize),!0),s.restore();s.textAlign="right",s.textBaseline="middle";for(var t=0;t<u.labels.length;t++)h.yAxisLeft&&(s.textAlign="right",s.fillTextMultiLine(fmtChartJS(h,u.labels[t],h.fmtXLabel),l-(Math.ceil(s.chartLineScale*h.scaleTickSizeLeft)+Math.ceil(s.chartSpaceScale*h.yAxisSpaceRight)),c-t*a-a/2,s.textBaseline,Math.ceil(s.chartTextScale*h.scaleFontSize),!0)),h.yAxisRight&&(s.textAlign="left",s.fillTextMultiLine(fmtChartJS(h,u.labels[t],h.fmtXLabel),l+p.availableWidth+(Math.ceil(s.chartLineScale*h.scaleTickSizeRight)+Math.ceil(s.chartSpaceScale*h.yAxisSpaceRight)),c-t*a-a/2,s.textBaseline,Math.ceil(s.chartTextScale*h.scaleFontSize),!0))}(),initPassVariableData_part2(g,u,h,s,{yAxisPosX:l,xAxisPosY:c,barWidth:d,zeroY:y,scaleHop:a,valueHop:i,calculatedScale:n}),animationLoop(h,function(){s.lineWidth=Math.ceil(s.chartLineScale*h.scaleLineWidth),s.strokeStyle=h.scaleLineColor,s.setLineDash(lineStyleFn(h.scaleLineStyle)),s.beginPath(),s.moveTo(l-Math.ceil(s.chartLineScale*h.scaleTickSizeLeft),c),s.lineTo(l+p.availableWidth+Math.ceil(s.chartLineScale*h.scaleTickSizeRight),c),s.stroke(),s.setLineDash([]),s.setLineDash(lineStyleFn(h.scaleGridLineStyle));for(var e=h.showYAxisMin?-1:0;e<n.steps;e++)0<=e&&(s.beginPath(),s.moveTo(l+e*i,c+Math.ceil(s.chartLineScale*h.scaleTickSizeBottom)),s.lineWidth=Math.ceil(s.chartLineScale*h.scaleGridLineWidth),s.strokeStyle=h.scaleGridLineColor,h.scaleShowGridLines&&0<e&&e%h.scaleXGridLinesStep==0?s.lineTo(l+e*i,c-p.availableHeight-Math.ceil(s.chartLineScale*h.scaleTickSizeTop)):s.lineTo(l+e*i,c),s.stroke());s.setLineDash([]),s.lineWidth=Math.ceil(s.chartLineScale*h.scaleLineWidth),s.strokeStyle=h.scaleLineColor,s.setLineDash(lineStyleFn(h.scaleLineStyle)),s.beginPath(),s.moveTo(l,c+Math.ceil(s.chartLineScale*h.scaleTickSizeBottom)),s.lineTo(l,c-p.availableHeight-Math.ceil(s.chartLineScale*h.scaleTickSizeTop)),s.stroke(),s.setLineDash([]),s.setLineDash(lineStyleFn(h.scaleGridLineStyle));for(var t=0;t<u.labels.length;t++)s.beginPath(),s.moveTo(l-Math.ceil(s.chartLineScale*h.scaleTickSizeLeft),c-(t+1)*a),s.lineWidth=Math.ceil(s.chartLineScale*h.scaleGridLineWidth),s.strokeStyle=h.scaleGridLineColor,h.scaleShowGridLines&&(t+1)%h.scaleYGridLinesStep==0?s.lineTo(l+p.availableWidth+Math.ceil(s.chartLineScale*h.scaleTickSizeRight),c-(t+1)*a):s.lineTo(l,c-(t+1)*a),s.stroke();s.setLineDash([])},function(e){for(var t=0;t<u.datasets.length;t++)for(var a=0;a<u.datasets[t].data.length;a++){s.lineWidth=Math.ceil(s.chartLineScale*h.barStrokeWidth);var n=animationCorrection(e,u,h,t,a,1).animVal;1<n&&(n-=1);var i=n*g[t][a].barWidth+Math.ceil(s.chartLineScale*h.barStrokeWidth)/2;s.fillStyle=setOptionValue(1,"COLOR",s,u,g,u.datasets[t].fillColor,h.defaultFillColor,t,a,{animationValue:n,xPosLeft:g[t][a].xPosLeft,yPosBottom:g[t][a].yPosBottom,xPosRight:g[t][a].xPosLeft+i,yPosTop:g[t][a].yPosBottom}),s.strokeStyle=setOptionValue(1,"STROKECOLOR",s,u,g,u.datasets[t].strokeColor,h.defaultStrokeColor,t,a,{nullvalue:null}),void 0!==u.datasets[t].data[a]&&v(s,g[t][a].yPosTop,g[t][a].xPosLeft,d,i,h.barShowStroke,h.barBorderRadius,0,t,a)}if(e>=h.animationStopValue)for(t=0;t<u.datasets.length;t++)for(a=0;a<u.datasets[t].data.length;a++)if(void 0!==u.datasets[t].data[a]&&(setOptionValue(1,"ANNOTATEDISPLAY",s,u,g,void 0,h.annotateDisplay,t,a,{nullValue:!0})&&(jsGraphAnnotate[s.ChartNewId][jsGraphAnnotate[s.ChartNewId].length]=["RECT",t,a,g]),setOptionValue(1,"INGRAPHDATASHOW",s,u,g,void 0,h.inGraphDataShow,t,a,{nullValue:!0}))){s.save(),s.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",s,u,g,void 0,h.inGraphDataAlign,t,a,{nullValue:!0}),s.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",s,u,g,void 0,h.inGraphDataVAlign,t,a,{nullValue:!0}),s.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",s,u,g,void 0,h.inGraphDataFontStyle,t,a,{nullValue:!0})+" "+setOptionValue(s.chartTextScale,"INGRAPHDATAFONTSIZE",s,u,g,void 0,h.inGraphDataFontSize,t,a,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",s,u,g,void 0,h.inGraphDataFontFamily,t,a,{nullValue:!0}),s.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",s,u,g,void 0,h.inGraphDataFontColor,t,a,{nullValue:!0}),s.beginPath();var l=0,o=0;1==setOptionValue(1,"INGRAPHDATAYPOSITION",s,u,g,void 0,h.inGraphDataYPosition,t,a,{nullValue:!0})?l=g[t][a].yPosTop-setOptionValue(s.chartSpaceScale,"INGRAPHDATAPADDINGY",s,u,g,void 0,h.inGraphDataPaddingY,t,a,{nullValue:!0})+d:2==setOptionValue(1,"INGRAPHDATAYPOSITION",s,u,g,void 0,h.inGraphDataYPosition,t,a,{nullValue:!0})?l=g[t][a].yPosTop+d/2-setOptionValue(s.chartSpaceScale,"INGRAPHDATAPADDINGY",s,u,g,void 0,h.inGraphDataPaddingY,t,a,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATAYPOSITION",s,u,g,void 0,h.inGraphDataYPosition,t,a,{nullValue:!0})&&(l=g[t][a].yPosTop-setOptionValue(s.chartSpaceScale,"INGRAPHDATAPADDINGY",s,u,g,void 0,h.inGraphDataPaddingY,t,a,{nullValue:!0})),1==setOptionValue(1,"INGRAPHDATAXPOSITION",s,u,g,void 0,h.inGraphDataXPosition,t,a,{nullValue:!0})?o=g[t][a].xPosLeft+setOptionValue(s.chartSpaceScale,"INGRAPHDATAPADDINGX",s,u,g,void 0,h.inGraphDataPaddingX,t,a,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATAXPOSITION",s,u,g,void 0,h.inGraphDataXPosition,t,a,{nullValue:!0})?o=(g[t][a].xPosLeft+g[t][a].xPosRight)/2+setOptionValue(s.chartSpaceScale,"INGRAPHDATAPADDINGX",s,u,g,void 0,h.inGraphDataPaddingX,t,a,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATAXPOSITION",s,u,g,void 0,h.inGraphDataXPosition,t,a,{nullValue:!0})&&(o=g[t][a].xPosRight+setOptionValue(s.chartSpaceScale,"INGRAPHDATAPADDINGX",s,u,g,void 0,h.inGraphDataPaddingX,t,a,{nullValue:!0})),s.translate(o,l);var r=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",s,u,g,void 0,h.inGraphDataTmpl,t,a,{nullValue:!0}),g[t][a],h);s.rotate(setOptionValue(1,"INGRAPHDATAROTATE",s,u,g,void 0,h.inGraphDataRotate,t,a,{nullValue:!0})*(Math.PI/180)),setTextBordersAndBackground(s,r,setOptionValue(s.chartTextScale,"INGRAPHDATAFONTSIZE",s,u,g,void 0,h.inGraphDataFontSize,t,a,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",s,u,g,void 0,h.inGraphDataBorders,t,a,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",s,u,g,void 0,h.inGraphDataBordersColor,t,a,{nullValue:!0}),setOptionValue(s.chartLineScale,"INGRAPHDATABORDERSWIDTH",s,u,g,void 0,h.inGraphDataBordersWidth,t,a,{nullValue:!0}),setOptionValue(s.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",s,u,g,void 0,h.inGraphDataBordersXSpace,t,a,{nullValue:!0}),setOptionValue(s.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",s,u,g,void 0,h.inGraphDataBordersYSpace,t,a,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",s,u,g,void 0,h.inGraphDataBordersStyle,t,a,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",s,u,g,void 0,h.inGraphDataBackgroundColor,t,a,{nullValue:!0}),"INGRAPHDATA"),s.fillTextMultiLine(r,0,0,s.textBaseline,setOptionValue(s.chartTextScale,"INGRAPHDATAFONTSIZE",s,u,g,void 0,h.inGraphDataFontSize,t,a,{nullValue:!0}),!0),s.restore()}p.legendMsr.dispLegend&&drawLegend(p.legendMsr,u,h,s,"HorizontalBar")},s,p.clrx,p.clry,p.clrwidth,p.clrheight,l+p.availableWidth/2,c-p.availableHeight/2,l,c,u)}else testRedraw(s,u,h)}function v(e,t,a,n,i,l,o,r,s,c){e.beginPath(),e.moveTo(a+r,t+o),e.lineTo(a+r,t+n-o),e.quadraticCurveTo(a+r,t+n,a+r,t+n),e.lineTo(a+i-o,t+n),e.quadraticCurveTo(a+i,t+n,a+i,t+n-o),e.lineTo(a+i,t+o),e.quadraticCurveTo(a+i,t,a+i-o,t),e.lineTo(a+r,t),e.quadraticCurveTo(a+r,t,a+r,t+o),l&&(e.setLineDash(lineStyleFn(setOptionValue(1,"STROKESTYLE",e,u,g,u.datasets[s].datasetStrokeStyle,h.datasetStrokeStyle,s,c,{nullvalue:null}))),e.stroke(),e.setLineDash([])),e.closePath(),e.fill()}};function calculateOffset(e,t,a,n){if(e)return CapValue(log10(t)*n-log10(a.graphMin)*n,void 0,0);var i=a.steps*a.stepValue,l=CapValue((t-a.graphMin)/i,1,0);return n*a.steps*l}function animationLoop(t,a,n,i,l,o,r,s,c,u,h,d,p){var g=0,f=1,S=1;(t.animationStartValue<0||1<t.animationStartValue)&&(t.animation.StartValue=0),(t.animationStopValue<0||1<t.animationStopValue)&&(t.animation.StopValue=1),t.animationStopValue<t.animationStartValue&&(t.animationStopValue=t.animationStartValue),isIE()<9&&0!=isIE()&&(t.animation=!1);var m=t.animation?1/CapValue(t.animationSteps,Number.MAX_VALUE,1):1,y=animationOptions[t.animationEasing],v=t.animation?0:1;if(t.animation&&0<t.animationStartValue&&t.animationStartValue<=1)for(;v<t.animationStartValue;)g++,v+=m;var A=g,x=v;function V(){var e;v+=S*m,(g+=S)==t.animationSteps||0==t.animation||3==i.firstPass||4==i.firstPass||8==i.firstPass||9==i.firstPass?v=1:1<=v&&(v=.999),e=t.animation?CapValue(y(v),null,0):1,1*g>=1*CapValue(t.animationSteps,Number.MAX_VALUE,1)||0==t.animation||3==i.firstPass||4==i.firstPass||8==i.firstPass||9==i.firstPass?e=1:1<=e&&(e=.9999),!t.animation||isIE()<9&&0!=isIE()||!t.clearRect||i.clearRect(l,o,r,s),dispCrossImage(i,t,c,u,h,d,!1,p,e,g),dispCrossText(i,t,c,u,h,d,!1,p,e,g),t.scaleOverlay?(n(e),a()):(a(),n(e)),dispCrossImage(i,t,c,u,h,d,!0,p,e,g),dispCrossText(i,t,c,u,h,d,!0,p,e,g),-1==S&&g<=A?("function"==typeof t.onAnimationComplete&&1==i.runanimationcompletefunction&&t.onAnimationComplete(i,t,p,0,f+1),S=1,requestAnimFrame(V)):v<t.animationStopValue?requestAnimFrame(V):!(f<t.animationCount||0==t.animationCount)||1!=i.firstPass&&2==i.firstPass?testRedraw(i,p,t)||"function"==typeof t.onAnimationComplete&&1==i.runanimationcompletefunction&&(t.onAnimationComplete(i,t,p,1,f+1),i.runanimationcompletefunction=!1):(f++,t.animationBackward&&1==S?(v-=m,S=-1):(g=A-(S=1),v=x-m),window.setTimeout(V,1e3*t.animationPauseTime))}"function"!=typeof a&&(a=function(){}),t.clearRect?requestAnimFrame(V):V()}var requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function calculateScale(e,t,a,n,i,l,o){var r,s,c,u,h,d,p,g;if(2==e?(p=t.logarithmic2,g=t.yAxisMinimumInterval2):(p=t.logarithmic,g=t.yAxisMinimumInterval),p){l==i&&(i+=1),0==l&&(l=.01);var f=calculateOrderOfMagnitude(l),S=calculateOrderOfMagnitude(i)+1;r=Math.pow(10,f),s=Math.pow(10,S),d=S-f}else if(d=calculateOrderOfMagnitude(i-l),r=Math.abs(l)>t.zeroValue?Math.floor(l/(1*Math.pow(10,d)))*Math.pow(10,d):0,s=Math.abs(i)>t.zeroValue?Math.ceil(i/(1*Math.pow(10,d)))*Math.pow(10,d):0,"number"==typeof g&&0<=s){for(r-=r%g;l<r;)r-=g;for(s%g>t.zeroValue&&s%g<g-t.zeroValue&&(s=roundScale(t,(1+Math.floor(s/g))*g));s<i;)s+=g}if(c=s-r,u=Math.pow(10,d),h=Math.round(c/u),p)h=d;else{for(var m=!1;!m&&(h<n||a<h);)h<n?("number"==typeof g&&u/2<g&&(m=!0),m||(u/=2,h=Math.round(c/u))):(u*=2,h=Math.round(c/u));if("number"==typeof g&&(u<g&&(u=g,h=Math.ceil(c/u)),u%g>t.zeroValue&&u%g<g-t.zeroValue&&(2*u%g<t.zeroValue||2*u%g>g-t.zeroValue?u*=2:u=roundScale(t,(1+Math.floor(u/g))*g),h=Math.ceil(c/u))),1==t.graphMaximized||"bottom"==t.graphMaximized||void 0!==t.graphMin)for(;r+u<l&&3<=h;)r+=u,h--;if(1==t.graphMaximized||"top"==t.graphMaximized||void 0!==t.graphMax)for(;i<=r+(h-1)*u&&3<=h;)h--}var y=[];return populateLabels(1,t,o,y,h,r,s,u),{steps:h,stepValue:u,graphMin:r,labels:y,maxValue:i}}function roundScale(e,t){var a=0,n=""+e.yAxisMinimumInterval;return 0<n.indexOf(".")&&(a=n.substr(n.indexOf(".")).length),Math.round(t*Math.pow(10,a))/Math.pow(10,a)}function calculateOrderOfMagnitude(e){return 0==e?0:Math.floor(Math.log(e)/Math.LN10)}function populateLabels(e,t,a,n,i,l,o,r){var s,c;if(2==e?(s=t.logarithmic2,fmtYLabel=t.fmtYLabel2):(s=t.logarithmic,fmtYLabel=t.fmtYLabel),a)if(s){var u=l;for(c=0;c<i+1;c++)n.push(tmpl(a,{value:fmtChartJS(t,1*u.toFixed(getDecimalPlaces(u)),fmtYLabel)},t)),u*=10}else for(c=0;c<i+1;c++)n.push(tmpl(a,{value:fmtChartJS(t,1*(l+r*c).toFixed(getDecimalPlaces(r)),fmtYLabel)},t))}function Max(e){return Math.max.apply(Math,e)}function Min(e){return Math.min.apply(Math,e)}function Default(e,t){return e||t}function CapValue(e,t,a){return isNumber(t)&&t<e?t:isNumber(a)&&e<a?a:e}function getDecimalPlaces(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function mergeChartConfig(e,t){var a={};for(var n in e)a[n]=e[n];for(var i in t)a[i]=t[i];return a}var cache={};function tmpl(e,t,a){return newstr=e,newstr.substr(0,a.templatesOpenTag.length)==a.templatesOpenTag&&(newstr="<%="+newstr.substr(a.templatesOpenTag.length,newstr.length-a.templatesOpenTag.length)),newstr.substr(newstr.length-a.templatesCloseTag.length,a.templatesCloseTag.length)==a.templatesCloseTag&&(newstr=newstr.substr(0,newstr.length-a.templatesCloseTag.length)+"%>"),tmplpart2(newstr,t)}function tmplpart2(e,t){var a=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):cache[e]=cache[e]||tmplpart2(document.getElementById(e).innerHTML);return t?a(t):a}function dispCrossText(e,t,a,n,i,l,o,r,s,c){var u,h,d,p,g,f;for(u=0;u<t.crossText.length;u++)if(""!=t.crossText[u]&&t.crossTextOverlay[Min([u,t.crossTextOverlay.length-1])]==o&&(1==c&&"first"==t.crossTextIter[Min([u,t.crossTextIter.length-1])]||t.crossTextIter[Min([u,t.crossTextIter.length-1])]==c||"all"==t.crossTextIter[Min([u,t.crossTextIter.length-1])]||1==s&&"last"==t.crossTextIter[Min([u,t.crossTextIter.length-1])])){switch(e.save(),e.beginPath(),e.font=t.crossTextFontStyle[Min([u,t.crossTextFontStyle.length-1])]+" "+Math.ceil(e.chartTextScale*t.crossTextFontSize[Min([u,t.crossTextFontSize.length-1])]).toString()+"px "+t.crossTextFontFamily[Min([u,t.crossTextFontFamily.length-1])],e.fillStyle=t.crossTextFontColor[Min([u,t.crossTextFontColor.length-1])],g=t.crossTextAlign[Min([u,t.crossTextAlign.length-1])],f=t.crossTextBaseline[Min([u,t.crossTextBaseline.length-1])],d=1*Math.ceil(e.chartSpaceScale*t.crossTextPosX[Min([u,t.crossTextPosX.length-1])]),p=1*Math.ceil(e.chartSpaceScale*t.crossTextPosY[Min([u,t.crossTextPosY.length-1])]),1*t.crossTextRelativePosX[Min([u,t.crossTextRelativePosX.length-1])]){case 0:"default"==g&&(g="left");break;case 1:d+=i,"default"==g&&(g="right");break;case 2:d+=a,"default"==g&&(g="center");break;case-2:d+=context.canvas.width/2,"default"==g&&(g="center");break;case 3:d+=d+2*a-i,"default"==g&&(g="left");break;case 4:d+=context.canvas.width,"default"==g&&(g="right");break;default:d+=a,"default"==g&&(g="center")}switch(1*t.crossTextRelativePosY[Min([u,t.crossTextRelativePosY.length-1])]){case 0:"default"==f&&(f="top");break;case 3:p+=l,"default"==f&&(f="top");break;case 2:p+=n,"default"==f&&(f="middle");break;case-2:p+=context.canvas.height/2,"default"==f&&(f="middle");break;case 1:p+=p+2*n-l,"default"==f&&(f="bottom");break;case 4:p+=context.canvas.height,"default"==f&&(f="bottom");break;default:p+=n,"default"==f&&(f="middle")}e.textAlign=g,e.textBaseline=f,e.translate(1*d,1*p),e.rotate(Math.PI*t.crossTextAngle[Min([u,t.crossTextAngle.length-1])]/180),"%"==t.crossText[u].substring(0,1)?"function"==typeof t.crossTextFunction&&(h=t.crossTextFunction(u,t.crossText[u],e,t,a,n,i,l,o,r,s)):h=t.crossText[u],setTextBordersAndBackground(e,h,Math.ceil(e.chartTextScale*t.crossTextFontSize[Min([u,t.crossTextFontSize.length-1])]),0,0,t.crossTextBorders[Min([u,t.crossTextBorders.length-1])],t.crossTextBordersColor[Min([u,t.crossTextBordersColor.length-1])],Math.ceil(e.chartLineScale*t.crossTextBordersWidth[Min([u,t.crossTextBordersWidth.length-1])]),Math.ceil(e.chartSpaceScale*t.crossTextBordersXSpace[Min([u,t.crossTextBordersXSpace.length-1])]),Math.ceil(e.chartSpaceScale*t.crossTextBordersYSpace[Min([u,t.crossTextBordersYSpace.length-1])]),t.crossTextBordersStyle[Min([u,t.crossTextBordersStyle.length-1])],t.crossTextBackgroundColor[Min([u,t.crossTextBackgroundColor.length-1])],"CROSSTEXT"),e.fillTextMultiLine(h,0,0,e.textBaseline,Math.ceil(e.chartTextScale*t.crossTextFontSize[Min([u,t.crossTextFontSize.length-1])]),!0),e.restore()}}function dispCrossImage(e,t,a,n,i,l,o,r,s,c){var u,h,d,p,g;for(u=0;u<t.crossImage.length;u++)if(void 0!==t.crossImage[u]&&t.crossImageOverlay[Min([u,t.crossImageOverlay.length-1])]==o&&(-1==c&&"background"==t.crossImageIter[Min([u,t.crossImageIter.length-1])]||1==c&&"first"==t.crossImageIter[Min([u,t.crossImageIter.length-1])]||t.crossImageIter[Min([u,t.crossImageIter.length-1])]==c||-1!=c&&"all"==t.crossImageIter[Min([u,t.crossImageIter.length-1])]||1==s&&"last"==t.crossImageIter[Min([u,t.crossImageIter.length-1])])){switch(e.save(),e.beginPath(),p=t.crossImageAlign[Min([u,t.crossImageAlign.length-1])],g=t.crossImageBaseline[Min([u,t.crossImageBaseline.length-1])],h=1*Math.ceil(e.chartSpaceScale*t.crossImagePosX[Min([u,t.crossImagePosX.length-1])]),d=1*Math.ceil(e.chartSpaceScale*t.crossImagePosY[Min([u,t.crossImagePosY.length-1])]),1*t.crossImageRelativePosX[Min([u,t.crossImageRelativePosX.length-1])]){case 0:"default"==p&&(p="left");break;case 1:h+=i,"default"==p&&(p="right");break;case 2:h+=a,"default"==p&&(p="center");break;case-2:h+=context.canvas.width/2,"default"==p&&(p="center");break;case 3:h+=h+2*a-i,"default"==p&&(p="left");break;case 4:h+=context.canvas.width,"default"==p&&(p="right");break;default:h+=a,"default"==p&&(p="center")}switch(1*t.crossImageRelativePosY[Min([u,t.crossImageRelativePosY.length-1])]){case 0:"default"==g&&(g="top");break;case 3:d+=l,"default"==g&&(g="top");break;case 2:d+=n,"default"==g&&(g="middle");break;case-2:d+=context.canvas.height/2,"default"==g&&(g="middle");break;case 1:d+=d+2*n-l,"default"==g&&(g="bottom");break;case 4:d+=context.canvas.height,"default"==g&&(g="bottom");break;default:d+=n,"default"==g&&(g="middle")}var f=t.crossImage[u].width;switch(p){case"left":break;case"right":h-=f;break;case"center":h-=f/2}var S=t.crossImage[u].height;switch(g){case"top":break;case"bottom":d-=S;break;case"middle":d-=S/2}e.translate(1*h,1*d),e.rotate(Math.PI*t.crossImageAngle[Min([u,t.crossImageAngle.length-1])]/180),e.drawImage(t.crossImage[u],0,0),e.restore()}}function setMeasures(e,t,a,n,i,l,o,r,s,c,u,h,d){"none"!=t.canvasBackgroundColor&&(a.canvas.style.background=t.canvasBackgroundColor);var p,g,f,S,m,y=0,v=0,A=0,x=0,V=0,P=0,R=0,T=0,k=0,M=0,D=0,b=0,L=0,C=0,O=0,B=0,I=0,N=0,w=0,G=0,F=0,H=0,E=0,z=0,_=1,W=1,Y=0,X=1,U=0,j=1,q=0,J=0,$=0,K=0,Z=0,Q=0;if(a.widthAtSetMeasures=i,a.heightAtSetMeasures=n,t.canvasBorders&&(y=Math.ceil(a.chartLineScale*t.canvasBordersWidth)),c){for(a.font=t.scaleFontStyle+" "+Math.ceil(a.chartTextScale*t.scaleFontSize).toString()+"px "+t.scaleFontFamily,g=0;g<e.labels.length;g++)_=(p=a.measureTextMultiLine(fmtChartJS(t,e.labels[g],t.fmtXLabel),Math.ceil(a.chartTextScale*t.scaleFontSize))).textWidth>_?p.textWidth:_,W=p.textHeight>W?p.textHeight:W;_<Math.ceil(a.chartTextScale*t.xScaleLabelsMinimumWidth)&&(_=Math.ceil(a.chartTextScale*t.xScaleLabelsMinimumWidth))}if(c){if(Y=1,null!=l&&"nihil"!=l)for(a.font=t.scaleFontStyle+" "+Math.ceil(a.chartTextScale*t.scaleFontSize).toString()+"px "+t.scaleFontFamily,g=l.length-1;0<=g;g--)"string"==typeof l[g]&&""!=l[g].trim()&&(Y=(p=a.measureTextMultiLine(fmtChartJS(t,l[g],t.fmtYLabel),Math.ceil(a.chartTextScale*t.scaleFontSize))).textWidth>Y?p.textWidth:Y,X=p.textHeight>X?p.textHeight:X);if(Y<Math.ceil(a.chartTextScale*t.yScaleLabelsMinimumWidth)&&(Y=Math.ceil(a.chartTextScale*t.yScaleLabelsMinimumWidth)),U=1,null!=o&&t.yAxisRight)for(a.font=t.scaleFontStyle+" "+Math.ceil(a.chartTextScale*t.scaleFontSize).toString()+"px "+t.scaleFontFamily,g=o.length-1;0<=g;g--)"string"==typeof o[g]&&""!=o[g].trim()&&(U=(p=a.measureTextMultiLine(fmtChartJS(t,o[g],t.fmtYLabel2),Math.ceil(a.chartTextScale*t.scaleFontSize))).textWidth>U?p.textWidth:U,j=p.textHeight>j?p.textHeight:j);else U=Y;U<Math.ceil(a.chartTextScale*t.yScaleLabelsMinimumWidth)&&(U=Math.ceil(a.chartTextScale*t.yScaleLabelsMinimumWidth))}if(q=y+Math.ceil(a.chartSpaceScale*t.spaceLeft),J=y+Math.ceil(a.chartSpaceScale*t.spaceRight),c&&(void 0!==t.yAxisLabel&&(""!=t.yAxisLabel.trim()&&(G=Math.ceil(a.chartTextScale*t.yAxisFontSize)*(t.yAxisLabel.split("\n").length||1)+Math.ceil(a.chartSpaceScale*t.yAxisLabelSpaceLeft)+Math.ceil(a.chartSpaceScale*t.yAxisLabelSpaceRight),F=y+Math.ceil(a.chartSpaceScale*t.spaceLeft)+Math.ceil(a.chartSpaceScale*t.yAxisLabelSpaceLeft)+Math.ceil(a.chartTextScale*t.yAxisFontSize),H=i-y-Math.ceil(a.chartSpaceScale*t.spaceRight)-Math.ceil(a.chartSpaceScale*t.yAxisLabelSpaceLeft)-Math.ceil(a.chartTextScale*t.yAxisFontSize)),("none"!=t.yAxisLabelBackgroundColor||t.yAxisLabelBorders)&&(G+=2*Math.ceil(a.chartSpaceScale*t.yAxisLabelBordersYSpace),F+=Math.ceil(a.chartSpaceScale*t.yAxisLabelBordersYSpace),H-=Math.ceil(a.chartSpaceScale*t.yAxisLabelBordersYSpace)),t.graphTitleBorders&&(G+=2*Math.ceil(a.chartLineScale*t.yAxisLabelBordersWidth),F+=Math.ceil(a.chartLineScale*t.yAxisLabelBordersWidth),H-=Math.ceil(a.chartLineScale*t.yAxisLabelBordersWidth))),t.yAxisLeft&&(q=0==s?y+Math.ceil(a.chartSpaceScale*t.spaceLeft)+G+Y+Math.ceil(a.chartSpaceScale*t.yAxisSpaceLeft)+Math.ceil(a.chartSpaceScale*t.yAxisSpaceRight):y+Math.ceil(a.chartSpaceScale*t.spaceLeft)+G+_+Math.ceil(a.chartSpaceScale*t.yAxisSpaceLeft)+Math.ceil(a.chartSpaceScale*t.yAxisSpaceRight)),t.yAxisRight&&(J=0==s?y+Math.ceil(a.chartSpaceScale*t.spaceRight)+G+U+Math.ceil(a.chartSpaceScale*t.yAxisSpaceLeft)+Math.ceil(a.chartSpaceScale*t.yAxisSpaceRight):y+Math.ceil(a.chartSpaceScale*t.spaceRight)+G+_+Math.ceil(a.chartSpaceScale*t.yAxisSpaceLeft)+Math.ceil(a.chartSpaceScale*t.yAxisSpaceRight))),availableWidth=i-q-J,""!=t.graphTitle.trim()&&(A=Math.ceil(a.chartTextScale*t.graphTitleFontSize)*(t.graphTitle.split("\n").length||1)+Math.ceil(a.chartSpaceScale*t.graphTitleSpaceBefore)+Math.ceil(a.chartSpaceScale*t.graphTitleSpaceAfter),x=y+Math.ceil(a.chartSpaceScale*t.spaceTop)+A-Math.ceil(a.chartSpaceScale*t.graphTitleSpaceAfter),("none"!=t.graphTitleBackgroundColor||t.graphTitleBorders)&&(A+=2*Math.ceil(a.chartSpaceScale*t.graphTitleBordersYSpace),x+=Math.ceil(a.chartSpaceScale*t.graphTitleBordersYSpace)),t.graphTitleBorders&&(A+=2*Math.ceil(a.chartLineScale*t.graphTitleBordersWidth),x+=Math.ceil(a.chartLineScale*t.graphTitleBordersWidth))),""!=t.graphSubTitle.trim()&&(V=Math.ceil(a.chartTextScale*t.graphSubTitleFontSize)*(t.graphSubTitle.split("\n").length||1)+Math.ceil(a.chartSpaceScale*t.graphSubTitleSpaceBefore)+Math.ceil(a.chartSpaceScale*t.graphSubTitleSpaceAfter),P=y+Math.ceil(a.chartSpaceScale*t.spaceTop)+A+V-Math.ceil(a.chartSpaceScale*t.graphSubTitleSpaceAfter),("none"!=t.graphSubTitleBackgroundColor||t.graphSubTitleBorders)&&(V+=2*Math.ceil(a.chartSpaceScale*t.graphSubTitleBordersYSpace),P+=Math.ceil(a.chartSpaceScale*t.graphSubTitleBordersYSpace)),t.graphSubTitleBorders&&(V+=2*Math.ceil(a.chartLineScale*t.graphSubTitleBordersWidth),P+=Math.ceil(a.chartLineScale*t.graphSubTitleBordersWidth))),c&&(""!=t.yAxisUnit.trim()&&(k=Math.ceil(a.chartTextScale*t.yAxisUnitFontSize)*(t.yAxisUnit.split("\n").length||1)+Math.ceil(a.chartSpaceScale*t.yAxisUnitSpaceBefore)+Math.ceil(a.chartSpaceScale*t.yAxisUnitSpaceAfter),M=y+Math.ceil(a.chartSpaceScale*t.spaceTop)+A+V+k-Math.ceil(a.chartSpaceScale*t.yAxisUnitSpaceAfter)),("none"!=t.yAxisUnitBackgroundColor||t.yAxisUnitBorders)&&(k+=2*Math.ceil(a.chartSpaceScale*t.yAxisUnitBordersYSpace),M+=Math.ceil(a.chartSpaceScale*t.yAxisUnitBordersYSpace)),t.yAxisUnitBorders&&(k+=2*Math.ceil(a.chartLineScale*t.yAxisUnitBordersWidth),M+=Math.ceil(a.chartLineScale*t.yAxisUnitBordersWidth))),topNotUsableSize=y+Math.ceil(a.chartSpaceScale*t.spaceTop)+A+V+k+Math.ceil(a.chartTextScale*t.graphSpaceBefore),void 0!==t.footNote&&""!=t.footNote.trim()&&(R=Math.ceil(a.chartTextScale*t.footNoteFontSize)*(t.footNote.split("\n").length||1)+Math.ceil(a.chartSpaceScale*t.footNoteSpaceBefore)+Math.ceil(a.chartSpaceScale*t.footNoteSpaceAfter),T=n-Math.ceil(a.chartSpaceScale*t.spaceBottom)-y-Math.ceil(a.chartSpaceScale*t.footNoteSpaceAfter),("none"!=t.footNoteBackgroundColor||t.footNoteBorders)&&(R+=2*Math.ceil(a.chartSpaceScale*t.footNoteBordersYSpace),T-=Math.ceil(a.chartSpaceScale*t.footNoteBordersYSpace)),t.footNoteBorders&&(R+=2*Math.ceil(a.chartLineScale*t.footNoteBordersWidth),T-=Math.ceil(a.chartLineScale*t.footNoteBordersWidth))),c&&void 0!==t.xAxisLabel&&""!=t.xAxisLabel.trim()&&(E=Math.ceil(a.chartTextScale*t.xAxisFontSize)*(t.xAxisLabel.split("\n").length||1)+Math.ceil(a.chartSpaceScale*t.xAxisLabelSpaceBefore)+Math.ceil(a.chartSpaceScale*t.xAxisLabelSpaceAfter),v=n-y-Math.ceil(a.chartSpaceScale*t.spaceBottom)-R-Math.ceil(a.chartSpaceScale*t.xAxisLabelSpaceAfter),("none"!=t.xAxisLabelBackgroundColor||t.footNoteBorders)&&(E+=2*Math.ceil(a.chartSpaceScale*t.xAxisLabelBordersYSpace),v-=Math.ceil(a.chartSpaceScale*t.xAxisLabelBordersYSpace)),t.footNoteBorders&&(E+=2*Math.ceil(a.chartLineScale*t.xAxisLabelBordersWidth),v-=Math.ceil(a.chartLineScale*t.xAxisLabelBordersWidth))),bottomNotUsableHeightWithoutXLabels=y+Math.ceil(a.chartSpaceScale*t.spaceBottom)+R+E+Math.ceil(a.chartTextScale*t.graphSpaceAfter),void 0!==t.legend&&1==t.legend){var ee;if(a.font=t.legendFontStyle+" "+Math.ceil(a.chartTextScale*t.legendFontSize).toString()+"px "+t.legendFontFamily,u)for(g=e.datasets.length-1;0<=g;g--)"string"==typeof e.datasets[g].title&&""!=e.datasets[g].title.trim()&&(b++,D=D<(ee=a.measureText(fmtChartJS(t,e.datasets[g].title,t.fmtLegend)).width)?ee:D);else for(g=e.length-1;0<=g;g--)"string"==typeof e[g].title&&""!=e[g].title.trim()&&(b++,D=D<(ee=a.measureText(fmtChartJS(t,e[g].title,t.fmtLegend)).width)?ee:D);if(1<b||1==b&&t.showSingleLegend){D+=Math.ceil(a.chartTextScale*t.legendBlockSize)+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenBoxAndText),1==t.legendPosY||2==t.legendPosY||3==t.legendPosY?availableLegendWidth=availableWidth-Math.ceil(a.chartSpaceScale*Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText))-Math.ceil(a.chartSpaceScale*t.legendSpaceRightText):availableLegendWidth=i-Math.ceil(a.chartSpaceScale*t.spaceLeft)-Math.ceil(a.chartSpaceScale*t.spaceRight)-2*y-Math.ceil(a.chartSpaceScale*Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText))-Math.ceil(a.chartSpaceScale*t.legendSpaceRightText),1==t.legendBorders&&(availableLegendWidth-=2*Math.ceil(a.chartLineScale*t.legendBordersWidth)-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceLeft)-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceRight)),maxLegendOnLine=Min([Math.floor((availableLegendWidth+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))/(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))),t.maxLegendCols]),L=Math.ceil(b/maxLegendOnLine),C=Math.ceil(b/L);var te=L*(Math.ceil(a.chartTextScale*t.legendFontSize)+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextVertical))-Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextVertical)+Math.ceil(a.chartSpaceScale*t.legendSpaceBeforeText)+Math.ceil(a.chartSpaceScale*t.legendSpaceAfterText);switch(t.legendPosY){case 0:B=Math.ceil(a.chartSpaceScale*t.spaceLeft)+(i-Math.ceil(a.chartSpaceScale*t.spaceLeft)-Math.ceil(a.chartSpaceScale*t.spaceRight)-C*(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))/2,O=te,1==t.legendBorders?(I=(w=topNotUsableSize+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)+Math.ceil(a.chartLineScale*t.legendBordersWidth)/2)+Math.ceil(a.chartLineScale*t.legendBordersWidth)/2+Math.ceil(a.chartSpaceScale*t.legendSpaceBeforeText)+Math.ceil(a.chartTextScale*t.legendFontSize),O+=2*Math.ceil(a.chartLineScale*t.legendBordersWidth)+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceAfter),N=Math.floor(B-Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText)-Math.ceil(a.chartLineScale*t.legendBordersWidth)/2),Q=Math.ceil(O-Math.ceil(a.chartLineScale*t.legendBordersWidth))-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceAfter),Z=Math.ceil(C*(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal)))-Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal)+Math.ceil(a.chartLineScale*t.legendBordersWidth)+Math.ceil(a.chartSpaceScale*t.legendSpaceRightText)+Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText)):I=topNotUsableSize+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)+Math.ceil(a.chartLineScale*t.legendBordersWidth)/2,0<k&&(M+=O,1==t.legendBorders&&(w-=k),I-=k),topNotUsableSize+=O;break;case 1:O=te,B=Math.ceil(a.chartSpaceScale*t.spaceLeft)+(i-Math.ceil(a.chartSpaceScale*t.spaceLeft)-Math.ceil(a.chartSpaceScale*t.spaceRight)-C*(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))/2,I=topNotUsableSize+Math.ceil(a.chartSpaceScale*t.legendSpaceBeforeText)+Math.ceil(a.chartTextScale*t.legendFontSize),1==t.legendBorders&&(w=(I+=Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)+Math.ceil(a.chartLineScale*t.legendBordersWidth))-Math.ceil(a.chartSpaceScale*t.legendSpaceBeforeText)-Math.ceil(a.chartTextScale*t.legendFontSize)-Math.ceil(a.chartLineScale*t.legendBordersWidth)/2,O+=2*Math.ceil(a.chartLineScale*t.legendBordersWidth)+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceAfter),N=Math.floor(B-Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText)-Math.ceil(a.chartLineScale*t.legendBordersWidth)/2),Q=Math.ceil(O-Math.ceil(a.chartLineScale*t.legendBordersWidth))-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceAfter),Z=Math.ceil(C*(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal)))-Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal)+Math.ceil(a.chartLineScale*t.legendBordersWidth)+Math.ceil(a.chartSpaceScale*t.legendSpaceRightText)+Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText));break;case 2:O=te,B=Math.ceil(a.chartSpaceScale*t.spaceLeft)+(i-Math.ceil(a.chartSpaceScale*t.spaceLeft)-Math.ceil(a.chartSpaceScale*t.spaceRight)-C*(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))/2,I=topNotUsableSize+(n-topNotUsableSize-bottomNotUsableHeightWithoutXLabels-O)/2+Math.ceil(a.chartSpaceScale*t.legendSpaceBeforeText)+Math.ceil(a.chartTextScale*t.legendFontSize),1==t.legendBorders&&(w=(I+=Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceAfter))-Math.ceil(a.chartSpaceScale*t.legendSpaceBeforeText)-Math.ceil(a.chartTextScale*t.legendFontSize)-Math.ceil(a.chartLineScale*t.legendBordersWidth)/2,O+=2*Math.ceil(a.chartLineScale*t.legendBordersWidth)+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceAfter),N=Math.floor(B-Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText)-Math.ceil(a.chartLineScale*t.legendBordersWidth)/2),Q=Math.ceil(O-Math.ceil(a.chartLineScale*t.legendBordersWidth))-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceAfter),Z=Math.ceil(C*(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal)))-Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal)+Math.ceil(a.chartLineScale*t.legendBordersWidth)+Math.ceil(a.chartSpaceScale*t.legendSpaceRightText)+Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText));break;case-2:O=te,B=Math.ceil(a.chartSpaceScale*t.spaceLeft)+(i-Math.ceil(a.chartSpaceScale*t.spaceLeft)-Math.ceil(a.chartSpaceScale*t.spaceRight)-C*(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))/2,I=(n-O)/2+Math.ceil(a.chartSpaceScale*t.legendSpaceBeforeText)+Math.ceil(a.chartTextScale*t.legendFontSize),1==t.legendBorders&&(w=(I+=Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceAfter))-Math.ceil(a.chartSpaceScale*t.legendSpaceBeforeText)-Math.ceil(a.chartTextScale*t.legendFontSize)-Math.ceil(a.chartLineScale*t.legendBordersWidth)/2,O+=2*Math.ceil(a.chartLineScale*t.legendBordersWidth)+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceAfter),N=Math.floor(B-Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText)-Math.ceil(a.chartLineScale*t.legendBordersWidth)/2),Q=Math.ceil(O-Math.ceil(a.chartLineScale*t.legendBordersWidth))-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceAfter),Z=Math.ceil(C*(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal)))-Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal)+Math.ceil(a.chartLineScale*t.legendBordersWidth)+Math.ceil(a.chartSpaceScale*t.legendSpaceRightText)+Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText));break;case 3:O=te,B=Math.ceil(a.chartSpaceScale*t.spaceLeft)+(i-Math.ceil(a.chartSpaceScale*t.spaceLeft)-Math.ceil(a.chartSpaceScale*t.spaceRight)-C*(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))/2,availableHeight=n-topNotUsableSize-bottomNotUsableHeightWithoutXLabels,I=topNotUsableSize+availableHeight-O+Math.ceil(a.chartSpaceScale*t.legendSpaceBeforeText)+Math.ceil(a.chartTextScale*t.legendFontSize),1==t.legendBorders&&(w=(I-=Math.ceil(a.chartSpaceScale*t.legendBordersSpaceAfter)+Math.ceil(a.chartLineScale*t.legendBordersWidth))-Math.ceil(a.chartSpaceScale*t.legendSpaceBeforeText)-Math.ceil(a.chartTextScale*t.legendFontSize)-Math.ceil(a.chartLineScale*t.legendBordersWidth)/2,O+=2*Math.ceil(a.chartLineScale*t.legendBordersWidth)+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceAfter),N=Math.floor(B-Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText)-Math.ceil(a.chartLineScale*t.legendBordersWidth)/2),Q=Math.ceil(O-Math.ceil(a.chartLineScale*t.legendBordersWidth))-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceAfter),Z=Math.ceil(C*(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal)))-Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal)+Math.ceil(a.chartLineScale*t.legendBordersWidth)+Math.ceil(a.chartSpaceScale*t.legendSpaceRightText)+Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText));break;default:O=te,I=n-y-Math.ceil(a.chartSpaceScale*t.spaceBottom)-R-O+Math.ceil(a.chartSpaceScale*t.legendSpaceBeforeText)+Math.ceil(a.chartTextScale*t.legendFontSize),B=Math.ceil(a.chartSpaceScale*t.spaceLeft)+(i-Math.ceil(a.chartSpaceScale*t.spaceLeft)-Math.ceil(a.chartSpaceScale*t.spaceRight)-C*(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))/2,1==t.legendBorders&&(O+=2*Math.ceil(a.chartLineScale*t.legendBordersWidth)+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceAfter),I-=Math.ceil(a.chartLineScale*t.legendBordersWidth)+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceAfter),w=Math.floor(n-y-Math.ceil(a.chartSpaceScale*t.spaceBottom)-R-O+Math.ceil(a.chartLineScale*t.legendBordersWidth)/2+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)),N=Math.floor(B-Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText)-Math.ceil(a.chartLineScale*t.legendBordersWidth)/2),Q=Math.ceil(O-Math.ceil(a.chartLineScale*t.legendBordersWidth))-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceBefore)-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceAfter),Z=Math.ceil(C*(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal)))-Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal)+Math.ceil(a.chartLineScale*t.legendBordersWidth)+Math.ceil(a.chartSpaceScale*t.legendSpaceRightText)+Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText)),v-=O,bottomNotUsableHeightWithoutXLabels+=O}var ae=Math.ceil(a.chartSpaceScale*t.legendSpaceRightText)+C*(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))-Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal)+Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText);switch(1==t.legendBorders&&(ae+=2*Math.ceil(a.chartLineScale*t.legendBordersWidth)+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceLeft)+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceRight)),t.legendPosX){case 0:B=Math.ceil(a.chartSpaceScale*t.spaceLeft)+t.canvasBorders*Math.ceil(a.chartLineScale*t.canvasBordersWidth)+Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText),1==t.legendBorders&&(B+=Math.ceil(a.chartLineScale*t.legendBordersWidth)/2+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceLeft),N=Math.ceil(a.chartSpaceScale*t.spaceLeft)+t.canvasBorders*Math.ceil(a.chartLineScale*t.canvasBordersWidth)+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceLeft)),(1<=t.legendPosY&&t.legendPosY<=3||-2==t.legendPosY)&&(q+=ae,F+=ae);break;case 1:B=q+Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText),1==t.legendBorders&&(N=B,B+=Math.ceil(a.chartLineScale*t.legendBordersWidth)/2+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceLeft));break;case 2:B=q+(i-J-q)/2-(Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText)-Math.ceil(a.chartSpaceScale*t.legendSpaceRightText))-(C*(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))-Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))/2,1==t.legendBorders&&(N=(B-=Math.ceil(a.chartLineScale*t.legendBordersWidth)/2+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceRight))-Math.ceil(a.chartLineScale*t.legendBordersWidth)/2-Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText));break;case 3:B=i-J-Math.ceil(a.chartSpaceScale*t.legendSpaceRightText)-C*(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal)/2,1==t.legendBorders&&(N=(B-=Math.ceil(a.chartLineScale*t.legendBordersWidth)/2+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceRight))-Math.ceil(a.chartLineScale*t.legendBordersWidth)/2-Math.ceil(a.chartSpaceScale*t.legendSpaceLeftText));break;case 4:B=i-Math.ceil(a.chartSpaceScale*t.spaceRight)-t.canvasBorders*Math.ceil(a.chartLineScale*t.canvasBordersWidth)-Math.ceil(a.chartSpaceScale*t.legendSpaceRightText)-C*(D+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))+Math.ceil(a.chartSpaceScale*t.legendSpaceBetweenTextHorizontal)/2,1==t.legendBorders&&(N=(B-=Math.ceil(a.chartLineScale*t.legendBordersWidth)/2+Math.ceil(a.chartSpaceScale*t.legendBordersSpaceRight))-Math.ceil(a.chartSpaceScale*t.legendBordersSpaceLeft)-Math.ceil(a.chartLineScale*t.legendBordersWidth)/2),(1<=t.legendPosY&&t.legendPosY<=3||-2==t.legendPosY)&&(J+=ae,H-=ae)}1==t.legendBorders&&(w+=Math.ceil(a.chartSpaceScale*t.legendYPadding),N+=Math.ceil(a.chartSpaceScale*t.legendXPadding)),I+=Math.ceil(a.chartSpaceScale*t.legendYPadding),B+=Math.ceil(a.chartSpaceScale*t.legendXPadding)}}(xLabelWidth=0,bottomNotUsableHeightWithXLabels=bottomNotUsableHeightWithoutXLabels,c&&(t.xAxisBottom||t.xAxisTop))?(0==s?(f=_,S=W,nblab=e.labels.length):(f=Y,S=X,nblab=l.length),"smart"==t.rotateLabels?($=0,(availableWidth+Math.ceil(a.chartTextScale*t.xAxisSpaceBetweenLabels))/nblab<f+Math.ceil(a.chartTextScale*t.xAxisSpaceBetweenLabels)&&($=45,availableWidth/nblab<Math.abs(Math.cos($*Math.PI/180)*f)&&($=90))):(($=t.rotateLabels)<0&&($=0),180<$&&($=180)),90<$&&($+=180),z=Math.abs(Math.sin($*Math.PI/180)*f)+Math.abs(Math.sin(($+90)*Math.PI/180)*S)+Math.ceil(a.chartSpaceScale*t.xAxisSpaceBefore)+Math.ceil(a.chartSpaceScale*t.xAxisSpaceAfter),K=n-y-Math.ceil(a.chartSpaceScale*t.spaceBottom)-R-E-(z-Math.ceil(a.chartSpaceScale*t.xAxisSpaceBefore))-Math.ceil(a.chartTextScale*t.graphSpaceAfter),xLabelWidth=Math.abs(Math.cos($*Math.PI/180)*f)+Math.abs(Math.cos(($+90)*Math.PI/180)*S),q=Max([q,y+Math.ceil(a.chartSpaceScale*t.spaceLeft)+xLabelWidth/2]),J=Max([J,y+Math.ceil(a.chartSpaceScale*t.spaceRight)+xLabelWidth/2]),availableWidth=i-q-J,t.legend&&t.xAxisBottom&&4==t.legendPosY&&(K-=O),bottomNotUsableHeightWithXLabels=bottomNotUsableHeightWithoutXLabels+z):availableWidth=i-q-J;(availableHeight=n-topNotUsableSize-bottomNotUsableHeightWithXLabels,dispCrossImage(a,t,i/2,n/2,i/2,n/2,!1,e,-1,-1),"nihil"!=l)&&(0<y&&(a.save(),a.beginPath(),a.lineWidth=2*y,a.setLineDash(lineStyleFn(t.canvasBordersStyle)),a.strokeStyle=t.canvasBordersColor,a.moveTo(0,0),a.lineTo(0,n),a.lineTo(i,n),a.lineTo(i,0),a.lineTo(0,0),a.stroke(),a.setLineDash([]),a.restore()),0<A&&(a.save(),a.beginPath(),a.font=t.graphTitleFontStyle+" "+Math.ceil(a.chartTextScale*t.graphTitleFontSize).toString()+"px "+t.graphTitleFontFamily,a.fillStyle=t.graphTitleFontColor,a.textAlign="center",a.textBaseline="bottom",setTextBordersAndBackground(a,t.graphTitle,Math.ceil(a.chartTextScale*t.graphTitleFontSize),Math.ceil(a.chartSpaceScale*t.spaceLeft)+(i-Math.ceil(a.chartSpaceScale*t.spaceLeft)-Math.ceil(a.chartSpaceScale*t.spaceRight))/2,x,t.graphTitleBorders,t.graphTitleBordersColor,Math.ceil(a.chartLineScale*t.graphTitleBordersWidth),Math.ceil(a.chartSpaceScale*t.graphTitleBordersXSpace),Math.ceil(a.chartSpaceScale*t.graphTitleBordersYSpace),t.graphTitleBordersStyle,t.graphTitleBackgroundColor,"GRAPHTITLE"),a.translate(Math.ceil(a.chartSpaceScale*t.spaceLeft)+(i-Math.ceil(a.chartSpaceScale*t.spaceLeft)-Math.ceil(a.chartSpaceScale*t.spaceRight))/2,x),a.fillTextMultiLine(t.graphTitle,0,0,a.textBaseline,Math.ceil(a.chartTextScale*t.graphTitleFontSize),!0),a.stroke(),a.restore()),0<V&&(a.save(),a.beginPath(),a.font=t.graphSubTitleFontStyle+" "+Math.ceil(a.chartTextScale*t.graphSubTitleFontSize).toString()+"px "+t.graphSubTitleFontFamily,a.fillStyle=t.graphSubTitleFontColor,a.textAlign="center",a.textBaseline="bottom",setTextBordersAndBackground(a,t.graphSubTitle,Math.ceil(a.chartTextScale*t.graphSubTitleFontSize),Math.ceil(a.chartSpaceScale*t.spaceLeft)+(i-Math.ceil(a.chartSpaceScale*t.spaceLeft)-Math.ceil(a.chartSpaceScale*t.spaceRight))/2,P,t.graphSubTitleBorders,t.graphSubTitleBordersColor,Math.ceil(a.chartLineScale*t.graphSubTitleBordersWidth),Math.ceil(a.chartSpaceScale*t.graphSubTitleBordersXSpace),Math.ceil(a.chartSpaceScale*t.graphSubTitleBordersYSpace),t.graphSubTitleBordersStyle,t.graphSubTitleBackgroundColor,"GRAPHSUBTITLE"),a.translate(Math.ceil(a.chartSpaceScale*t.spaceLeft)+(i-Math.ceil(a.chartSpaceScale*t.spaceLeft)-Math.ceil(a.chartSpaceScale*t.spaceRight))/2,P),a.fillTextMultiLine(t.graphSubTitle,0,0,a.textBaseline,Math.ceil(a.chartTextScale*t.graphSubTitleFontSize),!0),a.stroke(),a.restore()),0<k&&(t.yAxisLeft&&(a.save(),a.beginPath(),a.font=t.yAxisUnitFontStyle+" "+Math.ceil(a.chartTextScale*t.yAxisUnitFontSize).toString()+"px "+t.yAxisUnitFontFamily,a.fillStyle=t.yAxisUnitFontColor,a.textAlign="center",a.textBaseline="bottom",setTextBordersAndBackground(a,t.yAxisUnit,Math.ceil(a.chartTextScale*t.yAxisUnitFontSize),q,M,t.yAxisUnitBorders,t.yAxisUnitBordersColor,Math.ceil(a.chartLineScale*t.yAxisUnitBordersWidth),Math.ceil(a.chartSpaceScale*t.yAxisUnitBordersXSpace),Math.ceil(a.chartSpaceScale*t.yAxisUnitBordersYSpace),t.yAxisUnitBordersStyle,t.yAxisUnitBackgroundColor,"YAXISUNIT"),a.translate(q,M),a.fillTextMultiLine(t.yAxisUnit,0,0,a.textBaseline,Math.ceil(a.chartTextScale*t.yAxisUnitFontSize),!0),a.stroke(),a.restore()),t.yAxisRight&&(""==t.yAxisUnit2&&(t.yAxisUnit2=t.yAxisUnit),a.save(),a.beginPath(),a.font=t.yAxisUnitFontStyle+" "+Math.ceil(a.chartTextScale*t.yAxisUnitFontSize).toString()+"px "+t.yAxisUnitFontFamily,a.fillStyle=t.yAxisUnitFontColor,a.textAlign="center",a.textBaseline="bottom",setTextBordersAndBackground(a,t.yAxisUnit2,Math.ceil(a.chartTextScale*t.yAxisUnitFontSize),i-J,M,t.yAxisUnitBorders,t.yAxisUnitBordersColor,Math.ceil(a.chartLineScale*t.yAxisUnitBordersWidth),Math.ceil(a.chartSpaceScale*t.yAxisUnitBordersXSpace),Math.ceil(a.chartSpaceScale*t.yAxisUnitBordersYSpace),t.yAxisUnitBordersStyle,t.yAxisUnitBackgroundColor,"YAXISUNIT"),a.translate(i-J,M),a.fillTextMultiLine(t.yAxisUnit2,0,0,a.textBaseline,Math.ceil(a.chartTextScale*t.yAxisUnitFontSize),!0),a.stroke(),a.restore())),0<G&&(t.yAxisLeft&&(a.save(),a.beginPath(),a.font=t.yAxisFontStyle+" "+Math.ceil(a.chartTextScale*t.yAxisFontSize).toString()+"px "+t.yAxisFontFamily,a.fillStyle=t.yAxisFontColor,a.textAlign="center",a.textBaseline="bottom",a.translate(F,topNotUsableSize+availableHeight/2),a.rotate(-Math.PI/180*90),setTextBordersAndBackground(a,t.yAxisLabel,Math.ceil(a.chartTextScale*t.yAxisFontSize),0,0,t.yAxisLabelBorders,t.yAxisLabelBordersColor,Math.ceil(a.chartLineScale*t.yAxisLabelBordersWidth),Math.ceil(a.chartSpaceScale*t.yAxisLabelBordersXSpace),Math.ceil(a.chartSpaceScale*t.yAxisLabelBordersYSpace),t.yAxisLabelBordersStyle,t.yAxisLabelBackgroundColor,"YAXISLABELLEFT"),a.fillTextMultiLine(t.yAxisLabel,0,0,a.textBaseline,Math.ceil(a.chartTextScale*t.yAxisFontSize),!1),a.stroke(),a.restore()),t.yAxisRight&&(""==t.yAxisLabel2&&(t.yAxisLabel2=t.yAxisLabel),a.save(),a.beginPath(),a.font=t.yAxisFontStyle+" "+Math.ceil(a.chartTextScale*t.yAxisFontSize).toString()+"px "+t.yAxisFontFamily,a.fillStyle=t.yAxisFontColor,a.textAlign="center",a.textBaseline="bottom",a.translate(H,topNotUsableSize+availableHeight/2),a.rotate(+Math.PI/180*90),setTextBordersAndBackground(a,t.yAxisLabel2,Math.ceil(a.chartTextScale*t.yAxisFontSize),0,0,t.yAxisLabelBorders,t.yAxisLabelBordersColor,Math.ceil(a.chartLineScale*t.yAxisLabelBordersWidth),Math.ceil(a.chartSpaceScale*t.yAxisLabelBordersXSpace),Math.ceil(a.chartSpaceScale*t.yAxisLabelBordersYSpace),t.yAxisLabelBordersStyle,t.yAxisLabelBackgroundColor,"YAXISLABELLEFT"),a.fillTextMultiLine(t.yAxisLabel2,0,0,a.textBaseline,Math.ceil(a.chartTextScale*t.yAxisFontSize),!1),a.stroke(),a.restore())),0<E&&t.xAxisBottom&&(a.save(),a.beginPath(),a.font=t.xAxisFontStyle+" "+Math.ceil(a.chartTextScale*t.xAxisFontSize).toString()+"px "+t.xAxisFontFamily,a.fillStyle=t.xAxisFontColor,a.textAlign="center",a.textBaseline="bottom",setTextBordersAndBackground(a,t.xAxisLabel,Math.ceil(a.chartTextScale*t.xAxisFontSize),q+availableWidth/2,v,t.xAxisLabelBorders,t.xAxisLabelBordersColor,Math.ceil(a.chartLineScale*t.xAxisLabelBordersWidth),Math.ceil(a.chartSpaceScale*t.xAxisLabelBordersXSpace),Math.ceil(a.chartSpaceScale*t.xAxisLabelBordersYSpace),t.xAxisLabelBordersStyle,t.xAxisLabelBackgroundColor,"XAXISLABEL"),a.translate(q+availableWidth/2,v),a.fillTextMultiLine(t.xAxisLabel,0,0,a.textBaseline,Math.ceil(a.chartTextScale*t.xAxisFontSize),!0),a.stroke(),a.restore()),1<b||1==b&&t.showSingleLegend?(m={dispLegend:!0,xLegendBorderPos:N,yLegendBorderPos:w,legendBorderWidth:Z,legendBorderHeight:Q,nbLegendCols:C,xFirstLegendTextPos:B,yFirstLegendTextPos:I,drawLegendOnData:u,reverseLegend:r,legendBox:h,widestLegend:D},0!=t.legendPosY&&4!=t.legendPosY&&0!=t.legendPosX&&4!=t.legendPosX||(drawLegend(m,e,t,a,d),m={dispLegend:!1})):m={dispLegend:!1},""!=t.footNote.trim()&&(a.save(),a.font=t.footNoteFontStyle+" "+Math.ceil(a.chartTextScale*t.footNoteFontSize).toString()+"px "+t.footNoteFontFamily,a.fillStyle=t.footNoteFontColor,a.textAlign="center",a.textBaseline="bottom",setTextBordersAndBackground(a,t.footNote,Math.ceil(a.chartTextScale*t.footNoteFontSize),q+availableWidth/2,T,t.footNoteBorders,t.footNoteBordersColor,Math.ceil(a.chartLineScale*t.footNoteBordersWidth),Math.ceil(a.chartSpaceScale*t.footNoteBordersXSpace),Math.ceil(a.chartSpaceScale*t.footNoteBordersYSpace),t.footNoteBordersStyle,t.footNoteBackgroundColor,"FOOTNOTE"),a.translate(q+availableWidth/2,T),a.fillTextMultiLine(t.footNote,0,0,a.textBaseline,Math.ceil(a.chartTextScale*t.footNoteFontSize),!0),a.stroke(),a.restore()));return clrx=q,clrwidth=availableWidth,clry=topNotUsableSize,clrheight=availableHeight,{leftNotUsableSize:q,rightNotUsableSize:J,availableWidth:availableWidth,topNotUsableSize:topNotUsableSize,bottomNotUsableHeightWithoutXLabels:bottomNotUsableHeightWithoutXLabels,bottomNotUsableHeightWithXLabels:bottomNotUsableHeightWithXLabels,availableHeight:availableHeight,widestXLabel:_,highestXLabel:W,widestYLabel:Y,widestYLabel2:U,highestYLabel:X,rotateLabels:$,xLabelPos:K,clrx:clrx,clry:clry,clrwidth:clrwidth,clrheight:clrheight,legendMsr:m}}function drawLinesDataset(e,v,A,i,x,t){for(var V,P,a,n,l,o,r=[],R=0;R<v.datasets.length;R++)if("Line"==x[R][0].tpchart&&0!=x[R].length&&-1!=x[R][0].firstNotMissing){i.save(),i.beginPath(),prevAnimPc={mainVal:0,subVal:0,animVal:0};for(var s=-1,c=-1,T=x[R][0].firstNotMissing;T<=x[R][0].lastNotMissing;T++)if(!(0==prevAnimPc.animVal&&T>x[R][0].firstNotMissing))if(0==(o=animationCorrection(e,v,A,R,T,0)).mainVal&&0<prevAnimPc.mainVal&&-1!=s)i.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",i,v,x,v.datasets[R].datasetStrokeStyle,A.datasetStrokeStyle,R,T,{nullvalue:null}))),i.stroke(),i.setLineDash([]),A.extrapolateMissingData?(V=x[R][x[R][T].prevNotMissing].yAxisPos-prevAnimPc.mainVal*x[R][x[R][T].prevNotMissing].yPosOffset,P=x[R][T].yAxisPos-prevAnimPc.mainVal*x[R][x[R][T-1].nextNotMissing].yPosOffset,n=x[R][T-1].nextNotMissing-x[R][T].prevNotMissing,l=(T-1-x[R][T].prevNotMissing+prevAnimPc.subVal)/n,a=V+l*(P-V),m(r,i,x[R][T-1].xPos+prevAnimPc.subVal*(x[R][T].xPos-x[R][T-1].xPos),a,A,v,x,R),y(r,i,A,R),i.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",i,v,x,v.datasets[R].datasetStrokeStyle,A.datasetStrokeStyle,R,T,{nullvalue:null}))),i.stroke(),i.setLineDash([]),i.strokeStyle="rgba(0,0,0,0)",A.datasetFill&&(i.lineTo(x[R][T-1].xPos+prevAnimPc.subVal*(x[R][T].xPos-x[R][T-1].xPos),x[R][T].yAxisPos),i.lineTo(x[R][s].xPos,x[R][s].xAxisPosY-x[R][0].zeroY),i.closePath(),i.fillStyle=setOptionValue(1,"COLOR",i,v,x,v.datasets[R].fillColor,A.defaultFillColor,R,T,{animationValue:o.mainVal,xPosLeft:x[R][0].xPos,yPosBottom:Math.max(x[R][0].yAxisPos,x[R][0].yAxisPos-(A.animationLeftToRight?1:1*o.mainVal)*x[R][0].lminvalue_offset),xPosRight:x[R][v.datasets[R].data.length-1].xPos,yPosTop:Math.min(x[R][0].yAxisPos,x[R][0].yAxisPos-(A.animationLeftToRight?1:1*o.mainVal)*x[R][0].lmaxvalue_offset)}),i.fill(),s=-1)):void 0!==x[R][T].value&&(m(r,i,x[R][T-1].xPos+prevAnimPc.subVal*(x[R][T].xPos-x[R][T-1].xPos),x[R][T].yAxisPos-prevAnimPc.mainVal*x[R][x[R][T-1].nextNotMissing].yPosOffset,A,v,x,R),y(r,i,A,R),i.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",i,v,x,v.datasets[R].datasetStrokeStyle,A.datasetStrokeStyle,R,T,{nullvalue:null}))),i.stroke(),i.setLineDash([]),i.strokeStyle="rgba(0,0,0,0)",A.datasetFill&&(i.lineTo(x[R][T-1].xPos+prevAnimPc.subVal*(x[R][T].xPos-x[R][T-1].xPos),x[R][T].yAxisPos),i.lineTo(x[R][s].xPos,x[R][s].xAxisPosY-x[R][0].zeroY),i.closePath(),i.fillStyle=setOptionValue(1,"COLOR",i,v,x,v.datasets[R].fillColor,A.defaultFillColor,R,T,{animationValue:o.mainVal,xPosLeft:x[R][0].xPos,yPosBottom:Math.max(x[R][0].yAxisPos,x[R][0].yAxisPos-(A.animationLeftToRight?1:1*o.mainVal)*x[R][0].lminvalue_offset),xPosRight:x[R][v.datasets[R].data.length-1].xPos,yPosTop:Math.min(x[R][0].yAxisPos,x[R][0].yAxisPos-(A.animationLeftToRight?1:1*o.mainVal)*x[R][0].lmaxvalue_offset)}),i.fill())),prevAnimPc=o;else switch(0==o.totVal?(i.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",i,v,x,v.datasets[R].datasetStrokeStyle,A.datasetStrokeStyle,R,T,{nullvalue:null}))),i.stroke(),i.setLineDash([]),i.strokeStyle="rgba(0,0,0,0)"):(i.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",i,v,x,v.datasets[R].datasetStrokeStyle,A.datasetStrokeStyle,R,T,{nullvalue:null}))),i.stroke(),i.setLineDash([]),i.strokeStyle=setOptionValue(1,"STROKECOLOR",i,v,x,v.datasets[R].strokeColor,A.defaultStrokeColor,R,T,{nullvalue:null})),prevAnimPc=o,typeof v.datasets[R].data[T]){case"undefined":if(A.extrapolateMissingData)0<o.subVal&&(c=x[R][T].xPos+o.subVal*(x[R][T+1].xPos-x[R][T].xPos),V=x[R][x[R][T+1].prevNotMissing].yAxisPos-x[R][x[R][T+1].prevNotMissing].yPosOffset,P=x[R][x[R][T].nextNotMissing].yAxisPos-x[R][x[R][T].nextNotMissing].yPosOffset,n=x[R][T].nextNotMissing-x[R][T+1].prevNotMissing,l=(T-x[R][T+1].prevNotMissing+prevAnimPc.subVal)/n,a=V+l*(P-V),m(r,i,x[R][T].xPos+o.subVal*(x[R][T+1].xPos-x[R][T].xPos),a,A,v,x,R));else{if(-1==s)continue;y(r,i,A,R),i.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",i,v,x,v.datasets[R].datasetStrokeStyle,A.datasetStrokeStyle,R,T,{nullvalue:null}))),i.stroke(),i.setLineDash([]),A.datasetFill&&-1!=s&&(c=-1,i.strokeStyle="rgba(0,0,0,0)",i.lineTo(x[R][T-1].xPos,x[R][T-1].yAxisPos),i.lineTo(x[R][s].xPos,x[R][s].yAxisPos),i.closePath(),i.fillStyle=setOptionValue(1,"COLOR",i,v,x,v.datasets[R].fillColor,A.defaultFillColor,R,T,{animationValue:o.mainVal,xPosLeft:x[R][0].xPos,yPosBottom:Math.max(x[R][0].yAxisPos,x[R][0].yAxisPos-(A.animationLeftToRight?1:1*o.mainVal)*x[R][0].lminvalue_offset),xPosRight:x[R][v.datasets[R].data.length-1].xPos,yPosTop:Math.min(x[R][0].yAxisPos,x[R][0].yAxisPos-(A.animationLeftToRight?1:1*o.mainVal)*x[R][0].lmaxvalue_offset)}),i.fill()),i.beginPath(),prevAnimPc={mainVal:0,subVal:0},s=-1}break;default:i.lineWidth=Math.ceil(i.chartLineScale*A.datasetStrokeWidth),-1==s?(s=T,i.beginPath(),i.moveTo(x[R][T].xPos,x[R][T].yAxisPos-o.mainVal*x[R][T].yPosOffset),S(r,x[R][T].xPos,x[R][T].yAxisPos-o.mainVal*x[R][T].yPosOffset,R),c=x[R][T].xPos):(c=x[R][T].xPos,m(r,i,x[R][T].xPos,x[R][T].yAxisPos-o.mainVal*x[R][T].yPosOffset,A,v,x,R)),0<o.subVal&&-1!=x[R][T].nextNotMissing&&(A.extrapolateMissing||x[R][T].nextNotMissing==T+1)&&(c=x[R][T].xPos+o.subVal*(x[R][T+1].xPos-x[R][T].xPos),V=x[R][x[R][T+1].prevNotMissing].yAxisPos-x[R][x[R][T+1].prevNotMissing].yPosOffset,P=x[R][x[R][T].nextNotMissing].yAxisPos-x[R][x[R][T].nextNotMissing].yPosOffset,a=V+o.subVal*(P-V),m(r,i,x[R][T].xPos+o.subVal*(x[R][T+1].xPos-x[R][T].xPos),a,A,v,x,R))}if(y(r,i,A,R),i.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",i,v,x,v.datasets[R].datasetStrokeStyle,A.datasetStrokeStyle,R,T,{nullvalue:null}))),i.stroke(),i.setLineDash([]),A.datasetFill&&0<=s&&(i.strokeStyle="rgba(0,0,0,0)",i.lineTo(c,x[R][0].xAxisPosY-x[R][0].zeroY),i.lineTo(x[R][s].xPos,x[R][s].xAxisPosY-x[R][0].zeroY),i.closePath(),i.fillStyle=setOptionValue(1,"COLOR",i,v,x,v.datasets[R].fillColor,A.defaultFillColor,R,-1,{animationValue:o.mainVal,xPosLeft:x[R][0].xPos,yPosBottom:Math.max(x[R][0].yAxisPos,x[R][0].yAxisPos-(A.animationLeftToRight?1:1*o.mainVal)*x[R][0].lminvalue_offset),xPosRight:x[R][v.datasets[R].data.length-1].xPos,yPosTop:Math.min(x[R][0].yAxisPos,x[R][0].yAxisPos-(A.animationLeftToRight?1:1*o.mainVal)*x[R][0].lmaxvalue_offset)}),i.fill()),i.restore(),A.pointDot&&1<=e)for(T=0;T<v.datasets[R].data.length;T++)if(void 0!==v.datasets[R].data[T]&&(0<(o=animationCorrection(e,v,A,R,T,0)).mainVal||!A.animationLeftToRight)){i.beginPath(),i.fillStyle=setOptionValue(1,"MARKERFILLCOLOR",i,v,x,v.datasets[R].pointColor,A.defaultStrokeColor,R,T,{nullvalue:!0}),i.strokeStyle=setOptionValue(1,"MARKERSTROKESTYLE",i,v,x,v.datasets[R].pointStrokeColor,A.defaultStrokeColor,R,T,{nullvalue:!0}),i.lineWidth=setOptionValue(i.chartLineScale,"MARKERLINEWIDTH",i,v,x,v.datasets[R].pointDotStrokeWidth,A.pointDotStrokeWidth,R,T,{nullvalue:!0});var u=setOptionValue(1,"MARKERSHAPE",i,v,x,v.datasets[R].markerShape,A.markerShape,R,T,{nullvalue:!0}),h=setOptionValue(i.chartSpaceScale,"MARKERRADIUS",i,v,x,v.datasets[R].pointDotRadius,A.pointDotRadius,R,T,{nullvalue:!0}),d=setOptionValue(1,"MARKERSTROKESTYLE",i,v,x,v.datasets[R].pointDotStrokeStyle,A.pointDotStrokeStyle,R,T,{nullvalue:!0});drawMarker(i,x[R][T].xPos,x[R][T].yAxisPos-o.mainVal*x[R][T].yPosOffset,u,h,d)}if(e>=A.animationStopValue)for(T=0;T<v.datasets[R].data.length;T++)if(void 0!==v.datasets[R].data[T]&&(setOptionValue(1,"ANNOTATEDISPLAY",i,v,x,void 0,A.annotateDisplay,R,T,{nullValue:!0})&&(jsGraphAnnotate[i.ChartNewId][jsGraphAnnotate[i.ChartNewId].length]=["POINT",R,T,x]),setOptionValue(1,"INGRAPHDATASHOW",i,v,x,void 0,A.inGraphDataShow,R,T,{nullValue:!0}))){i.save(),i.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",i,v,x,void 0,A.inGraphDataAlign,R,T,{nullValue:!0}),i.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",i,v,x,void 0,A.inGraphDataVAlign,R,T,{nullValue:!0}),i.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",i,v,x,void 0,A.inGraphDataFontStyle,R,T,{nullValue:!0})+" "+setOptionValue(i.chartTextScale,"INGRAPHDATAFONTSIZE",i,v,x,void 0,A.inGraphDataFontSize,R,T,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",i,v,x,void 0,A.inGraphDataFontFamily,R,T,{nullValue:!0}),i.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",i,v,x,void 0,A.inGraphDataFontColor,R,T,{nullValue:!0});var p=setOptionValue(i.chartSpaceScale,"INGRAPHDATAPADDINGX",i,v,x,void 0,A.inGraphDataPaddingX,R,T,{nullValue:!0}),g=setOptionValue(i.chartSpaceScale,"INGRAPHDATAPADDINGY",i,v,x,void 0,A.inGraphDataPaddingY,R,T,{nullValue:!0}),f=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",i,v,x,void 0,A.inGraphDataTmpl,R,T,{nullValue:!0}),x[R][T],A);i.translate(x[R][T].xPos+p,x[R][T].yAxisPos-o.mainVal*x[R][T].yPosOffset-g),i.rotate(setOptionValue(1,"INGRAPHDATAROTATE",i,v,x,void 0,A.inGraphDataRotate,R,T,{nullValue:!0})*(Math.PI/180)),setTextBordersAndBackground(i,f,setOptionValue(i.chartTextScale,"INGRAPHDATAFONTSIZE",i,v,x,void 0,A.inGraphDataFontSize,R,T,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",i,v,x,void 0,A.inGraphDataBorders,R,T,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",i,v,x,void 0,A.inGraphDataBordersColor,R,T,{nullValue:!0}),setOptionValue(i.chartLineScale,"INGRAPHDATABORDERSWIDTH",i,v,x,void 0,A.inGraphDataBordersWidth,R,T,{nullValue:!0}),setOptionValue(i.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",i,v,x,void 0,A.inGraphDataBordersXSpace,R,T,{nullValue:!0}),setOptionValue(i.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",i,v,x,void 0,A.inGraphDataBordersYSpace,R,T,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",i,v,x,void 0,A.inGraphDataBordersStyle,R,T,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",i,v,x,void 0,A.inGraphDataBackgroundColor,R,T,{nullValue:!0}),"INGRAPHDATA"),i.fillTextMultiLine(f,0,0,i.textBaseline,setOptionValue(i.chartTextScale,"INGRAPHDATAFONTSIZE",i,v,x,void 0,A.inGraphDataFontSize,R,T,{nullValue:!0}),!0),i.restore()}}function S(e,t,a,n){setOptionValue(1,"BEZIERCURVE",i,v,x,void 0,A.bezierCurve,n,-1,{nullValue:!0})&&(e.length=0,e.push(t),e.push(a))}function m(e,t,a,n,i,l,o,r){setOptionValue(1,"BEZIERCURVE",t,l,o,void 0,i.bezierCurve,r,-1,{nullValue:!0})?(e.push(a),e.push(n)):t.lineTo(a,n)}function y(e,t,a,n){setOptionValue(1,"BEZIERCURVE",t,v,x,void 0,a.bezierCurve,n,-1,{nullValue:!0})&&(minimumpos=x[n][0].xAxisPosY,maximumpos=x[n][0].xAxisPosY-x[n][0].calculatedScale.steps*x[n][0].scaleHop,function(e,t,a,n,i){var l=[],o=t.length;if(t.push(2*t[o-2]-t[o-4]),t.push(2*t[o-1]-t[o-3]),4==o)return e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]);for(var r=0;r<o-2;r+=2)l=l.concat((s=t[r],c=t[r+1],u=t[r+2],h=t[r+3],d=t[r+4],p=t[r+5],g=a,void 0,f=Math.sqrt(Math.pow(u-s,2)+Math.pow(h-c,2)),S=Math.sqrt(Math.pow(d-u,2)+Math.pow(p-h,2)),[u+(m=g*f/(f+S))*(s-d),h+m*(c-p),u-(y=g-m)*(s-d),h-y*(c-p)]));var s,c,u,h,d,p,g,f,S,m,y;for(e.beginPath(),e.strokeStyle=setOptionValue(1,"STROKECOLOR",e,v,x,v.datasets[R].strokeColor,A.defaultStrokeColor,R,T,{nullvalue:null}),e.lineWidth=Math.ceil(e.chartLineScale*A.datasetStrokeWidth),e.moveTo(t[0],t[1]),e.quadraticCurveTo(l[0],Math.max(Math.min(l[1],n),i),t[2],t[3]),e.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",e,v,x,v.datasets[R].datasetStrokeStyle,A.datasetStrokeStyle,R,T,{nullvalue:null}))),r=2;r<t.length-3;r+=2)V=Math.max(Math.min(l[2*r-1],n),i),P=Math.max(Math.min(l[2*r+1],n),i),e.bezierCurveTo(l[2*r-2],V,l[2*r],P,t[r+2],t[r+3]);e.stroke()}(t,e,setOptionValue(1,"BEZIERCURVETENSION",t,v,x,void 0,a.bezierCurveTension,n,-1,{nullValue:!0}),minimumpos,maximumpos),e.length=0)}i.setLineDash([])}function log10(e){return Math.log(e)/Math.LN10}function setRect(e,t){t.clearRect?t.multiGraph||(clear(e),e.clearRect(0,0,width,height)):(clear(e),e.clearRect(0,0,width,height),e.fillStyle=t.savePngBackgroundColor,e.strokeStyle=t.savePngBackgroundColor,e.beginPath(),e.moveTo(0,0),e.lineTo(0,e.canvas.height),e.lineTo(e.canvas.width,e.canvas.height),e.lineTo(e.canvas.width,0),e.lineTo(0,0),e.stroke(),e.fill())}function defMouse(l,o,r){if("function"==typeof r.annotateDisplay)!0;else if("object"==typeof r.annotateDisplay)for(var e=0;e<r.annotateDisplay.length;e++)r.annotateDisplay[e]&&!0;else todoannotage=r.annotateDisplay;function t(e,t,a){if("function"==typeof t){var n=e+" "+t.name;n in l._eventListeners&&(l.canvas.removeEventListener?l.canvas.removeEventListener(e,l._eventListeners[n]):l.canvas.detachEvent&&l.canvas.detachEvent(e,l._eventListeners[n])),l._eventListeners[n]=i,l.canvas.addEventListener?("mousewheel"==e&&(e="DOMMouseScroll"),l.canvas.addEventListener(e,i,!1)):l.canvas.attachEvent&&l.canvas.attachEvent("on"+e,i)}function i(e){(null==a||a(e))&&doMouseAction(r,l,e,o,"mouseaction",t)}}isBooleanOptionTrue(void 0,r.annotateDisplay)&&(0==cursorDivCreated&&(oCursor=new makeCursorObj("divCursor")),isIE()<9&&0!=isIE()?l.canvas.attachEvent("on"+r.annotateFunction.split(" ")[0],function(e){("left"==r.annotateFunction.split(" ")[1]&&1==e.which||"middle"==r.annotateFunction.split(" ")[1]&&2==e.which||"right"==r.annotateFunction.split(" ")[1]&&3==e.which||"string"!=typeof r.annotateFunction.split(" ")[1])&&doMouseAction(r,l,e,o,"annotate",r.mouseDownRight)}):l.canvas.addEventListener(r.annotateFunction.split(" ")[0],function(e){("left"==r.annotateFunction.split(" ")[1]&&1==e.which||"middle"==r.annotateFunction.split(" ")[1]&&2==e.which||"right"==r.annotateFunction.split(" ")[1]&&3==e.which||"string"!=typeof r.annotateFunction.split(" ")[1])&&doMouseAction(r,l,e,o,"annotate",r.mouseDownRight)},!1)),r.savePng&&(isIE()<9&&0!=isIE()?l.canvas.attachEvent("on"+r.savePngFunction.split(" ")[0],function(e){("left"==r.savePngFunction.split(" ")[1]&&1==e.which||"middle"==r.savePngFunction.split(" ")[1]&&2==e.which||"right"==r.savePngFunction.split(" ")[1]&&3==e.which||"string"!=typeof r.savePngFunction.split(" ")[1])&&saveCanvas(l,o,r)}):l.canvas.addEventListener(r.savePngFunction.split(" ")[0],function(e){("left"==r.savePngFunction.split(" ")[1]&&1==e.which||"middle"==r.savePngFunction.split(" ")[1]&&2==e.which||"right"==r.savePngFunction.split(" ")[1]&&3==e.which||"string"!=typeof r.savePngFunction.split(" ")[1])&&saveCanvas(l,o,r)},!1)),isIE()<9&&0!=isIE()?l.canvas.attachEvent("onmousewheel",function(e){cursorDivCreated&&(document.getElementById("divCursor").style.display="none")}):l.canvas.addEventListener("DOMMouseScroll",function(e){cursorDivCreated&&(document.getElementById("divCursor").style.display="none")},!1),t("mousedown",r.mouseDownLeft,function(e){return 1==e.which}),t("mousedown",r.mouseDownMiddle,function(e){return 2==e.which}),t("mousedown",r.mouseDownRight,function(e){return 3==e.which}),t("mousemove",r.mouseMove),t("mouseout",r.mouseOut),t("mousewheel",r.mouseWheel)}};var map,dataLayer,countryLayer=[],fadeout=!1,colors={technology:"#3eb9e3",technologyRGB:"62, 185, 227",telecoms:"#ff8a54",telecomsRGB:"255, 138, 84",retail:"#a7da4d",retailRGB:"167, 218, 77",fastfood:"#ef5b63",fastfoodRGB:"239, 91, 99",softdrinks:"#63a7af",softdrinksRGB:"99, 167, 175",cars:"#ec77dc",carsRGB:"236, 119, 220",globalbanks:"#a992ed",globalbanksRGB:"169, 146, 237",luxury:"#ffec7d",luxuryRGB:"255, 236, 125",oilandgas:"#d9a162",oilandgasRGB:"217, 161, 98"},charJSPersonalDefaultOptionsHorizontalBar={barStrokeWidth:0,barValueSpacing:0,inGraphDataShow:!0,xAxisBottom:!1,inGraphDataFontColor:"#000",inGraphDataXPosition:3,inGraphDataPaddingX:-7,inGraphDataAlign:"right",inGraphDataTmpl:"M$ <%=v3%>",inGraphDataFontFamily:"proxima-nova",inGraphDataFontSize:12,scaleFontColor:"#666",scaleFontFamily:"inconsolata",scaleFontSize:14,barDatasetSpacing:1,responsive:!0,graphMin:0,scaleShowGridLines:!1,scaleShowLine:!1,showYAxisMin:!1,animation:!0,yAxisRight:!1,maintainAspectRatio:!1};function is_touch_device(){return"ontouchstart"in window||"onmsgesturechange"in window}$(function(){is_touch_device()&&(!0,$("body").addClass("touch"));var e=$("#down canvas")[0].getContext("2d");e.beginPath(),e.moveTo(10,10),e.lineTo(50,30),e.lineTo(90,10),e.lineWidth=3,e.strokeStyle="rgba(255,255,255,0.9)",e.stroke();var t=$("#up canvas")[0].getContext("2d");t.beginPath(),t.moveTo(5,25),t.lineTo(20,15),t.lineTo(35,25),t.lineWidth=2,t.strokeStyle="rgba(255,255,255,0.9)",t.stroke();var a=$("#scrollPrev canvas")[0].getContext("2d");a.beginPath(),a.moveTo(20,15),a.lineTo(12,25),a.lineTo(20,35),a.lineWidth=2,a.strokeStyle="rgba(255,255,255,0.9)",a.stroke();var n=$("#scrollNext canvas")[0].getContext("2d");n.beginPath(),n.moveTo(15,15),n.lineTo(23,25),n.lineTo(15,35),n.lineWidth=2,n.strokeStyle="rgba(255,255,255,0.9)",n.stroke();L.Map=L.Map.extend({openPopup:function(e){return this.closePopup(),this._popup=e,this.addLayer(e).fire("popupopen",{popup:this._popup})}}),(map=L.map("map",{legendControl:!1,infoControl:!1,scrollWheelZoom:!1,zoomControl:!1,attributionControl:!1,center:[50,-40],zoom:3,minZoom:2,maxZoom:7,worldCopyJump:!0})).addLayer(new L.TileLayer("images/maptiles/{z}/{x}/{y}.png")),map.setMaxBounds([[-180,-180],[180,180]]),L.control.zoom({position:"topright"}).addTo(map);var i=new OverlappingMarkerSpiderfier(map);(dataLayer=L.mapbox.featureLayer().addTo(map)).on("layeradd",function(e){e.layer.setIcon(L.divIcon({className:"marker "+e.layer.feature.properties.Category.replace(/ /g,"").toLowerCase(),iconSize:[e.layer.feature.properties.Pin,e.layer.feature.properties.Pin],html:'<div class="markerInner">&nbsp;</div>'})),i.addMarker(e.layer)}),dataLayer.setGeoJSON(data);var o=[],r=[];function l(){dataLayer.off("mouseover click"),dataLayer.eachLayer(function(e){var t=e.feature.properties.Brand.replace(/ /g,"").toLowerCase(),a=e.feature.properties.Category.replace(/ /g,"").toLowerCase(),n='<div class="img"><img src="images/logos/'+t+'.svg" alt="'+e.feature.properties.Brand+'" /></div><div class="info"><div class="left"><div class="headline">Brand Value</div><div class="value"><div class="currency">$</div><div class="number"><div>'+e.feature.properties.Value2018.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")+'</div><div class="unit">Million</div></div></div></div><div class="right"><div class="headline">Rank \'18</div><div class="rank">'+e.feature.properties.Rank2018+'.</div></div></div><div class="chart"><canvas id="chart-'+e.feature.properties.Rank2018+'"></canvas></div>';e.bindPopup(n,{closeButton:!1,className:a});var i="rgba(33,33,33,.9)";colors[a]&&(i="rgba("+colors[a+"RGB"]+",.9)");var l="#FFF";"luxury"==a&&(l="#000"),r[e.feature.properties.Rank2018]={inGraphDataFontColor:l},o[e.feature.properties.Rank2018]={labels:["2010","2011","2012","2013","2014","2015","2016","2017","2018"],datasets:[{fillColor:i,strokeColor:"rgba(0,0,0,0)",data:[e.feature.properties.Value2010,e.feature.properties.Value2011,e.feature.properties.Value2012,e.feature.properties.Value2013,e.feature.properties.Value2014,e.feature.properties.Value2015,e.feature.properties.Value2016,e.feature.properties.Value2017,e.feature.properties.Value2018]}]}}),dataLayer.on("mouseover click",function(e){var t=$(e.layer._icon);"finished"!==t.data("transition-status")&&t.hasClass("spiderfied")||function(e){e.layer.openPopup(),$(".leaflet-popup-pane");var t,a=$(".leaflet-popup"),n='<div class="popup-container">'+a.html()+"</div>";a.html(n),t=e.layer.feature.properties.Rank2018,s[t]=$("#chart-"+t).get(0).getContext("2d"),c[t]=new Chart(s[t]),c[t].HorizontalBar(o[t],r[t])}(e)}),dataLayer.on("mouseout",function(e){}),$(".marker").on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){return"deleted"===$(this).data("transition-status")?$(this).data("transition-status",null):$(this).data("transition-status","finished"),!1})}var s=[],c=[];function u(t){$("#map").removeClass("spiderfied"),$(".marker").removeClass("spiderfied"),fadeout||(fadeout=!0,$(".marker").addClass("fadeout"),window.setTimeout(function(){fadeout=!1,dataLayer.setFilter(function(e){return!(!t||"false"==t)&&("All"==t||e.properties.Category===t)}),l()},200))}u();var h,d=$("#content section"),p=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],g=$("#nav li"),f=!1,S=skrollr.init({forceHeight:!0,smoothScrolling:!0,render:function(){d.each(function(e){if($(this).hasClass("skrollable-between")){var t=$("#nav li:eq("+e+")");if(h&&h!=t.text())return;h&&h==t.text()&&(h=!1),f=!1,p[e]||($("svg.leaflet-zoom-animated path").css("stroke","transparent"),g.removeClass("active"),t.addClass("active"),u(t.text()),a=$(this).attr("id"),history.pushState(null,null,"#/"+a),p[e]=!0)}else p[e]&&(p[e]=!1);var a}),0!=$("section.skrollable-between").length||f||(g.removeClass("active"),u(),f=!0)},mobileCheck:function(){return!1}}),m=!1;skrollr.menu.init(S,{animate:!0,easing:"linear",scale:1,duration:function(e,t){return 500},handleLink:function(e){return!!m&&(h=$(e).text(),$(e).data("scroll"))}}),Pace.on("done",function(){m=!0,(hash=window.location.hash.substr(2))&&(h=$("#"+hash).text(),S.animateTo($("#"+hash).data("scroll")))});var y,v,A=$("#navBar"),x=$("#navBar ul"),V=$("#scrollPrev"),P=$("#scrollNext"),R=!1,T=!1;function k(){(y=x.position().left)<0&&!R?(V.addClass("active"),M(V,"prev"),R=!0):0<=y&&(V.removeClass("active"),R=!1),0<(v=y-A.width()+x.width())&&!T?(P.addClass("active"),M(P,"next"),T=!0):v<=0&&(P.removeClass("active"),T=!1)}function M(e,t){e.on("click",function(){var e;"prev"==(e=t)?A.animate({scrollLeft:-(y+150)},300):"next"==e&&A.animate({scrollLeft:-(y-150)},300)})}A.on("scroll",function(){k()}),$(window).on("resize",function(){k()}),k()});